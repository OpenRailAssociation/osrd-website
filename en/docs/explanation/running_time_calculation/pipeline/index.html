<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.100.2"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Pipeline | OSRD</title><meta name=description content="The walk calculation in OSRD is a 4-step process, each using the envelopes system:

Construction of the most restrictive speed profile
Addition of the …"><meta property="og:title" content="Pipeline"><meta property="og:description" content="The walk calculation in OSRD is a 4-step process, each using the envelopes system:
Construction of the most restrictive speed profile Addition of the different braking curves Adding the different acceleration curves and checking the constant speed curves Application of allowance(s) &nbsp;
Calculation of the Most Restricted Speed Profile (MRSP) A first envelope is calculated at the beginning of the simulation by grouping all static velocity limits:
maximum line speed maximum speed of rolling stock temporary speed limits (e."><meta property="og:type" content="article"><meta property="og:url" content="https://osrd.fr/en/docs/explanation/running_time_calculation/pipeline/"><meta property="article:section" content="docs"><meta property="og:site_name" content="OSRD"><meta itemprop=name content="Pipeline"><meta itemprop=description content="The walk calculation in OSRD is a 4-step process, each using the envelopes system:
Construction of the most restrictive speed profile Addition of the different braking curves Adding the different acceleration curves and checking the constant speed curves Application of allowance(s) &nbsp;
Calculation of the Most Restricted Speed Profile (MRSP) A first envelope is calculated at the beginning of the simulation by grouping all static velocity limits:
maximum line speed maximum speed of rolling stock temporary speed limits (e."><meta itemprop=wordCount content="731"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Pipeline"><meta name=twitter:description content="The walk calculation in OSRD is a 4-step process, each using the envelopes system:
Construction of the most restrictive speed profile Addition of the different braking curves Adding the different acceleration curves and checking the constant speed curves Application of allowance(s) &nbsp;
Calculation of the Most Restricted Speed Profile (MRSP) A first envelope is calculated at the beginning of the simulation by grouping all static velocity limits:
maximum line speed maximum speed of rolling stock temporary speed limits (e."><link rel=preload href=/scss/main.min.92bf0b164067bad26df1391f99770f4fd936375dfd7e65b6ce2c86c8ce993cce.css as=style><link href=/scss/main.min.92bf0b164067bad26df1391f99770f4fd936375dfd7e65b6ce2c86c8ce993cce.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.6.0.min.js integrity=sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK crossorigin=anonymous></script>
<script src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/en/><span class=navbar-logo><svg id="Calque_1" data-name="Calque 1" viewBox="0 0 64 64" sodipodi:docname="logo_osrd_seul_blanc.svg" width="64" height="64" inkscape:version="1.1.2 (0a00cf5339, 2022-02-04)" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:cc="http://creativecommons.org/ns#" xmlns:dc="http://purl.org/dc/elements/1.1/"><sodipodi:namedview pagecolor="#ffffff" bordercolor="#666666" borderopacity="1" objecttolerance="10" gridtolerance="10" guidetolerance="10" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-width="3440" inkscape:window-height="1380" id="namedview47" showgrid="false" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0" inkscape:zoom="3.0016455" inkscape:cx="12.992873" inkscape:cy="71.294228" inkscape:window-x="0" inkscape:window-y="32" inkscape:window-maximized="1" inkscape:current-layer="Calque_1" inkscape:pagecheckerboard="0"/><defs id="defs4"><style id="style2">.cls-1,.cls-2,.cls-3,.cls-4,.cls-7{fill:none;stroke-linecap:round;stroke-linejoin:round}.cls-1,.cls-4{stroke:#aa026d}.cls-1,.cls-2{stroke-width:10px}.cls-2,.cls-3{stroke:#71196f}.cls-3,.cls-4{stroke-width:5px}.cls-5,.cls-6{font-size:119.48px}.cls-5{fill:#71196f;font-family:AvenirLTStd-Heavy,Avenir LT Std}.cls-6{fill:#aa026d;font-family:AvenirLTStd-Medium,Avenir LT Std}.cls-7{stroke:#fff;stroke-width:.75px}</style></defs><title id="title6">logo-OSRD_</title><g id="g847" transform="matrix(0.09645818,0,0,0.09645818,7.1489968,-1.215e-6)"><path inkscape:connector-curvature="0" class="cls-1" d="m389.52 658.5v-88c0-199.26-91.83-331.42-279.82-362" id="path8" style="stroke:#f2f2f2;stroke-opacity:1"/><path inkscape:connector-curvature="0" class="cls-1" d="m298.5 658.5v-87.07c0-156.89-75.34-258.73-229.71-276" id="path10" style="stroke:#f2f2f2;stroke-opacity:1"/><path inkscape:connector-curvature="0" class="cls-2" d="m216.77 658.5v-70.49c0-121.76-58.68-200.64-178.91-213.6" id="path12" style="stroke:#a0a0a0;stroke-opacity:1"/><path inkscape:connector-curvature="0" class="cls-2" d="M125.74 658.5V617.36C125.74 533.21 86.13 478 5 466.95" id="path14" style="stroke:#a0a0a0;stroke-opacity:1"/><path inkscape:connector-curvature="0" class="cls-2" d="m125.74 658.5v-88c0-199.26 91.84-331.42 279.83-362" id="path16" style="stroke:#a0a0a0;stroke-opacity:1"/><path inkscape:connector-curvature="0" class="cls-2" d="m216.77 658.5v-87.07c0-156.89 75.34-258.73 229.71-276" id="path18" style="stroke:#a0a0a0;stroke-opacity:1"/><path inkscape:connector-curvature="0" class="cls-1" d="m298.5 658.5v-70.49c0-121.76 58.68-200.64 178.91-213.6" id="path20" style="stroke:#f2f2f2;stroke-opacity:1"/><path inkscape:connector-curvature="0" class="cls-1" d="m389.52 658.5v-41.14c0-84.15 39.62-139.36 120.75-150.41" id="path22" style="stroke:#f2f2f2;stroke-opacity:1"/><line class="cls-3" x1="126" y1="642.5" x2="126" y2="122.5" id="line24" style="stroke:#a0a0a0;stroke-opacity:1"/><line class="cls-3" x1="217" y1="642.5" x2="217" y2="2.5" id="line26" style="stroke:#a0a0a0;stroke-opacity:1"/><line class="cls-4" x1="299" y1="642.5" x2="299" y2="2.5" id="line28" style="stroke:#f7f7f7;stroke-opacity:1"/><line class="cls-4" x1="390" y1="642.5" x2="390" y2="122.5" id="line30" style="stroke:#f2f2f2;stroke-opacity:1"/></g></svg></span><span class=font-weight-bold>OSRD</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/en/about/><span>About</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/en/docs/><span class=active>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/en/blog/><span>Blog</span></a></li><li class="nav-item dropdown mr-4 d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/fr/docs/explanation/running_time_calculation/pipeline/>Français</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.74fcf88cbaa2ee1a6a1239654ec574ba.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site…" aria-label="Search this site…" autocomplete=off data-offline-search-index-json-src=/offline-search-index.74fcf88cbaa2ee1a6a1239654ec574ba.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav foldable-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>English</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/fr/docs/explanation/running_time_calculation/pipeline/>Français</a></div></div><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-endocs-li><a href=/en/docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-endocs><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocstutorials-li><input type=checkbox id=m-endocstutorials-check>
<label for=m-endocstutorials-check><a href=/en/docs/tutorials/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-endocstutorials><span>Tutorials</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-endocsexplanation-li><input type=checkbox id=m-endocsexplanation-check checked>
<label for=m-endocsexplanation-check><a href=/en/docs/explanation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-endocsexplanation><span>Explanations</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsexplanationdata-model-li><input type=checkbox id=m-endocsexplanationdata-model-check>
<label for=m-endocsexplanationdata-model-check><a href=/en/docs/explanation/data-model/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-endocsexplanationdata-model><span>Infrastructure data</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-endocsexplanationrunning_time_calculation-li><input type=checkbox id=m-endocsexplanationrunning_time_calculation-check checked>
<label for=m-endocsexplanationrunning_time_calculation-check><a href=/en/docs/explanation/running_time_calculation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-endocsexplanationrunning_time_calculation><span>Running time calculation</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsexplanationrunning_time_calculationphysical_modeling-li><input type=checkbox id=m-endocsexplanationrunning_time_calculationphysical_modeling-check>
<label for=m-endocsexplanationrunning_time_calculationphysical_modeling-check><a href=/en/docs/explanation/running_time_calculation/physical_modeling/ title="Physical modeling" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-endocsexplanationrunning_time_calculationphysical_modeling><span>1 - Physical modeling</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsexplanationrunning_time_calculationnumerical_integration-li><input type=checkbox id=m-endocsexplanationrunning_time_calculationnumerical_integration-check>
<label for=m-endocsexplanationrunning_time_calculationnumerical_integration-check><a href=/en/docs/explanation/running_time_calculation/numerical_integration/ title="Numerical integration" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-endocsexplanationrunning_time_calculationnumerical_integration><span>2 - Numerical integration</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsexplanationrunning_time_calculationenvelopes_system-li><input type=checkbox id=m-endocsexplanationrunning_time_calculationenvelopes_system-check>
<label for=m-endocsexplanationrunning_time_calculationenvelopes_system-check><a href=/en/docs/explanation/running_time_calculation/envelopes_system/ title="Envelopes system" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-endocsexplanationrunning_time_calculationenvelopes_system><span>3 - Envelopes system</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsexplanationrunning_time_calculationpipeline-li><input type=checkbox id=m-endocsexplanationrunning_time_calculationpipeline-check>
<label for=m-endocsexplanationrunning_time_calculationpipeline-check><a href=/en/docs/explanation/running_time_calculation/pipeline/ title=Pipeline class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-endocsexplanationrunning_time_calculationpipeline><span class=td-sidebar-nav-active-item>4 - Pipeline</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsexplanationrunning_time_calculationallowances-li><input type=checkbox id=m-endocsexplanationrunning_time_calculationallowances-check>
<label for=m-endocsexplanationrunning_time_calculationallowances-check><a href=/en/docs/explanation/running_time_calculation/allowances/ title=Allowances class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-endocsexplanationrunning_time_calculationallowances><span>5 - Allowances</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-endocsguides-li><input type=checkbox id=m-endocsguides-check>
<label for=m-endocsguides-check><a href=/en/docs/guides/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-endocsguides><span>How-to Guides</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-endocsguidescontribute-li><input type=checkbox id=m-endocsguidescontribute-check>
<label for=m-endocsguidescontribute-check><a href=/en/docs/guides/contribute/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-endocsguidescontribute><span>Contribute to OSRD</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsguidescontributebug-reports-li><input type=checkbox id=m-endocsguidescontributebug-reports-check>
<label for=m-endocsguidescontributebug-reports-check><a href=/en/docs/guides/contribute/bug-reports/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-endocsguidescontributebug-reports><span>Report issues</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsguidescontributecode-li><input type=checkbox id=m-endocsguidescontributecode-check>
<label for=m-endocsguidescontributecode-check><a href=/en/docs/guides/contribute/code/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-endocsguidescontributecode><span>Contribute code</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsguidescontributeconventions-li><input type=checkbox id=m-endocsguidescontributeconventions-check>
<label for=m-endocsguidescontributeconventions-check><a href=/en/docs/guides/contribute/conventions/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-endocsguidescontributeconventions><span>Style guide</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsguidescontributecode-reviews-li><input type=checkbox id=m-endocsguidescontributecode-reviews-check>
<label for=m-endocsguidescontributecode-reviews-check><a href=/en/docs/guides/contribute/code-reviews/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-endocsguidescontributecode-reviews><span>Review code</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-endocsreference-li><input type=checkbox id=m-endocsreference-check>
<label for=m-endocsreference-check><a href=/en/docs/reference/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-endocsreference><span>Technical reference</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsreferencearchitecture-li><input type=checkbox id=m-endocsreferencearchitecture-check>
<label for=m-endocsreferencearchitecture-check><a href=/en/docs/reference/architecture/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-endocsreferencearchitecture><span>Architecture</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-endocsreferencedesign-docs-li><input type=checkbox id=m-endocsreferencedesign-docs-check>
<label for=m-endocsreferencedesign-docs-check><a href=/en/docs/reference/design-docs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-endocsreferencedesign-docs><span>Design documents</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsreferencedesign-docsconflict-detection-li><input type=checkbox id=m-endocsreferencedesign-docsconflict-detection-check>
<label for=m-endocsreferencedesign-docsconflict-detection-check><a href=/en/docs/reference/design-docs/conflict-detection/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-endocsreferencedesign-docsconflict-detection><span>Conflict detection</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-endocsreferencedesign-docsstdcm-li><input type=checkbox id=m-endocsreferencedesign-docsstdcm-check>
<label for=m-endocsreferencedesign-docsstdcm-check><a href=/en/docs/reference/design-docs/stdcm/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-endocsreferencedesign-docsstdcm><span>Search for last-minute train slots (STDCM)</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsreferencedesign-docsstdcmdomain_context-li><input type=checkbox id=m-endocsreferencedesign-docsstdcmdomain_context-check>
<label for=m-endocsreferencedesign-docsstdcmdomain_context-check><a href=/en/docs/reference/design-docs/stdcm/domain_context/ title="Business context" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-endocsreferencedesign-docsstdcmdomain_context><span>1 - Business Context</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-endocsreferencedesign-docsstdcmpathfinding_module-li><input type=checkbox id=m-endocsreferencedesign-docsstdcmpathfinding_module-check>
<label for=m-endocsreferencedesign-docsstdcmpathfinding_module-check><a href=/en/docs/reference/design-docs/stdcm/pathfinding_module/ title="Train slot search module" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-endocsreferencedesign-docsstdcmpathfinding_module><span>2 - Train slot search module</span></a></label><ul class="ul-5 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsreferencedesign-docsstdcmpathfinding_moduleinputs-li><input type=checkbox id=m-endocsreferencedesign-docsstdcmpathfinding_moduleinputs-check>
<label for=m-endocsreferencedesign-docsstdcmpathfinding_moduleinputs-check><a href=/en/docs/reference/design-docs/stdcm/pathfinding_module/inputs/ title="Input format" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-endocsreferencedesign-docsstdcmpathfinding_moduleinputs><span>1 - Input format</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsreferencedesign-docsstdcmpathfinding_modulegraph_representation-li><input type=checkbox id=m-endocsreferencedesign-docsstdcmpathfinding_modulegraph_representation-check>
<label for=m-endocsreferencedesign-docsstdcmpathfinding_modulegraph_representation-check><a href=/en/docs/reference/design-docs/stdcm/pathfinding_module/graph_representation/ title="Encoding the solution space" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-endocsreferencedesign-docsstdcmpathfinding_modulegraph_representation><span>2 - Encoding the solution space</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsreferencedesign-docsstdcmpathfinding_modulebacktracking-li><input type=checkbox id=m-endocsreferencedesign-docsstdcmpathfinding_modulebacktracking-check>
<label for=m-endocsreferencedesign-docsstdcmpathfinding_modulebacktracking-check><a href=/en/docs/reference/design-docs/stdcm/pathfinding_module/backtracking/ title="Discontinuities and backtracking" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-endocsreferencedesign-docsstdcmpathfinding_modulebacktracking><span>3 - Discontinuities and backtracking</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsreferencedesign-docsstdcmpathfinding_moduleconflict_avoidance-li><input type=checkbox id=m-endocsreferencedesign-docsstdcmpathfinding_moduleconflict_avoidance-check>
<label for=m-endocsreferencedesign-docsstdcmpathfinding_moduleconflict_avoidance-check><a href=/en/docs/reference/design-docs/stdcm/pathfinding_module/conflict_avoidance/ title="Conflict avoidance" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-endocsreferencedesign-docsstdcmpathfinding_moduleconflict_avoidance><span>4 - Conflict avoidance</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsreferencedesign-docsstdcmpathfinding_modulestandard_allowance-li><input type=checkbox id=m-endocsreferencedesign-docsstdcmpathfinding_modulestandard_allowance-check>
<label for=m-endocsreferencedesign-docsstdcmpathfinding_modulestandard_allowance-check><a href=/en/docs/reference/design-docs/stdcm/pathfinding_module/standard_allowance/ title="Standard allowance" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-endocsreferencedesign-docsstdcmpathfinding_modulestandard_allowance><span>5 - Standard allowance</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsreferencedesign-docsstdcmpathfinding_moduleimplementation_details-li><input type=checkbox id=m-endocsreferencedesign-docsstdcmpathfinding_moduleimplementation_details-check>
<label for=m-endocsreferencedesign-docsstdcmpathfinding_moduleimplementation_details-check><a href=/en/docs/reference/design-docs/stdcm/pathfinding_module/implementation_details/ title="Implementation details" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-endocsreferencedesign-docsstdcmpathfinding_moduleimplementation_details><span>6 - Implementation details</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsreferencedesign-docsstdcmsignaling_interface-li><input type=checkbox id=m-endocsreferencedesign-docsstdcmsignaling_interface-check>
<label for=m-endocsreferencedesign-docsstdcmsignaling_interface-check><a href=/en/docs/reference/design-docs/stdcm/signaling_interface/ title="Signaling interface" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-endocsreferencedesign-docsstdcmsignaling_interface><span>3 - Signaling interface</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-endocsreferenceapis-li><input type=checkbox id=m-endocsreferenceapis-check>
<label for=m-endocsreferenceapis-check><a href=/en/docs/reference/apis/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-endocsreferenceapis><span>APIs</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsreferenceapisjson_schema-li><input type=checkbox id=m-endocsreferenceapisjson_schema-check>
<label for=m-endocsreferenceapisjson_schema-check><a href=/en/docs/reference/apis/json_schema/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-endocsreferenceapisjson_schema><span>JSON Schemas</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-endocsrailway-wiki-li><input type=checkbox id=m-endocsrailway-wiki-check>
<label for=m-endocsrailway-wiki-check><a href=/en/docs/railway-wiki/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-endocsrailway-wiki><span>Railway Wiki</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-endocsrailway-wikiglossary-li><input type=checkbox id=m-endocsrailway-wikiglossary-check>
<label for=m-endocsrailway-wikiglossary-check><a href=/en/docs/railway-wiki/glossary/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-endocsrailway-wikiglossary><span>Glossary</span></a></label></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/DGEXSolutions/osrd-website/tree/dev/content/en/docs/explanation/running_time_calculation/pipeline.en.md class=td-page-meta--view target=_blank rel=noopener><i class="fa fa-file-alt fa-fw"></i> View page source</a>
<a href=https://github.com/DGEXSolutions/osrd-website/edit/dev/content/en/docs/explanation/running_time_calculation/pipeline.en.md class=td-page-meta--edit target=_blank rel=noopener><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/DGEXSolutions/osrd-website/new/dev/content/en/docs/explanation/running_time_calculation/pipeline.en.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" class=td-page-meta--child target=_blank rel=noopener><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/DGEXSolutions/osrd-website/issues/new?title=Pipeline" class=td-page-meta--issue target=_blank rel=noopener><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/DGEXSolutions/osrd/issues/new class=td-page-meta--project-issue target=_blank rel=noopener><i class="fas fa-tasks fa-fw"></i> Create project issue</a>
<a id=print href=https://osrd.fr/en/docs/explanation/running_time_calculation/_print/><i class="fa fa-print fa-fw"></i> Print entire section</a></div><div class=td-toc><nav id=TableOfContents><ul><li><ul><li><a href=#calculation-of-the-most-restricted-speed-profile-mrsp>Calculation of the Most Restricted Speed Profile (MRSP)</a></li><li><a href=#calculation-of-the-max-speed-profile>Calculation of the Max Speed Profile</a></li><li><a href=#calculation-of-the-max-effort-profile>Calculation of the Max Effort Profile</a></li><li><a href=#application-of-allowances>Application of allowance(s)</a></li></ul></li></ul></nav></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=https://osrd.fr/en/docs/>Documentation</a></li><li class=breadcrumb-item><a href=https://osrd.fr/en/docs/explanation/>Explanations</a></li><li class=breadcrumb-item><a href=https://osrd.fr/en/docs/explanation/running_time_calculation/>Running time calculation</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://osrd.fr/en/docs/explanation/running_time_calculation/pipeline/>4 - Pipeline</a></li></ol></nav><div class=td-content><h1>Pipeline</h1><header class=article-meta></header><p>The walk calculation in OSRD is a 4-step process, each using <a href=../envelopes_system>the envelopes system</a>:</p><ol><li><a href=#calculation-of-the-most-restricted-speed-profile-mrsp>Construction of the most restrictive speed profile</a></li><li><a href=#calculation-of-the-max-speed-profile>Addition of the different braking curves</a></li><li><a href=#calculation-of-the-max-effort-profile>Adding the different acceleration curves and checking the constant speed curves</a></li><li><a href=#application-of-allowances>Application of allowance(s)</a></li></ol><p>&nbsp;</p><font color=#aa026d><h3 id=calculation-of-the-most-restricted-speed-profile-mrsp>Calculation of the Most Restricted Speed Profile (MRSP)</h3></font><p>A first envelope is calculated at the beginning of the simulation by grouping all static velocity limits:</p><ul><li>maximum line speed</li><li>maximum speed of rolling stock</li><li>temporary speed limits (e.g. in case of works on a line)</li><li>speed limits by train category</li><li>speed limits according to train load</li><li>speed limits corresponding to signposts</li></ul><p>The length of the train is also taken into account to ensure that the train does not accelerate until its tail leaves the slowest speed zone. An offset is then applied to the red dashed curve. The resulting envelope (black curve) is called the <strong>Most Restricted Speed Profile (MRSP)</strong>. It is on this envelope that the following steps will be calculated.</p><p><img src=../mrsp.png alt="Most Restricted Speed Profile"></p><blockquote><p>The red dotted line represents the maximum permitted speed depending on the position.
The black line represents the MRSP where the train length has been taken into account.</p></blockquote><p>It should be noted that the different envelopeParts composing the MRSP are input data, so they do not correspond to curves with a physical reality.</p><font color=#aa026d><h3 id=calculation-of-the-max-speed-profile>Calculation of the Max Speed Profile</h3></font><p>Starting from the MRSP, all braking curves are calculated using the overlay system (see <a href=../envelopes_system/#a-specific-interface-in-the-osrd-core-service>here</a> for more details on overlays), i.e. by creating envelopeParts which will be more restrictive than the MRSP. The resulting curve is called <strong>Max Speed Profile</strong>. This is the maximum speed envelope of the train, taking into account its braking capabilities.</p><p>Since braking curves have an imposed end point and the braking equation has no analytical solution, it is impossible to predict their starting point. The braking curves are therefore calculated backwards from their target point, i.e. the point in space where a certain speed limit is imposed (finite target speed) or the stopping point (zero target speed).</p><p><img src=../msp.png alt="Max Speed Profile"></p><p>For historical reasons in hourly production, braking curves are calculated at SNCF with a fixed deceleration, the so-called hourly deceleration (typically ~0.5m/s²) without taking into account the other forces. This method has therefore also been implemented in OSRD, allowing the calculation of braking in two different ways: with this hourly rate or with a braking force that is simply added to the other forces.</p><font color=#aa026d><h3 id=calculation-of-the-max-effort-profile>Calculation of the Max Effort Profile</h3></font><p>For each point corresponding to an increase in speed in the MRSP or at the end of a stop braking curve, an acceleration curve is calculated. The acceleration curves are calculated taking into account all active forces (traction force, driving resistance, weight) and therefore have a physical meaning.</p><p>For envelopeParts whose physical meaning has not yet been verified (which at this stage are the constant speed running phases, always coming from the MRSP), a new integration of the equations of motion is performed. This last calculation is necessary to take into account possible speed stalls in case the train is physically unable to hold its speed, typically in the presence of steep ramps (see <a href=../envelopes_system/#given-envelopes-vs.-calculated-envelopes>this example</a>).</p><p>The envelope that results from the addition of the acceleration curves and the verification of the speed plates is called the <strong>Max Effort Profile</strong>.</p><p><img src=../mep.png alt="Max Effort Profile"></p><p>At this stage, the resulting envelope is continuous and has a physical meaning from start to finish. The train accelerates to the maximum, runs as fast as possible according to the different speed limits and driving capabilities, and brakes to the maximum. The resulting travel calculation is called the <strong>basic running time</strong>. It corresponds to the fastest possible route for the given rolling stock on the given route.</p><font color=#aa026d><h3 id=application-of-allowances>Application of allowance(s)</h3></font><p>After the calculation of the basic run (corresponding to the Max Effort Profile in OSRD), it is possible to apply allowances. Allowances are additions of extra time to the train&rsquo;s journey. They are used to allow the train to catch up if necessary or for other operational purposes (more details on allowances <a href=../allowances>here</a>).</p><p>A new <strong>Allowances</strong> envelope is therefore calculated using overlays to distribute the allowance requested by the user over the maximum effort envelope calculated previously.</p><p><img src=../allowances.png alt=Allowances></p><p>In the OSRD running calculation it is possible to distribute the allowances in a linear way, by lowering all speeds by a certain factor, or in an economic way, i.e. by minimising the energy consumption during the train run.</p></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank rel=noopener href=https://github.com/DGEXSolutions/osrd aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2023 OSRD contributors. All Rights Reserved</small></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js integrity="sha512-UR25UO94eTnCVwjbXozyeVd6ZqpaAE9naiEUBK/A+QDbfSTQFhPGj5lOR6d8tsgbBk84Ggb5A3EkjsOgPRPcKA==" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/mermaid@8.13.4/dist/mermaid.min.js integrity="sha512-JERecFUBbsm75UpkVheAuDOE8NdHjQBrPACfEQYPwvPG+fjgCpHAz1Jw2ci9EXmd3DdfiWth3O3CQvcfEg8gsA==" crossorigin=anonymous></script><style>.markmap>svg{width:100%;height:300px}</style><script>window.markmap={autoLoader:{manual:!0}}</script><script src=https://cdn.jsdelivr.net/npm/markmap-autoloader></script>
<script src=/js/tabpane-persist.js></script>
<script src=/js/main.min.928c8c2d8b4f463998503da833bc465b748d40b80287e0398a7e1a38ab1c87a2.js integrity="sha256-koyMLYtPRjmYUD2oM7xGW3SNQLgCh+A5in4aOKsch6I=" crossorigin=anonymous></script></body></html>