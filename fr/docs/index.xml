<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>OSRD ‚Äì Documentation</title><link>https://osrd.fr/fr/docs/</link><description>Recent content in Documentation on OSRD</description><generator>Hugo -- gohugo.io</generator><atom:link href="https://osrd.fr/fr/docs/index.xml" rel="self" type="application/rss+xml"/><item><title>Docs: Contexte m√©tier</title><link>https://osrd.fr/fr/docs/reference/design-docs/stdcm/domain_context/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/reference/design-docs/stdcm/domain_context/</guid><description>
&lt;p>Quelques d√©finitions :&lt;/p>
&lt;h3 id="la-capacit√©">La capacit√©&lt;/h3>
&lt;p>La &lt;strong>capacit√©&lt;/strong>, dans ce contexte, correspond √† la possibilit√© de
r√©server des √©l√©ments d&amp;rsquo;infrastructure pour permettre le passage
d&amp;rsquo;un train.&lt;/p>
&lt;p>La capacit√© s&amp;rsquo;exprime en fonction de l&amp;rsquo;espace et du temps :
la r√©servation d&amp;rsquo;un √©l√©ment peut bloquer une zone pr√©cise
qui devient inaccessible aux autres trains, et cette r√©servation
se fait sur un intervalle de temps.&lt;/p>
&lt;p>On peut la repr√©senter
sur un graphique, avec le temps en abscisse et la distance parcourue
sur un chemin en ordonn√©e.&lt;/p>
&lt;p>&lt;img src="space_time_chart.png" alt="Graphique espace temps">&lt;/p>
&lt;blockquote>
&lt;p>Exemple d&amp;rsquo;un graphique espace-temps montrant le passage d&amp;rsquo;un train.&lt;/p>
&lt;p>Les couleurs repr√©sentent ici les aspects des signaux, mais
montrent √©galement une consommation de la capacit√© :
quand ces blocs se superposent pour deux trains, ils sont en conflit.&lt;/p>
&lt;/blockquote>
&lt;p>Deux trains d&amp;rsquo;une grille horaire sont en &lt;strong>conflit&lt;/strong>
quand ils r√©servent en m√™me temps un m√™me objet, dans des
configurations incompatibles.&lt;/p>
&lt;p>&lt;img src="conflict.png" alt="Graphique espace temps avec conflit">&lt;/p>
&lt;blockquote>
&lt;p>Exemple d&amp;rsquo;un graphique espace-temps avec conflit : le second train
est plus rapide que le premier, ils sont en conflit sur la fin du trajet,
quand les rectangles se superposent.&lt;/p>
&lt;p>En essayant de simuler cette grille horaire, le second train serait
ralentis par des signaux indiquant de ralentir, provoqu√©s par la
pr√©sence du premier train.&lt;/p>
&lt;/blockquote>
&lt;p>La consommation de capacit√© est souvent repr√©sent√©e sous la forme de
rectangles car, dans les syst√®mes de signalisation les plus simples,
il s&amp;rsquo;agit de r√©servations d&amp;rsquo;une zone fixe dans l&amp;rsquo;espace pendant un intervalle de temps donn√©.&lt;/p>
&lt;h3 id="les-sillons-horaires">Les sillons horaires&lt;/h3>
&lt;p>Un &lt;strong>sillon&lt;/strong> correspond √† une r√©servation de capacit√© pour le
passage d&amp;rsquo;un train. Il est fix√© dans l&amp;rsquo;espace et dans le temps :
le temps de d√©part et le chemin emprunt√© sont connus.
Sur les graphiques espace-temps de cette page, un sillon correspond
√† l&amp;rsquo;ensemble des blocs pour un train.&lt;/p>
&lt;p>Dans un fonctionnement habituel, le gestionnaire d&amp;rsquo;infrastructure
(ex : SNCF R√©seau) propose des sillons √† la vente pour les entreprises
ferroviaires (ex : SNCF Voyageurs).&lt;/p>
&lt;p>√Ä une date donn√©e avant le jour de
circulation pr√©vu, tous les sillons sont attribu√©s. Mais &lt;strong>il peut rester
assez de capacit√© pour faire rouler plus de trains&lt;/strong>. Il est
possible de placer des trains entre les sillons d√©j√† √©tablis,
quand ces derniers sont suffisamment espac√©s ou n&amp;rsquo;ont pas
trouv√© d&amp;rsquo;acheteurs.&lt;/p>
&lt;p>La capacit√© restante apr√®s l&amp;rsquo;attribution des sillons est appel√©e
la &lt;strong>capacit√© r√©siduelle&lt;/strong>. Le probl√®me trait√© ici est la recherche
de sillons dans celle-ci.&lt;/p></description></item><item><title>Docs: Description du format d'entr√©e</title><link>https://osrd.fr/fr/docs/reference/design-docs/stdcm/pathfinding_module/inputs/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/reference/design-docs/stdcm/pathfinding_module/inputs/</guid><description>
&lt;p>Ce module prend plusieurs entr√©es pour effectuer une recherche de chemin :&lt;/p>
&lt;ul>
&lt;li>Un graphe d√©crivant l&amp;rsquo;infrastructure physique&lt;/li>
&lt;li>Des zones non disponibles selon des intervalles de temps&lt;/li>
&lt;li>Des points de d√©part et d&amp;rsquo;arriv√©e&lt;/li>
&lt;li>Une fen√™tre de d√©part&lt;/li>
&lt;li>Un temps de parcours maximal&lt;/li>
&lt;li>Des donn√©es de simulation (mat√©riel roulant, time step, marges, etc)&lt;/li>
&lt;/ul>
&lt;p>Parmi ces entr√©es, les deux premi√®res m√©ritent d&amp;rsquo;√™tre d√©taill√©es.&lt;/p>
&lt;h4 id="graphe-dinfrastructure">Graphe d&amp;rsquo;infrastructure&lt;/h4>
&lt;p>Aujourd&amp;rsquo;hui, le graphe donn√© en entr√©e correspond au graphe
des &lt;code>SignalingRoutes&lt;/code>. Mais il peut s&amp;rsquo;agir de n&amp;rsquo;importe quel graphe
orient√© permettant de naviguer l&amp;rsquo;infrastructure physique.&lt;/p>
&lt;p>Les seules contraintes sont : les ar√™tes doivent avoir une longueur,
et il doit √™tre possible d&amp;rsquo;effectuer un calcul de marche sur des
sections d&amp;rsquo;ar√™tes.&lt;/p>
&lt;h4 id="zones-non-disponibles">Zones non disponibles&lt;/h4>
&lt;p>Cette entr√©e repr√©sente les zones inaccessibles √† cause de contraintes
de capacit√©.&lt;/p>
&lt;p>√Ä chaque ar√™te du graphe est associ√© un ensemble de &amp;ldquo;bloc d&amp;rsquo;occupation&amp;rdquo;.
Un bloc est compos√© d&amp;rsquo;une distance de d√©but et de fin (relative
au d√©but de l&amp;rsquo;ar√™te), et un temps de d√©but et de fin.
Il est consid√©r√© que la &lt;em>t√™te&lt;/em> du train ne peut pas se trouver dans cette
zone dans l&amp;rsquo;intervalle de temps donn√©.&lt;/p>
&lt;p>Ces blocs encodent √©galement la marge de grille : s&amp;rsquo;il faut rajouter
&lt;code>x&lt;/code> secondes de marges avant le train, chaque bloc est agrandi de
&lt;code>x&lt;/code> secondes dans un sens.&lt;/p>
&lt;p>Pour donner un exemple, avec la grille horaire suivante, en
supposant une ar√™te par canton, un train de 42m et
une distance de visibilit√© de 10m :&lt;/p>
&lt;p>&lt;img src="unavailable_sections.svg" alt="Exemple de sections non disponibles">&lt;/p>
&lt;ul>
&lt;li>
&lt;p>L&amp;rsquo;occupation du canton 1 de t=0 √† t=300 le rend non disponible
dans sa globalit√© pendant cette p√©riode.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Les 10 derniers m√®tres du canton 1 sont non disponibles de t=300 √† t=360,
car le signal en d√©but de canton 2 doit √™tre vert quand le conducteur le voit.
Il est possible de consid√©rer que ce bloc-ci commence √† t=130
(quand le canton du signal suivant n&amp;rsquo;affiche plus de vert),
une superposition
de blocs n&amp;rsquo;√©tant pas probl√©matique.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>L&amp;rsquo;occupation du canton 2 de t=130 √† t=360 le rend non disponible
pendant cette p√©riode. Il est √©galement non disponible √† partir de
t=0, car la pr√©sence d&amp;rsquo;un train provoquerait un avertissement sur
le canton 1 quand il est utilis√© par le train d√©j√† planifi√©.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Les 42 premiers m√®tres du canton 3 sont non disponibles de t=0 √† t=360,
car la queue du train doit avoir lib√©r√© le second canton.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Le reste du canton 3 est non disponible dans sa globalit√©
de t=280 √† t=360.&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>Docs: Mod√©lisation physique</title><link>https://osrd.fr/fr/docs/explanation/running_time_calculation/physical_modeling/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/explanation/running_time_calculation/physical_modeling/</guid><description>
&lt;!-- script to auto-render KaTeX extension : $$...$$ for outline formula, \\(...\\) for inline formula -->
&lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css" integrity="sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB" crossorigin="anonymous">
&lt;script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js" integrity="sha384-0fdwu/T/EQMsQlrHCCHoH10pkPLlKA1jL5dFyUOvB3lfeT2540/2g6YgSi2BL14p" crossorigin="anonymous">&lt;/script>
&lt;script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
onload="renderMathInElement(document.body);">&lt;/script>
&lt;script src="https://polyfill.io/v3/polyfill.min.js?features=es6">&lt;/script>
&lt;script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">&lt;/script>
&lt;p>La mod√©lisation physique joue un r√¥le important dans le c≈ìur de calcul d&amp;rsquo;OSRD. C&amp;rsquo;est elle qui nous permet de simuler la circulation des trains, et elle doit √™tre aussi r√©aliste que possible.&lt;/p>
&lt;font color=#aa026d>
&lt;h3 id="bilan-des-forces">Bilan des forces&lt;/h3>
&lt;/font>
&lt;p>Pour calculer le d√©placement du train au cours du temps, il faut d&amp;rsquo;abord calculer sa vitesse √† chaque instant.
Une mani√®re simple d&amp;rsquo;obtenir cette vitesse est de passer par le calcul de l&amp;rsquo;acc√©l√©ration.
Gr√¢ce au principe fondamental de la dynamique, l&amp;rsquo;acc√©l√©ration du train √† chaque instant est directement d√©pendant
des diff√©rentes forces qui lui sont appliqu√©es : $$ \sum \vec{F}=m\vec{a} $$&lt;/p>
&lt;p>&lt;img src="../forces.png" alt="Marche">&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>Traction&lt;/strong> : La valeur de la force de traction \(F_{mot}\) d√©pend de plusieurs facteurs :&lt;/p>
&lt;ul>
&lt;li>du mat√©riel roulant&lt;/li>
&lt;li>de la vitesse du train \(v^{\prime}x\), selon la courbe effort-vitesse ci-dessous :&lt;/li>
&lt;/ul>
&lt;p>$$ {\vec{F_{mot}}(v_{x^{\prime}}, x^{\prime})=F_{mot}(v_{x^{\prime}}, x^{\prime})\vec{e_x^{\prime}}} $$&lt;/p>
&lt;p>&lt;img src="../effort-vitesse.png" alt="Marche" title="Exemple de courbe effort-vitesse d'un train">&lt;/p>
&lt;blockquote>
&lt;p>L&amp;rsquo;axe &lt;strong>x&lt;/strong> repr√©sente la vitesse du train en [km/h], l&amp;rsquo;axe &lt;strong>y&lt;/strong>, la valeur de la force de traction en [kN].&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>de l&amp;rsquo;action du conducteur, qui acc√©l√®re plus ou moins fort en fonction de l&amp;rsquo;endroit o√π il se trouve sur son trajet&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;br>
&lt;ul>
&lt;li>&lt;strong>Freinage&lt;/strong> : La valeur de la force de freinage \(F_{brk}\) d√©pend elle aussi du mat√©riel roulant et de l&amp;rsquo;action du conducteur mais poss√®de une valeur constante pour un mat√©riel donn√©. Dans l&amp;rsquo;√©tat actuel de la mod√©lisation, le freinage est soit nul, soit √† sa valeur maximale.&lt;/li>
&lt;/ul>
&lt;p>$$ \vec{F_{brk}}(x^{\prime})=-F_{brk}(x^{\prime}){\vec{e_{x^{\prime}}}} $$&lt;/p>
&lt;p>Une seconde approche de la mod√©lisation du freinage est l&amp;rsquo;approche dite horaire, car utilis√©e pour la production horaire √† la SNCF. Dans ce cas, la d√©c√©l√©ration est fixe et le freinage ne d√©pend plus des diff√©rentes forces appliqu√©es au train. Les valeurs de d√©c√©l√©ration typiques vont de 0.4 √† 0.7m/s¬≤.&lt;/p>
&lt;br>
&lt;ul>
&lt;li>&lt;strong>R√©sistance √† l&amp;rsquo;avancement&lt;/strong> : Pour mod√©liser la r√©sistance √† l‚Äôavancement du train on utilise la formule de Davis qui prend en compte tous les frottements et la r√©sistance a√©rodynamique de l‚Äôair. La valeur de la resistance √† l&amp;rsquo;avancement d√©pend de la vitesse \(v^{\prime}_x\). Les coefficients \(A\), \(B\), et \(C\) d√©pendent du mat√©riel roulant.&lt;/li>
&lt;/ul>
&lt;p>$$ {\vec{R}(v_{x^{\prime}})}=-(A+Bv_{x^{\prime}}+{Cv_{x^{\prime}}}^2){\vec{e_{x^{\prime}}}} $$&lt;/p>
&lt;br>
&lt;ul>
&lt;li>&lt;strong>Poids (pentes + virages)&lt;/strong> : La force du poids donn√©e par le produit entre la masse \(m\) du train et la constante gravitationnelle \(g\) est projet√©e sur les axes \(\vec{e_x}^{\prime}\) et \(\vec{e_y}^{\prime}\).Pour la projection, on utilise l&amp;rsquo;angle \(i(x^{\prime})\), qui est calcul√© √† partir de l&amp;rsquo;angle de d√©clivit√© \(s(x^{\prime})\) corrig√© par un facteur qui prend en compte l&amp;rsquo;effet du rayon de virage \(r(x^{\prime})\).&lt;/li>
&lt;/ul>
&lt;p>$$
\vec{P(x^{\prime})}=-mg\vec{e_y}(x^{\prime})=
-mg\Big[sin\big(i(x^{\prime})\big){\vec{e_{x^{\prime}}}(x^{\prime})}+cos\big(i(x^{\prime})\big){\vec{e_{{\prime}}}(x^{\prime})}\Big]
$$&lt;/p>
&lt;p>$$ i(x^{\prime})= s(x^{\prime})+\frac{800m}{r(x^{\prime})} $$&lt;/p>
&lt;br>
&lt;ul>
&lt;li>&lt;strong>R√©action du sol&lt;/strong> : La force de r√©action du sol compense simplement la composante verticale du poids, mais n&amp;rsquo;a pas d&amp;rsquo;impact sur la dynamique du train car elle n&amp;rsquo;a aucune composante selon l&amp;rsquo;axe \({\vec{e_x}^{\prime}}\).&lt;/li>
&lt;/ul>
&lt;p>$$ \vec{R_{gnd}}=R_{gnd}{\vec{e_{y^{\prime}}}} $$&lt;/p>
&lt;font color=#aa026d>
&lt;h3 id="equilibre-des-forces">Equilibre des forces&lt;/h3>
&lt;/font>
&lt;p>L&amp;rsquo;√©quation du principe fondamental de la dynamique projet√©e sur l&amp;rsquo;axe \({\vec{e_x}^{\prime}}\) (dans le r√©f√©rentiel du train) donne l&amp;rsquo;√©quation scalaire suivante :&lt;/p>
&lt;p>$$
a_{x^{\prime}}(t) = \frac{1}{m}\Big
[F_{mot}(v_{x^{\prime}}, x^{\prime})-F_{brk}(x^{\prime})-(A+Bv_{x^{\prime}}+{Cv_{x^{\prime}}}^2)-mgsin(i(x^{\prime}))\Big]
$$&lt;/p>
&lt;p>Celle-ci est ensuite simplifi√©e en consid√©rant que malgr√© la pente le train se d√©place sur un plan et en amalgamant
\(\vec{e_x}\) et \(\vec{e_x}^{\prime}\). La pente a toujours un impact sur le bilan des forces mais on consid√®re que le train ne se d√©place qu&amp;rsquo;horizontalement, ce qui donne l&amp;rsquo;√©quation simplifi√©e suivante :&lt;/p>
&lt;p>$$ a_{x}(t) = \frac{1}{m}\Big[F_{mot}(v_{x}, x)-F_{brk}(x)-(A+Bv_{x}+{Cv_{x}}^2)-mgsin(i(x))\Big] $$&lt;/p>
&lt;font color=#aa026d>
&lt;h3 id="r√©solution">R√©solution&lt;/h3>
&lt;/font>
&lt;p>La force motrice et la force de freinage d√©pendent de l&amp;rsquo;action du conducteur (il d√©cide d&amp;rsquo;acc√©l√©rer ou de freiner plus ou moins fort en fonction de la situation). Cette d√©pendance se traduit donc par une d√©pendance de ces deux forces √† la position du train. La composante du poids d√©pend elle aussi de la position du train, car provenant directement des pentes et des virages situ√©es sous ce dernier.&lt;/p>
&lt;p>De plus, la force motrice d√©pend de la vitesse du train (selon la courbe effort vitesse) tout comme la r√©sistance √†
l&amp;rsquo;avancement.&lt;/p>
&lt;p>Ces diff√©rentes d√©pendances rendent impossible la r√©solution analytique de cette √©quation, et l&amp;rsquo;acc√©l√©ration du train √† chaque instant doit √™tre calcul√©e par int√©gration num√©rique.&lt;/p></description></item><item><title>Docs: √âl√©ments mobiles</title><link>https://osrd.fr/fr/docs/reference/design-docs/interlocking/movable-elements/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/reference/design-docs/interlocking/movable-elements/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>Chaque √©l√©ment mobile, aiguille ou passage √† niveau, a une liste d&amp;rsquo;√©tats possibles.
Ces √©tats sont mutuellement exclusifs.&lt;/p>
&lt;h2 id="d√©pendances">D√©pendances&lt;/h2>
&lt;ul>
&lt;li>&lt;code>statique&lt;/code> une liste d&amp;rsquo;√©lements mobiles&lt;/li>
&lt;li>&lt;code>statique&lt;/code> liste des √©tats possibles de chaque √©l√©ment mobile&lt;/li>
&lt;/ul>
&lt;h2 id="op√©rations-possibles">Op√©rations possibles&lt;/h2>
&lt;ul>
&lt;li>observer un √©l√©ment mobile&lt;/li>
&lt;li>verrouiller / d√©verrouiller un √©l√©ment mobile&lt;/li>
&lt;li>bouger un √©l√©ment mobile&lt;/li>
&lt;/ul></description></item><item><title>Docs: Le design d'OSRD</title><link>https://osrd.fr/fr/docs/guides/design/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/guides/design/</guid><description>
&lt;p>Tout est pr√©sent√© dans un site d√©di√© &lt;a href="https://design.osrd.fr">https://design.osrd.fr&lt;/a>&lt;/p>
&lt;p>Un ¬´ design system ¬ª est en cours d&amp;rsquo;√©laboration.&lt;/p>
&lt;figure>&lt;a href="https://design.osrd.fr">
&lt;img src="https://osrd.fr/fr/docs/guides/design/images/design.webp"/> &lt;/a>
&lt;/figure></description></item><item><title>Docs: Le logo</title><link>https://osrd.fr/fr/docs/guides/logo/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/guides/logo/</guid><description>
&lt;p>Vous pouvez t√©l√©charger chaque logo ind√©pendamment en cliquant directement dessus, ou &lt;a href="pictures/logo-osrd.zip">tous les logos compress√©s dans un fichier zip&lt;/a>.&lt;/p>
&lt;p>Il est conseill√© de bien choisir le logo √† utiliser en fonction du fond sur lequel vous voulez l&amp;rsquo;afficher.&lt;/p>
&lt;p>La modification, ajout ou suppression de l&amp;rsquo;&lt;strong>ombrage&lt;/strong> autre que tel que pr√©sent√© dans les logos &lt;strong>ne sont pas autoris√©s&lt;/strong> (cela est valable plus globalement dans tout le design, le choix de mettre des ombres port√©es fait partie des r√©flexions de design, ce n&amp;rsquo;est pas un √©l√©ment variable).&lt;/p>
&lt;h3 id="officiel">Officiel&lt;/h3>
&lt;div style="display:inline-block;padding:16px;background-color:white">
&lt;a target="_blank" href="pictures/logo-osrd-color-black.svg">
&lt;img src="pictures/logo-osrd-color-black.svg" width=256>
&lt;/a>
&lt;/div>
&lt;h3 id="officiel-pour-les-fonds-sombres">Officiel pour les fonds sombres&lt;/h3>
&lt;div style="display:inline-block;padding:16px;background-color:#333">
&lt;a target="_blank" href="pictures/logo-osrd-color-white.svg">
&lt;img src="pictures/logo-osrd-color-white.svg" width=256>
&lt;/a>
&lt;/div>
&lt;h3 id="blanc">Blanc&lt;/h3>
&lt;div style="display:inline-block;padding:16px;background-color:#333">
&lt;a target="_blank" href="pictures/logo-osrd-white.svg">
&lt;img src="pictures/logo-osrd-white.svg" width=256>
&lt;/a>
&lt;/div>
&lt;h3 id="noir">Noir&lt;/h3>
&lt;div style="display:inline-block;padding:16px;background-color:white">
&lt;a target="_blank" href="pictures/logo-osrd-black.svg">
&lt;img src="pictures/logo-osrd-black.svg" width=256>
&lt;/a>
&lt;/div>
&lt;h3 id="favicons-logos-seuls">Favicons, logos seuls&lt;/h3>
&lt;div style="display:inline-block;padding:16px;background-color:white">
&lt;a target="_blank" href="pictures/fav-osrd-color.svg">
&lt;img src="pictures/fav-osrd-color.svg" width=64>
&lt;/a>
&lt;/div>
&lt;div style="display:inline-block;padding:16px;background-color:white;margin-left:16px">
&lt;a target="_blank" href="pictures/fav-osrd-black.svg">
&lt;img src="pictures/fav-osrd-black.svg" width=64>
&lt;/a>
&lt;/div>
&lt;div style="display:inline-block;padding:16px;background-color:#333;margin-left:16px">
&lt;a target="_blank" href="pictures/fav-osrd-white.svg">
&lt;img src="pictures/fav-osrd-white.svg" width=64>
&lt;/a>
&lt;/div>
&lt;h2 id="-ce-quon-ne-doit-pas-faire">üö´ Ce qu&amp;rsquo;on ne doit &lt;strong>pas&lt;/strong> faire&lt;/h2>
&lt;h4 id="trop-petit--16px-de-hauteur">Trop petit (&amp;lt; 16px de hauteur)&lt;/h4>
&lt;img src="pictures/dont/dont5.svg" style="height:32px">
&lt;h4 id="disproportion">Disproportion&lt;/h4>
&lt;img src="pictures/dont/dont1.svg" style="margin-left:16px;height:64px">
&lt;h4 id="changer-la-couleur-du-texte-ou-lombre-port√©e">Changer la couleur du texte ou l&amp;rsquo;ombre port√©e&lt;/h4>
&lt;img src="pictures/dont/dont2.svg" style="height:64px">
&lt;h4 id="changer-le-sens">Changer le sens&lt;/h4>
&lt;img src="pictures/dont/dont3.svg" style="margin-left:16px;height:64px">
&lt;h4 id="d√©formation">D√©formation&lt;/h4>
&lt;img src="pictures/dont/dont4.svg" style="height:64px">
&lt;h2 id="-ce-quon-peut-faire">‚úÖ Ce qu&amp;rsquo;on peut faire&lt;/h2>
&lt;h4 id="modification-de-la-couleur-interne-pour-un-√©v√®nement">Modification de la couleur interne pour un √©v√®nement&lt;/h4>
&lt;div>
&lt;a style="display:inline-block;padding:8px;background-color:white;" href="pictures/events/xmas-fav-osrd-color.svg" target="_blank">
&lt;img src="pictures/events/xmas-fav-osrd-color.svg" style="height:32px">
&lt;/a>
&lt;a style="display:inline-block;margin-left:8px;padding:8px;background-color:white;" href="pictures/events/xmas-logo-osrd-color-black.svg" target="_blank">
&lt;img src="pictures/events/xmas-logo-osrd-color-black.svg" style="height:32px">
&lt;/a>
&lt;a style="display:inline-block;margin-left:8px;padding:8px;background-color:#333" href="pictures/events/xmas-logo-osrd-color-white.svg">
&lt;img src="pictures/events/xmas-logo-osrd-color-white.svg" style="height:32px">
&lt;/a>
&lt;/div>
&lt;div style="margin-top:8px">
&lt;a style="display:inline-block;padding:8px;background-color:white;" href="pictures/events/proud-fav-osrd-color.svg" target="_blank">
&lt;img src="pictures/events/proud-fav-osrd-color.svg" style="height:32px">
&lt;/a>
&lt;a style="display:inline-block;margin-left:8px;padding:8px;background-color:white;" href="pictures/events/proud-logo-osrd-color-black.svg" target="_blank">
&lt;img src="pictures/events/proud-logo-osrd-color-black.svg" style="height:32px">
&lt;/a>
&lt;a style="display:inline-block;margin-left:8px;padding:8px;background-color:#333" href="pictures/events/proud-logo-osrd-color-white.svg">
&lt;img src="pictures/events/proud-logo-osrd-color-white.svg" style="height:32px">
&lt;/a>
&lt;/div>
&lt;h4 id="utilisation-seule-du-logo-sans-le-texte">Utilisation seule du logo (sans le texte)&lt;/h4>
&lt;div style="display:inline-block">
&lt;img src="pictures/fav-osrd-color.svg" style="height:64px">
&lt;/div>
&lt;h2 id="les-couleurs">Les couleurs&lt;/h2>
&lt;blockquote>
&lt;p>Ces couleurs sont &lt;strong>celles du logo&lt;/strong>, elles ne sont pas √† confondre avec celles du design global de l&amp;rsquo;interface d&amp;rsquo;OSRD.&lt;/p>
&lt;/blockquote>
&lt;p>&lt;span style="display:inline-block;background-color:#786abf;width:128px;height:128px;color:white;font-weight:bold;padding:16px;margin-top:16px">#786ABF&lt;/span>
&lt;span style="display:inline-block;background-color:#c7b2de;width:128px;height:128px;color:white;font-weight:bold;padding:16px;margin-top:16px;margin-left:16px">#C7B2DE&lt;/span>&lt;/p></description></item><item><title>Docs: Int√©gration num√©rique</title><link>https://osrd.fr/fr/docs/explanation/running_time_calculation/numerical_integration/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/explanation/running_time_calculation/numerical_integration/</guid><description>
&lt;!-- script to auto-render KaTeX extension : $$...$$ for outline formula, \\(...\\) for inline formula -->
&lt;link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css" integrity="sha384-KiWOvVjnN8qwAZbuQyWDIbfCLFhLXNETzBQjA/92pIowpC0d2O3nppDGQVgwd2nB" crossorigin="anonymous">
&lt;script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js" integrity="sha384-0fdwu/T/EQMsQlrHCCHoH10pkPLlKA1jL5dFyUOvB3lfeT2540/2g6YgSi2BL14p" crossorigin="anonymous">&lt;/script>
&lt;script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"
onload="renderMathInElement(document.body);">&lt;/script>
&lt;script src="https://polyfill.io/v3/polyfill.min.js?features=es6">&lt;/script>
&lt;script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">&lt;/script>
&lt;font color=#aa026d>
&lt;h3 id="introduction">Introduction&lt;/h3>
&lt;/font>
&lt;p>La mod√©lisation physique ayant montr√© que l&amp;rsquo;acc√©l√©ration du train √©tait influenc√©e par diff√©rents facteurs variant le long du trajet (pente, courbure, force de traction du moteur&amp;hellip;), le calcul doit passer par une m√©thode d&amp;rsquo;int√©gration num√©rique. Le trajet est alors s√©par√© en √©tapes suffisamment courtes pour consid√©rer tous ces facteurs comme constants, ce qui permet cette fois ci d&amp;rsquo;utiliser l&amp;rsquo;√©quation du mouvement pour calculer le d√©placement et la vitesse du train.&lt;/p>
&lt;p>La m√©thode d&amp;rsquo;int√©gration num√©rique d&amp;rsquo;Euler est la plus simple pour effectuer ce genre de calcul, mais elle pr√©sente un certain nombre d&amp;rsquo;inconv√©nients. Cet article explique la m√©thode d&amp;rsquo;Euler, pourquoi elle ne convient pas aux besoins d&amp;rsquo;OSRD et quelle m√©thode d&amp;rsquo;int√©gration doit √™tre utilis√©e √† la place.&lt;/p>
&lt;font color=#aa026d>
&lt;h3 id="la-m√©thode-deuler">La m√©thode d&amp;rsquo;Euler&lt;/h3>
&lt;/font>
&lt;p>La m√©thode d&amp;rsquo;Euler appliqu√©e √† l&amp;rsquo;int√©gration de l&amp;rsquo;√©quation du mouvement d&amp;rsquo;un train est :&lt;/p>
&lt;p>$$v(t+dt) = a(v(t), x(t))dt + v(t)$$&lt;/p>
&lt;p>$$x(t+dt) = \frac{1}{2}a(v(t), x(t))dt^2 + v(t)dt + x(t)$$&lt;/p>
&lt;center>
&lt;p>&lt;img src="../euler.png?style=method" alt="M√©thode d&amp;amp;rsquo;Euler">&lt;/p>
&lt;/center>
&lt;p>&amp;nbsp;&lt;/p>
&lt;h4 id="les-avantages-de-la-m√©thode-deuler">&lt;strong>Les avantages de la m√©thode d&amp;rsquo;Euler&lt;/strong>&lt;/h4>
&lt;p>La m√©thode d&amp;rsquo;Euler a pour avantages d&amp;rsquo;√™tre tr√®s simple √† impl√©menter et d&amp;rsquo;avoir un calcul plut√¥t rapide pour un pas de temps donn√©, en comparaison avec d&amp;rsquo;autres m√©thodes d&amp;rsquo;int√©gration num√©rique (voir &lt;a href="#le-choix-de-la-m%C3%A9thode-dint%C3%A9gration-pour-osrd">annexe&lt;/a>)&lt;/p>
&lt;h4 id="les-inconv√©nients-de-la-m√©thode-deuler">&lt;strong>Les inconv√©nients de la m√©thode d&amp;rsquo;Euler&lt;/strong>&lt;/h4>
&lt;p>La m√©thode d&amp;rsquo;int√©gration d&amp;rsquo;Euler pr√©sente un certain nombre de probl√®mes pour OSRD :&lt;/p>
&lt;ul>
&lt;li>Elle est relativement impr√©cise, et donc n√©cessite un faible pas de temps, ce qui g√©n√®re beaucoup de donn√©es.&lt;/li>
&lt;li>En int√©grant dans le temps, on ne conna√Æt que les conditions du point de d√©part du pas d&amp;rsquo;int√©gration (pente, param√®tres d&amp;rsquo;infrastructure, etc.) car on ne peut pas pr√©dire pr√©cis√©ment l&amp;rsquo;endroit o√π il se termine.&lt;/li>
&lt;li>On ne peut pas anticiper les futurs changements de directive : le train ne r√©agit qu&amp;rsquo;en comparant son √©tat actuel √† sa consigne au m√™me instant. Pour illustrer c&amp;rsquo;est un peu comme si le conducteur √©tait incapable de voir devant lui, alors que dans la r√©alit√© il anticipe en fonction des signaux, pentes, virages qu&amp;rsquo;il voit devant lui.&lt;/li>
&lt;/ul>
&lt;font color=#aa026d>
&lt;h3 id="la-m√©thode-runge-kutta-4">La m√©thode Runge-Kutta 4&lt;/h3>
&lt;/font>
&lt;p>La m√©thode Runge-Kutta 4 appliqu√©e √† l&amp;rsquo;int√©gration de l&amp;rsquo;√©quation du mouvement d&amp;rsquo;un train est :&lt;/p>
&lt;p>$$v(t+dt) = v(t) + \frac{1}{6}(k_1 + 2k_2 + 2k_3 + k_4)dt$$&lt;/p>
&lt;p>Avec :&lt;/p>
&lt;p>$$k_1 = a(v(t), x(t))$$&lt;/p>
&lt;p>$$k_2 = a\Big(v(t+k_1\frac{dt}{2}), x(t) + v(t)\frac{dt}{2} + k_1\frac{dt^2}{8}\Big)$$&lt;/p>
&lt;p>$$k_3 = a\Big(v(t+k_2\frac{dt}{2}), x(t) + v(t)\frac{dt}{2} + k_2\frac{dt^2}{8}\Big)$$&lt;/p>
&lt;p>$$k_4 = a\Big(v(t+k_3dt), x(t) + v(t)dt + k_3\frac{dt^2}{2}\Big)$$&lt;/p>
&lt;center>
&lt;p>&lt;img src="../rk4.png?style=method" alt="M√©thode de Runge-Kutta 4">&lt;/p>
&lt;/center>
&lt;p>&amp;nbsp;&lt;/p>
&lt;h4 id="les-avantages-de-la-m√©thode-de-runge-kutta-4">&lt;strong>Les avantages de la m√©thode de Runge Kutta 4&lt;/strong>&lt;/h4>
&lt;p>La m√©thode d&amp;rsquo;int√©gration de Runge Kutta 4 permet de r√©pondre aux diff√©rents probl√®mes soulev√©s par celle d&amp;rsquo;Euler :&lt;/p>
&lt;ul>
&lt;li>Elle permet d&amp;rsquo;anticiper les changements de directive au sein d&amp;rsquo;un pas de calcul, repr√©sentant ainsi davantage la r√©alit√© de conduite d&amp;rsquo;un train.&lt;/li>
&lt;li>Elle est plus pr√©cise pour le m√™me temps de calcul (voir &lt;a href="#le-choix-de-la-m%C3%A9thode-dint%C3%A9gration-pour-osrd">annexe&lt;/a>), permettant des √©tapes d&amp;rsquo;int√©gration plus grandes, donc moins de points de donn√©es.&lt;/li>
&lt;/ul>
&lt;h4 id="les-inconv√©nients-de-la-m√©thode-de-runge-kutta-4">&lt;strong>Les inconv√©nients de la m√©thode de Runge Kutta 4&lt;/strong>&lt;/h4>
&lt;p>Le seul inconv√©nient notable de la m√©thode de Runge Kutta 4 rencontr√© pour l&amp;rsquo;instant est sa difficult√© d&amp;rsquo;impl√©mentation.&lt;/p>
&lt;font color=#aa026d>
&lt;h3 id="le-choix-de-la-m√©thode-dint√©gration-pour-osrd">Le choix de la m√©thode d&amp;rsquo;int√©gration pour OSRD&lt;/h3>
&lt;/font>
&lt;h4 id="√©tude-de-la-pr√©cision-et-de-la-vitesse-de-calcul">&lt;strong>√âtude de la pr√©cision et de la vitesse de calcul&lt;/strong>&lt;/h4>
&lt;p>Diff√©rentes m√©thodes d&amp;rsquo;int√©gration auraient pu remplacer l&amp;rsquo;int√©gration d&amp;rsquo;Euler de base dans l&amp;rsquo;algorithme d&amp;rsquo;OSRD. Afin de d√©cider quelle m√©thode conviendrait le mieux, une √©tude sur la pr√©cision et la vitesse de calcul de diff√©rentes m√©thodes a √©t√© men√©e. Cette √©tude sert √† compar√© les m√©thodes suivantes :&lt;/p>
&lt;ul>
&lt;li>Euler&lt;/li>
&lt;li>Euler-Cauchy&lt;/li>
&lt;li>Runge-Kutta 4&lt;/li>
&lt;li>Adams 2&lt;/li>
&lt;li>Adams 3&lt;/li>
&lt;/ul>
&lt;p>Toutes les explications sur ces m√©thodes peuvent √™tre trouv√©es dans &lt;a href="https://github.com/osrd-project/osrd/wiki/documents/integration/MethodesNumeriques_EricGoncalves.pdf">ce document&lt;/a>, et le code python utilis√© pour la simulation est &lt;a href="https://raw.githubusercontent.com/wiki/osrd-project/osrd/code/integration/Tests_precision.py">ici&lt;/a>.&lt;/p>
&lt;p>La simulation calcule la position et la vitesse d&amp;rsquo;un TGV acc√©l√©rant sur une ligne droite plate.&lt;/p>
&lt;h4 id="simulations-√†-pas-de-temps-√©quivalent">&lt;strong>Simulations √† pas de temps √©quivalent&lt;/strong>&lt;/h4>
&lt;p>Une courbe de r√©f√©rence a √©t√© simul√©e en utilisant la m√©thode d&amp;rsquo;Euler avec un pas de temps de 0,1s, puis le m√™me parcours a √©t√© simul√© en utilisant les autres m√©thodes avec un pas de temps de 1s. Il est alors possible de comparer simplement chaque courbe √† la courbe de r√©f√©rence, en calculant la valeur absolue de la diff√©rence √† chaque point calcul√©. Voici l&amp;rsquo;erreur absolue r√©sultante de la position du train sur sa distance parcourue :&lt;/p>
&lt;p>&lt;img src="../precisions_h_equivalent.png" alt="precisions_h_equivalent">&lt;/p>
&lt;p>Il appara√Æt imm√©diatement que la m√©thode d&amp;rsquo;Euler est moins pr√©cise que les quatre autres d&amp;rsquo;environ un ordre de grandeur. Chaque courbe pr√©sente un pic o√π la pr√©cision est extr√™mement √©lev√©e (erreur extr√™mement faible), ce qui s&amp;rsquo;explique par le fait que toutes les courbes commencent l√©g√®rement au-dessus de la courbe de r√©f√©rence, la croisent en un point et finissent l√©g√®rement en dessous, ou &lt;em>vice versa&lt;/em>.&lt;/p>
&lt;p>Comme la pr√©cision n‚Äôest pas le seul indicateur important, le temps de calcul de chaque m√©thode a √©t√© mesur√©. Voici ce que nous obtenons pour les m√™mes param√®tres d‚Äôentr√©e :&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">M√©thode d&amp;rsquo;int√©gration&lt;/th>
&lt;th style="text-align:right">Temps de calcul (s)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">Euler&lt;/td>
&lt;td style="text-align:right">1.86&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">Euler-Cauchy&lt;/td>
&lt;td style="text-align:right">3.80&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">Runge-Kutta 4&lt;/td>
&lt;td style="text-align:right">7.01&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">Adams 2&lt;/td>
&lt;td style="text-align:right">3.43&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">Adams 3&lt;/td>
&lt;td style="text-align:right">5.27&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Ainsi, Euler-Cauchy et Adams 2 sont environ deux fois plus lents que Euler, Adams 3 est environ trois fois plus lent, et RK4 est environ quatre fois plus lent. Ces r√©sultats ont √©t√© v√©rifi√©s sur des simulations beaucoup plus longues, et les diff√©rents ratios sont maintenus.&lt;/p>
&lt;h4 id="simulation-√†-temps-de-calcul-√©quivalent">&lt;strong>Simulation √† temps de calcul √©quivalent&lt;/strong>&lt;/h4>
&lt;p>Comme les temps de calcul de toutes les m√©thodes d√©pendent lin√©airement du pas de temps, il est relativement simple de comparer la pr√©cision pour un temps de calcul √† peu pr√®s identique. En multipliant le pas de temps d&amp;rsquo;Euler-Cauchy et d&amp;rsquo;Adams 2 par 2, le pas de temps d&amp;rsquo;Adams 3 par 3, et le pas de temps de RK4 par 4, voici les courbes d&amp;rsquo;erreur absolue r√©sultantes :&lt;/p>
&lt;p>&lt;img src="../precisions_time_equivalent.png" alt="precisions_time_equivalent">&lt;/p>
&lt;p>Et voici les temps de calcul :&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th style="text-align:left">M√©thode d&amp;rsquo;int√©gration&lt;/th>
&lt;th style="text-align:right">Temps de calcul (s)&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td style="text-align:left">Euler&lt;/td>
&lt;td style="text-align:right">1.75&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">Euler-Cauchy&lt;/td>
&lt;td style="text-align:right">2.10&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">Runge-Kutta 4&lt;/td>
&lt;td style="text-align:right">1.95&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">Adams 2&lt;/td>
&lt;td style="text-align:right">1.91&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td style="text-align:left">Adams 3&lt;/td>
&lt;td style="text-align:right">1.99&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>Apr√®s un certain temps, RK4 tend √† √™tre la m√©thode la plus pr√©cise, l√©g√®rement plus pr√©cise que Euler-Cauchy, et toujours bien plus pr√©cise que la m√©thode d&amp;rsquo;Euler.&lt;/p>
&lt;font color=#aa026d>
&lt;h3 id="conclusions-de-l√©tude">Conclusions de l&amp;rsquo;√©tude&lt;/h3>
&lt;/font>
&lt;p>L&amp;rsquo;√©tude de la pr√©cision et de la vitesse de calcul pr√©sent√©e ci-dessus montre que RK4 et Euler-Cauchy seraient de bons candidats pour remplacer l&amp;rsquo;algorithme d&amp;rsquo;Euler dans OSRD : les deux sont rapides, pr√©cis, et pourraient remplacer la m√©thode d&amp;rsquo;Euler sans n√©cessiter de gros changements d&amp;rsquo;impl√©mentation car ils ne font que des calculs au sein du pas de temps en cours de calcul.
&lt;strong>Il a √©t√© d√©cid√© qu&amp;rsquo;OSRD utiliserait la m√©thode Runge-Kutta 4 parce qu&amp;rsquo;elle est l√©g√®rement plus pr√©cise que Euler-Cauchy et que c&amp;rsquo;est une m√©thode bien connue pour ce type de calcul, donc tr√®s adapt√©e √† un simulateur open-source.&lt;/strong>&lt;/p>
&lt;style>
img[src$="method"] {
height: 50%;
width: 50%;
}
&lt;/style></description></item><item><title>Docs: Repr√©sentation de l'espace de solutions</title><link>https://osrd.fr/fr/docs/reference/design-docs/stdcm/pathfinding_module/graph_representation/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/reference/design-docs/stdcm/pathfinding_module/graph_representation/</guid><description>
&lt;h4 id="principe-g√©n√©ral">Principe g√©n√©ral&lt;/h4>
&lt;p>Le probl√®me reste une recherche de graphe. En repr√©sentant
l&amp;rsquo;espace de solution sous forme de graphe, il est possible de r√©utiliser
nos outils d√©j√† existants de recherche de chemin.&lt;/p>
&lt;p>Le &lt;em>graphe produit&lt;/em> de la position, du temps, et de la vitesse est utilis√©.
Autrement dit, chaque √©l√©ment du graphe contient (entre autres) ces
3 variables.&lt;/p>
&lt;p>Chaque ar√™te du graphe est calcul√©e avec un
&lt;a href="https://osrd.fr/fr/docs/explanation/running_time_calculation/" title="calcul de marche">calcul de marche&lt;/a>
pour conna√Ætre l&amp;rsquo;√©volution de la vitesse et de la position dans le temps.&lt;/p>
&lt;h4 id="repr√©sentation-visuelle">Repr√©sentation visuelle&lt;/h4>
&lt;p>Le graphe de d√©part repr√©sente l&amp;rsquo;infrastructure physique&lt;/p>
&lt;p>&lt;img src="routes_time_1.png" alt="Graphe produit (1/3)">&lt;/p>
&lt;p>Il est ensuite &amp;ldquo;dupliqu√©&amp;rdquo; √† des temps diff√©rents&lt;/p>
&lt;p>&lt;img src="routes_time_2.png" alt="Graphe produit (2/3)">&lt;/p>
&lt;p>Puis des n≈ìuds sont reli√©s de mani√®re √† refl√©ter le temps de parcours&lt;/p>
&lt;p>&lt;img src="routes_time_3.png" alt="Graphe produit (3/3)">&lt;/p>
&lt;h4 id="pr√©cisions">Pr√©cisions&lt;/h4>
&lt;ul>
&lt;li>Le graphe est construit &lt;em>au fil de l&amp;rsquo;exploration&lt;/em>.&lt;/li>
&lt;li>Une discr√©tisation est faite au niveau du temps, uniquement pour
√©valuer ce qui a d√©j√† √©t√© visit√©. Si le m√™me emplacement est visit√© une
seconde fois, il faut une certaine diff√©rence de temps pour estimer
qu&amp;rsquo;il n&amp;rsquo;est pas d√©j√† visit√©.&lt;/li>
&lt;li>Toutes les ar√™tes sont r√©alis√©es avec des calculs de marche&lt;/li>
&lt;li>La vitesse n&amp;rsquo;est pas discr√©tis√©e ni utilis√©e pour estimer quel
emplacement est d√©j√† visit√©, mais elle fait partie des calculs.&lt;/li>
&lt;li>Par d√©faut, tous les calculs sont faits en allant √† la vitesse maximale.
Les ralentissements sont ajout√©s seulement quand ils sont n√©cessaires.&lt;/li>
&lt;/ul>
&lt;h4 id="exemple">Exemple&lt;/h4>
&lt;p>Par exemple, avec l&amp;rsquo;infrastructure suivante en se basant sur
le graphe des voies :
&lt;img src="example_infra.svg" alt="Infra d&amp;amp;rsquo;exemple">&lt;/p>
&lt;p>Explorer le graphe des sillons possibles peut donner ce
type de r√©sultat :
&lt;img src="example_graph.svg" alt="Repr√©sentation du graphe">&lt;/p></description></item><item><title>Docs: Exemple d'infrastructure</title><link>https://osrd.fr/fr/docs/explanation/models/data-models-full-example/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/explanation/models/data-models-full-example/</guid><description>
&lt;font color=#aa026d>
&lt;h3 id="introduction">Introduction&lt;/h3>
&lt;/font>
&lt;p>Cette page donne un exemple de la mani√®re dont les formats de donn√©es sont utilis√©s pour d√©crire une infrastructure dans &lt;strong>OSRD&lt;/strong>.&lt;/p>
&lt;p>√Ä cette fin, prenons comme exemple l&amp;rsquo;infrastructure-jouet suivante :&lt;/p>
&lt;p>&lt;img src="svg_diagrams/small_infra_diagram.drawio.svg" alt="Diagramme de l&amp;amp;rsquo;Infrastructure">&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Conseil&lt;/h4>
Pour zoomer sur un diagramme, cliquez sur le bouton d&amp;rsquo;√©dition qui appara√Æt au survol de celui-ci.
&lt;/div>
&lt;p>Ce diagramme est un aper√ßu de l&amp;rsquo;infrastructure avec les lignes et les stations uniquement.&lt;/p>
&lt;p>Cette infrastructure ne se veut pas r√©aliste, mais plut√¥t destin√©e √† illustrer le mod√®le de donn√©es d&amp;rsquo;OSRD.
Cet exemple sera cr√©√© √©tape par √©tape et expliqu√© en cours de route.&lt;/p>
&lt;h4 id="le-g√©n√©rateur-dinfrastructures">Le g√©n√©rateur d&amp;rsquo;infrastructures&lt;/h4>
&lt;p>Dans le &lt;a href="https://github.com/osrd-project/osrd">d√©p√¥t &lt;em>OSRD&lt;/em>&lt;/a> se trouve une &lt;a href="https://github.com/osrd-project/osrd/tree/dev/python/railjson_generator">biblioth√®que python&lt;/a> con√ßue pour aider √† g√©n√©rer des infrastructures dans un format compris par &lt;em>OSRD&lt;/em>.&lt;/p>
&lt;p>L&amp;rsquo;infrastructure discut√©e dans cette section peut √™tre g√©n√©r√©e gr√¢ce au fichier &lt;a href="https://github.com/osrd-project/osrd/blob/dev/tests/infra-scripts/small_infra.py">small_infra.py&lt;/a>. Pour en savoir plus sur les scripts de g√©n√©ration, vous pouvez consulter le &lt;a href="https://github.com/osrd-project/osrd/blob/dev/python/railjson_generator/README.md">README&lt;/a> correspondant.&lt;/p>
&lt;font color=#aa026d>
&lt;h3 id="voies">Voies&lt;/h3>
&lt;/font>
&lt;h4 id="sections-de-voie-track-sections">Sections de voie (Track Sections)&lt;/h4>
&lt;p>Les premiers objets que nous devons d√©finir sont les &lt;code>TrackSections&lt;/code>. La plupart des autres objets sont positionn√©s par rapport √† celles-ci.&lt;/p>
&lt;p>Une section de voie est une section de rail (sans aiguillages). On peut choisir de diviser les voies de son infrastructure en autant de sections qu&amp;rsquo;on le souhaite. Ici, nous avons choisi d&amp;rsquo;utiliser les sections de voie les plus longues possibles, ce qui signifie qu&amp;rsquo;entre deux aiguillages, il y a toujours une seule section de voie.&lt;/p>
&lt;p>Les sections de voie sont ce sur quoi les trains simul√©s roulent. Ils sont l&amp;rsquo;√©quivalent abstrait des sections de rails physiques. Les sections de voie sont bidirectionnelles.&lt;/p>
&lt;p>Dans cet exemple, nous d√©finissons deux voies pour la ligne entre les stations Ouest et Nord-Est. Nous avons √©galement des voies de contournement aux stations Nord et Centre-Ouest pour plus de r√©alisme. Enfin, nous avons trois voies distinctes dans la station Ouest, puisqu&amp;rsquo;il s&amp;rsquo;agit d&amp;rsquo;une plaque tournante majeure dans notre infrastructure imaginaire.&lt;/p>
&lt;p>&lt;img src="svg_diagrams/small_infra_rails.drawio.en.svg" alt="Diagramme des sections de voies">&lt;/p>
&lt;div class="alert alert-warning" role="alert">
&lt;h4 class="alert-heading">Important&lt;/h4>
&lt;p>Les &lt;code>TrackSections&lt;/code> sont repr√©sent√©es par des fl√®ches dans ce diagramme pour souligner le fait qu&amp;rsquo;elles ont un &lt;strong>d√©but&lt;/strong> et une &lt;strong>fin&lt;/strong>. C&amp;rsquo;est important car les objets positionn√©s sur les sections de voie sont localis√©s en fonction de leur distance par rapport au &lt;strong>d√©but&lt;/strong> de leur section de voie.&lt;/p>
&lt;p>Par cons√©quent, pour placer un objet au d√©but de sa section de voie, d√©finissez sa position √† 0. Pour le d√©placer √† la fin de sa section de voie, d√©finissez sa position √† la &lt;code>length&lt;/code> de la section de voie.&lt;/p>
&lt;/div>
&lt;p>Ces attributs sont n√©cessaires pour que la section de voie soit compl√®te :&lt;/p>
&lt;ul>
&lt;li>&lt;code>length&lt;/code> : la longueur de la section de voie en m√®tres.&lt;/li>
&lt;li>&lt;code>geo&lt;/code> : les coordonn√©es dans la r√©alit√© (geo pour g√©ographique), au format &lt;a href="https://en.wikipedia.org/wiki/GeoJSON">GeoJSON&lt;/a>.&lt;/li>
&lt;li>&lt;code>sch&lt;/code> : les coordonn√©es dans la vue sch√©matique (sch pour sch√©matique, repr√©sentation simplifi√©e), √©galement au format &lt;a href="https://en.wikipedia.org/wiki/GeoJSON">GeoJSON&lt;/a>.&lt;/li>
&lt;li>attributs cosm√©tiques : &lt;code>line_name&lt;/code>, &lt;code>track_name&lt;/code>, &lt;code>track_number&lt;/code> qui sont utilis√©s pour indiquer le nom et les √©tiquettes qui ont √©t√© donn√©s aux voies / lignes dans la r√©alit√©.&lt;/li>
&lt;/ul>
&lt;p>Pour toutes les sections de voies de notre infrastructure, les attributs &lt;code>geo&lt;/code> et &lt;code>sch&lt;/code> sont identiques, et se rapprochent beaucoup au sch√©ma donn√©.&lt;/p>
&lt;p>Pour la plupart des sections de voies, leur &lt;code>length&lt;/code> est proportionnelle √† ce que l&amp;rsquo;on peut voir sur le diagramme. Pour pr√©server la lisibilit√©, des exceptions ont √©t√© faites pour &lt;em>TA6&lt;/em>, &lt;em>TA7&lt;/em>, &lt;em>TD0&lt;/em> et &lt;em>TD1&lt;/em> (qui font 10km et 25km).&lt;/p>
&lt;h4 id="noeud">Noeud&lt;/h4>
&lt;p>Un &lt;code>Node&lt;/code> repr√©sente un noeud dans l&amp;rsquo;infrastructure. Dans une simulation OSRD, un train ne peut passer d&amp;rsquo;une section de voie √† une autre que si elles sont reli√©es par un noeud.
Un noeud peut se pr√©senter de deux mani√®res diff√©rentes :&lt;/p>
&lt;p>&lt;strong>1) Aiguillages&lt;/strong>&lt;/p>
&lt;p>Les aiguillages peuvent √™tre vus comme une collection de liens de sections de voies, partitionn√©s en groupes. Chaque groupe repr√©sente un √©tat de l&amp;rsquo;aiguillage. Passer d&amp;rsquo;un groupe √† un autre peut prendre du temps, et au maximum un lien peut √™tre pr√™t √† √™tre utilis√© √† la fois.&lt;/p>
&lt;p>Dans le monde r√©el, les aiguillages ne sont pas uniques, mais plut√¥t des instances de mod√®les existants.&lt;/p>
&lt;p>&lt;strong>2) Liens de sections de voies&lt;/strong>&lt;/p>
&lt;p>Pour le moment, nous n&amp;rsquo;avons cr√©√© que des sections de voies, qui ne sont pas interconnect√©es (les donn√©es g√©ospatiales ne sont pas utilis√©es pour d√©duire quelles voies sont connect√©es).&lt;/p>
&lt;p>Les &lt;code>link&lt;/code> sont utilis√©s pour connecter deux sections de voie ensemble, tout comme un joint de soudure le ferait dans la vie r√©elle. Dans une simulation OSRD, un train ne peut passer d&amp;rsquo;une section de voie √† une autre que si elles sont reli√©es par ce type de noeud, le &lt;code>link&lt;/code> (ou par un autre &lt;code>NodeType&lt;/code>).&lt;/p>
&lt;p>Que ce soit pour les aiguillages ou les liens de sections de voies, les liens et les groupes ne font pas partie du switch lui-m√™me, mais d&amp;rsquo;un objet &lt;code>NodeType&lt;/code>, qui est partag√© par les aiguillages du m√™me mod√®le.&lt;/p>
&lt;h6 id="types-de-noeud">Types de Noeud&lt;/h6>
&lt;p>Les &lt;code>NodeTypes&lt;/code> ont deux attributs obligatoires :&lt;/p>
&lt;ul>
&lt;li>&lt;code>ports&lt;/code> : Une liste de noms de ports. Un port est une extr√©mit√© du noeud qui peut √™tre connect√© √† une section de voie.&lt;/li>
&lt;li>&lt;code>groups&lt;/code> : Un table de correspondance entre le nom des groupes et les listes de branches (connexion entre 2 ports) qui caract√©risent les diff√©rentes positions possibles du type de Noeud&lt;/li>
&lt;/ul>
&lt;p>√Ä tout moment, tous les noeuds &lt;em>ont&lt;/em> un groupe actif, et &lt;em>peuvent avoir&lt;/em> une branche active, qui appartient toujours au groupe actif. Pendant une simulation, le changement de branche active √† l&amp;rsquo;int√©rieur d&amp;rsquo;un groupe est instantan√©, mais le changement de branche active entre les groupes prend un temps configurable.
Ceci est d√ª au fait qu&amp;rsquo;un &lt;code>Noeud&lt;/code> peut-√™tre un objet physique (dans le cas des aiguillages), et que le changement de branche active peut impliquer le d√©placement de certaines de ses parties. Les &lt;code>groups&lt;/code> sont con√ßus pour repr√©senter les diff√©rentes positions qu&amp;rsquo;un &lt;code>Noeud&lt;/code> peut avoir. Chaque groupe contient les liens qui peuvent √™tre utilis√©s dans la position du &lt;code>Noeud&lt;/code> associ√©.&lt;/p>
&lt;p>Dans le cas des aiguilles, la dur√©e n√©cessaire pour changer de groupe est stock√©e √† l&amp;rsquo;int√©rieur du &lt;code>Noeud&lt;/code>, car elle peut varier en fonction de l&amp;rsquo;impl√©mentation physique du mod√®le d&amp;rsquo;aiguillage.&lt;/p>
&lt;p>Nos exemples utilisent actuellement cinq &lt;code>NodeTypes&lt;/code>. Il est possible d&amp;rsquo;ajouter un type de noeud si n√©cessaire via le champ &lt;code>extended_node_type&lt;/code>.&lt;/p>
&lt;p>&lt;strong>1) Le lien entre deux sectionx de voies&lt;/strong>&lt;/p>
&lt;p>Celui-ci repr√©sente le lien entre deux sections de voies. Il poss√®de deux ports : &lt;em>A&lt;/em> et &lt;em>B&lt;/em>.&lt;/p>
&lt;p>&lt;img src="svg_diagrams/link.svg" alt="Diagramme d&amp;amp;rsquo;un lien">&lt;/p>
&lt;p>Il permet de cr√©er un lien entre deux sections de voies tel que d√©finis dans OSRD. Ce n&amp;rsquo;est pas un objet physique.&lt;/p>
&lt;p>&lt;strong>2) L&amp;rsquo;aiguille&lt;/strong>&lt;/p>
&lt;p>L&amp;rsquo;omnipr√©sent aiguillage en Y, qui peut √™tre consid√©r√© comme la fusion de deux voies ou la s√©paration d&amp;rsquo;une voie.&lt;/p>
&lt;p>Ce type d&amp;rsquo;aiguillage poss√®de trois ports : &lt;em>A&lt;/em>, &lt;em>B1&lt;/em> et &lt;em>B2&lt;/em>.&lt;/p>
&lt;p>&lt;img src="svg_diagrams/point_switch.svg" alt="Diagramme d&amp;amp;rsquo;aiguillage">&lt;/p>
&lt;p>Il y a deux groupes, chacun avec une connexion dans leur liste : &lt;code>A_B1&lt;/code>, qui connecte &lt;em>A&lt;/em> √† &lt;em>B1&lt;/em>, et &lt;code>A_B2&lt;/code> qui connecte &lt;em>A&lt;/em> √† &lt;em>B2&lt;/em>.&lt;/p>
&lt;p>Ainsi, √† tout moment (sauf lorsque l&amp;rsquo;aiguille bouge pour changer de groupe), un train peut aller de &lt;em>A&lt;/em> √† &lt;em>B1&lt;/em> ou de &lt;em>A&lt;/em> √† &lt;em>B2&lt;/em> mais jamais aux deux en m√™me temps. Un train ne peut pas aller de &lt;em>B1&lt;/em> √† &lt;em>B2&lt;/em>.&lt;/p>
&lt;p>Une aiguille n&amp;rsquo;a que deux positions :&lt;/p>
&lt;ul>
&lt;li>&lt;em>A&lt;/em> vers &lt;em>B1&lt;/em>&lt;/li>
&lt;li>&lt;em>A&lt;/em> vers &lt;em>B2&lt;/em>&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="svg_diagrams/PointSwitch_AtoB1.svg" alt="Diagramme des positions de l&amp;amp;rsquo;aiguillage"> &lt;img src="svg_diagrams/PointSwitch_AtoB2.svg" alt="Diagramme des positions de l&amp;amp;rsquo;aiguillage">&lt;/p>
&lt;p>&lt;strong>3) L&amp;rsquo;aiguillage de croisement&lt;/strong>&lt;/p>
&lt;p>Il s&amp;rsquo;agit simplement de deux voies qui se croisent.&lt;/p>
&lt;p>Ce type a quatre ports : &lt;em>A1&lt;/em>, &lt;em>B1&lt;/em>, &lt;em>A2&lt;/em> et &lt;em>B2&lt;/em>.&lt;/p>
&lt;p>&lt;img src="svg_diagrams/crossing.svg" alt="Diagramme de l&amp;amp;rsquo;aiguillage crois√©">&lt;/p>
&lt;p>Il ne comporte qu&amp;rsquo;un seul groupe contenant deux connexions : &lt;em>A1&lt;/em> vers &lt;em>B1&lt;/em> et &lt;em>A2&lt;/em> vers &lt;em>B2&lt;/em>. En effet, ce type d&amp;rsquo;aiguillage est &lt;em>passif&lt;/em> : il n&amp;rsquo;a pas de pi√®ces mobiles. Bien qu&amp;rsquo;il n&amp;rsquo;ait qu&amp;rsquo;un seul groupe, il est tout de m√™me utilis√© par la simulation pour faire respecter les r√©servations de route.&lt;/p>
&lt;p>Voici les deux connexions diff√©rentes que ce type d&amp;rsquo;aiguillage poss√®de :&lt;/p>
&lt;ul>
&lt;li>&lt;em>A1&lt;/em> vers &lt;em>B1&lt;/em>&lt;/li>
&lt;li>&lt;em>A2&lt;/em> vers &lt;em>B2&lt;/em>&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="svg_diagrams/Crossing_A1toB1.svg" alt="Diagramme des positions des aiguillages crois√©s"> &lt;img src="svg_diagrams/Crossing_A2toB2.svg" alt="Diagramme des positions des aiguillages crois√©s">&lt;/p>
&lt;p>&lt;strong>4) L&amp;rsquo;aiguillage de croisement double&lt;/strong>&lt;/p>
&lt;p>Celui-ci ressemble plus √† deux aiguilles dos √† dos. Il poss√®de quatre ports : &lt;em>A1&lt;/em>, &lt;em>A2&lt;/em>, &lt;em>B1&lt;/em> et &lt;em>B2&lt;/em>.&lt;/p>
&lt;p>&lt;img src="svg_diagrams/double_slip_crossing.svg" alt="Diagramme d&amp;amp;rsquo;un aiguillage de croisement double">&lt;/p>
&lt;p>Cependant, il comporte quatre groupes, chacun avec une connexion. Les quatre connexions possibles sont les suivantes :&lt;/p>
&lt;ul>
&lt;li>&lt;em>A1&lt;/em> vers &lt;em>B1&lt;/em>&lt;/li>
&lt;li>&lt;em>A1&lt;/em> vers &lt;em>B2&lt;/em>&lt;/li>
&lt;li>&lt;em>A2&lt;/em> vers &lt;em>B1&lt;/em>&lt;/li>
&lt;li>&lt;em>A2&lt;/em> vers &lt;em>B2&lt;/em>&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="svg_diagrams/DoubleSlipCrossing_A1toB1.svg" alt="Diagramme des positions de l&amp;amp;rsquo;aiguillage de croisement double"> &lt;img src="svg_diagrams/DoubleSlipCrossing_A1toB2.svg" alt="Diagramme des positions de l&amp;amp;rsquo;aiguillage de croisement double">&lt;/p>
&lt;p>&lt;img src="svg_diagrams/DoubleSlipCrossing_A2toB1.svg" alt="Diagramme des positions de l&amp;amp;rsquo;aiguillage de croisement double"> &lt;img src="svg_diagrams/DoubleSlipCrossing_A2toB2.svg" alt="Diagramme des positions de l&amp;amp;rsquo;aiguillage de croisement double">&lt;/p>
&lt;p>&lt;strong>5) L&amp;rsquo;aiguillage de croisement simple&lt;/strong>&lt;/p>
&lt;p>Celui-ci ressemble plus √† un m√©lange entre une aiguille simple et un croisement. Il poss√®de quatre ports : &lt;em>A1&lt;/em>, &lt;em>A2&lt;/em>, &lt;em>B1&lt;/em> et &lt;em>B2&lt;/em>.&lt;/p>
&lt;p>&lt;img src="svg_diagrams/single_slip_crossing.svg" alt="Diagramme d&amp;amp;rsquo;un aiguillage de croisement simple">&lt;/p>
&lt;p>Voici les trois connexions que peut r√©aliser cet aiguillage :&lt;/p>
&lt;ul>
&lt;li>&lt;em>A1&lt;/em> vers &lt;em>B1&lt;/em>&lt;/li>
&lt;li>&lt;em>A1&lt;/em> vers &lt;em>B2&lt;/em>&lt;/li>
&lt;li>&lt;em>A2&lt;/em> vers &lt;em>B2&lt;/em>&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="svg_diagrams/SingleSlipCrossing_A1toB1.svg" alt="Diagramme des positions de l&amp;amp;rsquo;aiguillage de croisement simple"> &lt;img src="svg_diagrams/SingleSlipCrossing_A1toB2.svg" alt="Diagramme des positions de l&amp;amp;rsquo;aiguillage de croisement simple">
&lt;img src="svg_diagrams/SingleSlipCrossing_A2toB2.svg" alt="Diagramme des positions de l&amp;amp;rsquo;aiguillage de croisement simple">&lt;/p>
&lt;h5 id="retour-aux-noeuds">Retour aux noeuds&lt;/h5>
&lt;p>Un &lt;code>Node&lt;/code> poss√®de trois attributs :&lt;/p>
&lt;ul>
&lt;li>&lt;code>node_type&lt;/code> : l&amp;rsquo;identifiant &lt;a href="#types-daiguillages">&lt;code>NodeType&lt;/code>&lt;/a> de ce noeud.&lt;/li>
&lt;li>&lt;code>ports&lt;/code> : une correspondance entre les noms de port et les extr√©mit√©s des sections de voie.&lt;/li>
&lt;li>&lt;code>group_change_delay&lt;/code> : le temps qu&amp;rsquo;il faut pour changer le groupe de l&amp;rsquo;aiguillage qui est actif.&lt;/li>
&lt;/ul>
&lt;p>Les noms des ports doivent correspondre aux ports du type du noeud choisi. Les extr√©mit√©s de la section de voie peuvent √™tre d√©but ou fin, faites attention √† choisir les bonnes.&lt;/p>
&lt;p>La plupart des noeuds de notre exemple sont des noeuds habituels. Le chemin de la gare du Nord √† la gare du Sud a deux aiguillages de croisement. Enfin, il y a un aiguillage de croisement double juste avant que la ligne principale ne se divise en lignes Nord-Est et Sud-Est.&lt;/p>
&lt;p>&lt;img src="svg_diagrams/small_infra_rails_n_points.drawio.en.svg" alt="Diagramme des sections de voie et des aiguillages">&lt;/p>
&lt;p>Il est important de noter que ces noeuds sont pr√©sents par d√©faut dans le code du projet. Seuls les &lt;code>extended_switch_type&lt;/code> ajout√©s par l&amp;rsquo;utilisateur appara√Ætront dans le railjson.&lt;/p>
&lt;h4 id="courbes-et-pentes">Courbes et pentes&lt;/h4>
&lt;p>Les &lt;code>Courbes&lt;/code> et les &lt;code>Pentes&lt;/code> sont essentielles pour des simulations r√©alistes. Ces objets sont d√©finis comme une plage entre une position de d√©but (&lt;code>begin&lt;/code>) et de fin (&lt;code>end&lt;/code>) sur une section de voie. Si une courbe / pente s&amp;rsquo;√©tend sur plus d&amp;rsquo;une section de voie, elle doit √™tre ajout√©e √† toutes les sections.&lt;/p>
&lt;p>Les valeurs des courbes / pentes sont constantes sur toute leur √©tendue. Pour des courbes / pentes variables, il faut cr√©er plusieurs objets.&lt;/p>
&lt;p>Les valeurs de pente sont mesur√©es en &lt;em>m√®tres par kilom√®tres&lt;/em>, et les valeurs de courbe sont mesur√©es en &lt;em>m√®tres&lt;/em> (le rayon de la courbe).&lt;/p>
&lt;div class="alert alert-primary" role="alert">
N&amp;rsquo;oubliez pas que la valeur &lt;code>begin&lt;/code> doit toujours √™tre inf√©rieure √† la valeur &lt;code>end&lt;/code>. C&amp;rsquo;est pourquoi les valeurs de courbe/pente peuvent √™tre n√©gatives : une pente ascendante de 1 allant du d√©calage 10 √† 0 est identique √† une pente descendante de -1 allant des d√©calages 0 √† 10.
&lt;/div>
&lt;p>Dans le fichier &lt;a href="https://github.com/osrd-project/osrd/blob/dev/tests/infra-scripts/small_infra.py">small_infra.py&lt;/a>, nous avons des pentes sur les sections de voie &lt;em>TA6&lt;/em>, &lt;em>TA7&lt;/em>, &lt;em>TD0&lt;/em> et &lt;em>TD1&lt;/em>.&lt;/p>
&lt;p>Il y a √©galement des courbes sur les sections de voie &lt;em>TE0&lt;/em>, &lt;em>TE1&lt;/em>, &lt;em>TE3&lt;/em> et &lt;em>TF1&lt;/em>.&lt;/p>
&lt;font color=#aa026d>
&lt;h3 id="enclenchement">Enclenchement&lt;/h3>
&lt;/font>
&lt;p>Jusqu&amp;rsquo;√† pr√©sent, tous les objets ont contribu√© √† la topologie (forme) des voies. La topologie serait suffisante pour que les trains puissent naviguer sur le r√©seau, mais pas assez pour le faire en toute s√©curit√©. pour assurer la s√©curit√©, deux syst√®mes collaborent :&lt;/p>
&lt;ul>
&lt;li>L&amp;rsquo;enclenchement garantit que les trains sont autoris√©s √† avancer&lt;/li>
&lt;li>La signalisation est le moyen par lequel l&amp;rsquo;enclenchement communique avec le train&lt;/li>
&lt;/ul>
&lt;h4 id="d√©tecteurs">D√©tecteurs&lt;/h4>
&lt;p>Ces objets sont utilis√©s pour cr√©er des sections &lt;a href="https://ressources.data.sncf.com/explore/dataset/lexique-des-acronymes-sncf/table/?sort=abreviation&amp;amp;q=TVD">TVD&lt;/a> (Track Vacancy Detection) : la zone de la voie situ√©e entre deux d√©tecteurs est une section TVD. Lorsqu&amp;rsquo;un train rencontre un d√©tecteur, la section dans laquelle il entre est occup√©e. La seule fonction des sections TVD est de localiser les trains.&lt;/p>
&lt;p>Dans la r√©alit√©, les d√©tecteurs peuvent √™tre des &lt;a href="https://en.wikipedia.org/wiki/Axle_counter">compteurs d&amp;rsquo;essieux&lt;/a> ou des &lt;a href="https://en.wikipedia.org/wiki/Track_circuit">circuits de voie&lt;/a> par exemple.&lt;/p>
&lt;p>Pour que cette m√©thode de localisation soit efficace, les d√©tecteurs doivent √™tre plac√©s r√©guli√®rement le long de vos voies, pas trop nombreux pour des raisons de co√ªt, mais pas trop peu, car les sections TVD seraient alors tr√®s grandes et les trains devraient √™tre tr√®s √©loign√©s les uns des autres pour √™tre distingu√©s, ce qui r√©duirait la capacit√©.&lt;/p>
&lt;p>Il y a souvent des d√©tecteurs √† proximit√© de tous les extr√©mit√©s des aiguillages. De cette fa√ßon, l&amp;rsquo;enclenchement est averti presque imm√©diatement lorsqu&amp;rsquo;un aiguillage est lib√©r√©, qui est alors libre d&amp;rsquo;√™tre utilis√© √† nouveau.&lt;/p>
&lt;div class="alert alert-info" role="alert">
Prenons l&amp;rsquo;exemple d&amp;rsquo;un aiguillage de croisement : si le train A le franchit du &lt;em>nord&lt;/em> au &lt;em>sud&lt;/em> et que le train B arrive pour le franchir de l&amp;rsquo;&lt;em>ouest&lt;/em> √† l&amp;rsquo;&lt;em>est&lt;/em>, d√®s que le dernier wagon du train A a franchi l&amp;rsquo;aiguillage, B devrait pouvoir partir, puisque A se trouve maintenant sur une section de voie compl√®tement ind√©pendante.
&lt;/div>
&lt;p>Dans &lt;em>OSRD&lt;/em>, les d√©tecteurs sont des objets ponctuels. Les attributs dont ils ont besoin sont leur &lt;code>id&lt;/code> et leur localisation sur la voie (&lt;code>track&lt;/code> et &lt;code>offset&lt;/code>).&lt;/p>
&lt;p>&lt;img src="svg_diagrams/small_infra_detectors.drawio.en.svg" alt="Diagramme d&amp;amp;rsquo;infra avec tous les d√©tecteurs">&lt;/p>
&lt;div class="alert alert-info" role="alert">
Les carr√©s agglutin√©s repr√©sentent plusieurs d√©tecteurs √† la fois. En effet, certains tron√ßons de voie n&amp;rsquo;√©tant pas repr√©sent√©s sur toute leur longueur, nous n&amp;rsquo;avons pas pu repr√©senter tous les d√©tecteurs du tron√ßon de voie correspondant.
&lt;/div>
&lt;p>Quelques notes :&lt;/p>
&lt;ul>
&lt;li>Entre certains points, nous n&amp;rsquo;avons ajout√© qu&amp;rsquo;un seul d√©tecteur (et non pas deux), car ils √©taient tr√®s proches les uns des autres, et cela n&amp;rsquo;aurait eu aucun sens de cr√©er une minuscule section TVD entre eux. Cette situation s&amp;rsquo;est produite sur des sections de voies (&lt;em>TA3&lt;/em>, &lt;em>TA4&lt;/em>, &lt;em>TA5&lt;/em>, &lt;em>TF0&lt;/em> et &lt;em>TG3&lt;/em>).&lt;/li>
&lt;li>Dans notre infrastructure, il y a relativement peu de sections de voie qui sont assez longues pour n√©cessiter plus de d√©tecteurs que ceux li√©s aux aiguillages. Ce sont, &lt;em>TA6&lt;/em>, &lt;em>TA7&lt;/em>, &lt;em>TDO&lt;/em>, &lt;em>TD1&lt;/em>, &lt;em>TF1&lt;/em>, &lt;em>TG1&lt;/em> et &lt;em>TH1&lt;/em>. Par exemple, &lt;em>TD0&lt;/em>, qui mesure 25 km, compte en fait 17 d√©tecteurs au total.&lt;/li>
&lt;/ul>
&lt;h4 id="butoirs-bufferstops">Butoirs (&lt;code>BufferStops&lt;/code>)&lt;/h4>
&lt;p>Les &lt;code>BufferStops&lt;/code> sont des obstacles destin√©s √† emp√™cher les trains de d√©railler en bout des voies.&lt;/p>
&lt;p>Dans notre infrastructure, il y a un butoir sur chaque section de voie qui est un cul-de-sac. Il y a donc 8 butoirs au total.&lt;/p>
&lt;p>Avec les d√©tecteurs, ils d√©finissent les limites des sections &lt;a href="https://ressources.data.sncf.com/explore/dataset/lexique-des-acronymes-sncf/table/?sort=abreviation&amp;amp;q=TVD">TVD&lt;/a> (voir &lt;a href="#d%C3%A9tecteurs">D√©tecteurs&lt;/a>).&lt;/p>
&lt;h4 id="itin√©raires-routes">Itin√©raires (&lt;code>Routes&lt;/code>)&lt;/h4>
&lt;p>Une &lt;code>Route&lt;/code> est un itin√©raire dans l&amp;rsquo;infrastructure. Un sillon est une s√©quence de routes. Les itin√©raires sont utilis√©s pour r√©server des sections de sillon avec l&amp;rsquo;enclenchement. Voir la &lt;a href="https://osrd.fr/fr/docs/reference/design-docs/interlocking/">documentation d√©di√©e&lt;/a>.&lt;/p>
&lt;p>Il est repr√©sent√© avec les attributs suivants :&lt;/p>
&lt;ul>
&lt;li>&lt;code>entry_point&lt;/code> et &lt;code>exit_point&lt;/code> : R√©f√©rences de d√©tecteurs ou de but√©es qui marquent le d√©but et la fin de l&amp;rsquo;itin√©raire.&lt;/li>
&lt;li>&lt;code>entry_point_direction&lt;/code> : Direction √† prendre sur la section de voie depuis &lt;code>entry_point&lt;/code> pour commencer l&amp;rsquo;itin√©raire.&lt;/li>
&lt;li>&lt;code>switches_direction&lt;/code> : Un ensemble de directions √† suivre lorsqu&amp;rsquo;on rencontre un aiguillage sur notre itin√©raire, de mani√®re √† reconstituer cet itin√©raire de &lt;code>entry_point&lt;/code> jusqu&amp;rsquo;√† &lt;code>exit_point&lt;/code>.&lt;/li>
&lt;li>&lt;code>release_detectors&lt;/code> : Lorsqu&amp;rsquo;un train franchit un d√©tecteur de lib√©ration, les ressources r√©serv√©es depuis le d√©but de la route jusqu&amp;rsquo;√† ce d√©tecteur sont lib√©r√©es.&lt;/li>
&lt;/ul>
&lt;font color=#aa026d>
&lt;h3 id="signalisation">Signalisation&lt;/h3>
&lt;/font>
&lt;p>Gr√¢ce √† l&amp;rsquo;enclenchement, les trains sont localis√©s et autoris√©s √† se d√©placer. C&amp;rsquo;est un bon d√©but, mais c&amp;rsquo;est inutile tant que les trains n&amp;rsquo;en sont pas inform√©s. C&amp;rsquo;est l√† que les &amp;ldquo;signaux&amp;rdquo; entrent en jeu : les signaux r√©agissent aux enclenchements et peuvent √™tre vus par les trains.&lt;/p>
&lt;p>La fa√ßon dont les trains r√©agissent aux signaux d√©pend de l&amp;rsquo;aspect, du type de signal et du syst√®me de signalisation.&lt;/p>
&lt;p>Voici les attributs les plus importants des signaux :&lt;/p>
&lt;ul>
&lt;li>&lt;code>linked_detector&lt;/code> : Le &lt;a href="#d%C3%A9tecteurs">d√©tecteur&lt;/a> li√©.&lt;/li>
&lt;li>&lt;code>type_code&lt;/code> : Le type de signal.&lt;/li>
&lt;li>&lt;code>direction&lt;/code> : La direction qu&amp;rsquo;il prot√®ge, qui peut √™tre simplement interpr√©t√©e comme la fa√ßon dont il peut √™tre vu par un train entrant (puisqu&amp;rsquo;il n&amp;rsquo;y a des feux que d&amp;rsquo;un c√¥t√©&amp;hellip;). La direction est relative √† l&amp;rsquo;orientation de la section de voie.&lt;/li>
&lt;li>Des attributs cosm√©tiques comme &lt;code>angle_geo&lt;/code> and &lt;code>side&lt;/code> qui contr√¥lent la mani√®re dont les signaux sont affich√©s dans le front-end.&lt;/li>
&lt;/ul>
&lt;p>Voici une visualisation de comment on peut repr√©senter un signal, et quelle direction il prot√®ge.&lt;/p>
&lt;p>&lt;img src="svg_diagrams/signal_dir.en.svg" alt="Exemple de signal de direction">&lt;/p>
&lt;br/>
&lt;p>La mani√®re dont les signaux sont dispos√©s d√©pend fortement du syst√®me de signalisation et du gestionnaire de l&amp;rsquo;infrastructure.&lt;/p>
&lt;p>Voici les r√®gles de base utilis√©es pour cet exemple d&amp;rsquo;infrastructure :&lt;/p>
&lt;ul>
&lt;li>Nous ajoutons deux signaux d&amp;rsquo;espacement (un par direction) pour chaque d√©tecteur qui d√©coupe une longue section de TVD en plus petites sections.&lt;/li>
&lt;li>Les entr√©es d&amp;rsquo;aiguillage o√π un train pourrait devoir s&amp;rsquo;arr√™ter sont prot√©g√©es par un signal (qui est situ√© √† l&amp;rsquo;ext√©rieur de la section TVD de l&amp;rsquo;aiguillage). Il doit √™tre visible depuis la direction utilis√©e pour approcher l&amp;rsquo;aiguillage. Lorsqu&amp;rsquo;il y a plusieurs aiguillages dans une rang√©e, seul le premier a g√©n√©ralement besoin d&amp;rsquo;√™tre prot√©g√©, car l&amp;rsquo;enclenchement est g√©n√©ralement con√ßu pour ne pas encourager les trains √† s&amp;rsquo;arr√™ter au milieu des intersections.&lt;/li>
&lt;/ul>
&lt;p>Notez que les d√©tecteurs li√©s √† au moins un signal ne sont pas repr√©sent√©s, car il n&amp;rsquo;y a pas de signaux sans d√©tecteurs associ√©s dans cet exemple.&lt;/p>
&lt;p>Pour obtenir le &lt;code>id&lt;/code> d&amp;rsquo;un d√©tecteur li√© √† un signal, prenez le &lt;code>id&lt;/code> du signal et remplacez &lt;em>S&lt;/em> par &lt;em>D&lt;/em> (par exemple SA0 -&amp;gt; DA0).&lt;/p>
&lt;p>&lt;img src="svg_diagrams/small_infra_signals.drawio.en.svg" alt="Diagramme d&amp;amp;rsquo;infra avec tous les signaux">&lt;/p>
&lt;div class="alert alert-info" role="alert">
Sur &lt;em>TA6&lt;/em>, &lt;em>TA7&lt;/em>, &lt;em>TD0&lt;/em> et &lt;em>TD1&lt;/em> nous n&amp;rsquo;avons pas pu repr√©senter tous les signaux car ces sections de voie sont tr√®s longues et comportent de nombreux d√©tecteurs, donc de nombreux signaux.
&lt;/div>
&lt;font color=#aa026d>
&lt;h3 id="√©lectrification">√âlectrification&lt;/h3>
&lt;/font>
&lt;p>Pour permettre √† des trains √©lectriques de circuler sur notre infrastructure, nous devons sp√©cifier les parties de celle-ci qui sont √©lectrifi√©es.&lt;/p>
&lt;h4 id="cat√©naires-catenaries">Cat√©naires (&lt;code>Catenaries&lt;/code>)&lt;/h4>
&lt;p>Les &lt;code>Catenaries&lt;/code> repr√©sentent les c√¢bles d&amp;rsquo;alimentation qui alimentent les trains √©lectriques. Ils sont repr√©sent√©s avec les attributs suivants :&lt;/p>
&lt;ul>
&lt;li>&lt;code>voltage&lt;/code> : Une cha√Æne de caract√®res repr√©sentant le type d&amp;rsquo;alimentation √©lectrique utilis√©e pour l&amp;rsquo;√©lectrification.&lt;/li>
&lt;li>&lt;code>track_ranges&lt;/code> : Une liste de portions de sections de voie (&lt;code>TrackRanges&lt;/code>) couvertes par cette cat√©naire. Une &lt;code>TrackRange&lt;/code> est compos√©e d&amp;rsquo;un identifiant de section de voie, d&amp;rsquo;une position &lt;code>begin&lt;/code> et d&amp;rsquo;une position &lt;code>end&lt;/code>.&lt;/li>
&lt;/ul>
&lt;p>Dans notre exemple, nous avons deux &lt;code>Catenaries&lt;/code>:&lt;/p>
&lt;ul>
&lt;li>Une avec &lt;code>voltage&lt;/code> d√©fini sur &lt;code>&amp;quot;1500&amp;quot;&lt;/code>, qui couvre uniquement &lt;em>TA0&lt;/em>.&lt;/li>
&lt;li>Une avec &lt;code>voltage&lt;/code> d√©fini sur &lt;code>&amp;quot;25000&amp;quot;&lt;/code>, qui couvre tous les autres sauf &lt;em>TD1&lt;/em>.&lt;/li>
&lt;/ul>
&lt;p>Cela signifie que seuls les trains thermiques peuvent traverser la section de voie &lt;em>TD1&lt;/em>.&lt;/p>
&lt;p>Notre exemple montre √©galement que, contrairement √† son homologue r√©el, une seule &lt;code>Catenary&lt;/code> peut couvrir toute l&amp;rsquo;infrastructure.&lt;/p>
&lt;h4 id="sections-neutres-neutralsections">Sections Neutres (&lt;code>NeutralSections&lt;/code>)&lt;/h4>
&lt;p>Dans certaines parties d&amp;rsquo;une infrastructure, les conducteurs de train sont somm√©s - principalement pour des raisons de s√©curit√© - de couper l&amp;rsquo;alimentation √©lectrique du train.&lt;/p>
&lt;p>Pour repr√©senter de telles parties, nous utilisons des &lt;code>NeutralSections&lt;/code>. Elles sont repr√©sent√©es avec principalement les attributs suivants :&lt;/p>
&lt;ul>
&lt;li>&lt;code>track_ranges&lt;/code> : Une liste de &lt;code>DirectedTrackRanges&lt;/code> (portions de sections de voie associ√©es √† une direction) couvertes par cette section neutre.&lt;/li>
&lt;li>&lt;code>lower_pantograph&lt;/code> : Un bool√©en indiquant si le pantographe du train doit √™tre abaiss√© pendant la travers√©e de cette section.&lt;/li>
&lt;/ul>
&lt;p>Dans notre exemple, nous avons trois &lt;code>NeutralSections&lt;/code> : une √† la jonction des cat√©naires &lt;code>&amp;quot;1500&amp;quot;&lt;/code> et &lt;code>&amp;quot;25000&amp;quot;&lt;/code>, une sur &lt;em>TA6&lt;/em> et une sur &lt;em>TG1&lt;/em> et &lt;em>TG4&lt;/em>.&lt;/p>
&lt;p>Pour plus de d√©tails sur le mod√®le, voir la &lt;a href="../neutral_sections">page d√©di√©e&lt;/a>.&lt;/p>
&lt;font color=#aa026d>
&lt;h3 id="divers">Divers&lt;/h3>
&lt;/font>
&lt;h4 id="points-op√©rationnels-operationalpoints">Points op√©rationnels (&lt;code>OperationalPoints&lt;/code>)&lt;/h4>
&lt;p>Le &lt;em>point operationnel&lt;/em> est aussi connu sous le nom de &lt;em>Point Remarquable&lt;/em> (PR).
Un &lt;code>OperationalPoint&lt;/code> est une &lt;strong>collection&lt;/strong> de points (&lt;code>OperationalPointParts&lt;/code>) d&amp;rsquo;int√©r√™t.&lt;/p>
&lt;p>Par exemple, il peut √™tre pratique (rep√®re de conduite) de stocker l&amp;rsquo;emplacement des plateformes en tant que parties et de les regrouper par station dans des points op√©rationnels.
De la m√™me mani√®re, un pont au-dessus des voies sera &lt;strong>un&lt;/strong> OperationalPoint, mais il comportera &lt;strong>plusieurs&lt;/strong> OperationPointParts, une √† l&amp;rsquo;intersection de chaque voie.&lt;/p>
&lt;p>Dans l&amp;rsquo;exemple de l&amp;rsquo;infrastructure, nous n&amp;rsquo;avons utilis√© que des points op√©rationnels pour repr√©senter les stations. Les parties de points op√©rationnels sont repr√©sent√©es par des diamants violets. Gardez √† l&amp;rsquo;esprit qu&amp;rsquo;un seul point op√©rationnel peut contenir plusieurs parties.&lt;/p>
&lt;p>&lt;img src="svg_diagrams/small_infra_op_points.drawio.en.svg" alt="Exemples de points op√©rationnels">&lt;/p>
&lt;h4 id="limites-de-gabarit-loading-gauge-limits">Limites de gabarit (&lt;code>Loading Gauge Limits&lt;/code>)&lt;/h4>
&lt;p>Cet objet s&amp;rsquo;apparente aux &lt;code>Pentes&lt;/code> et aux &lt;code>Courbes&lt;/code> : il couvre une plage de section de voie, avec une position de d√©but (&lt;code>begin&lt;/code>) et de fin (&lt;code>end&lt;/code>). Il repr√©sente une restriction sur les trains qui peuvent circuler sur la plage donn√©e, par poids ou par type de train (fret ou passagers).&lt;/p>
&lt;p>Nous n&amp;rsquo;en avons pas mis dans nos exemples.&lt;/p>
&lt;h4 id="sections-de-vitesse-speedsections">Sections de vitesse (&lt;code>SpeedSections&lt;/code>)&lt;/h4>
&lt;p>Les &lt;code>SpeedSections&lt;/code> repr√©sentent les limites de vitesse (en m√®tres par seconde) qui sont appliqu√©es sur certaines parties des voies. Une &lt;code>SpeedSection&lt;/code> peut s&amp;rsquo;√©tendre sur plusieurs sections de voie, et ne couvre pas n√©cessairement la totalit√© des sections de voie. Les sections de vitesse peuvent se chevaucher.&lt;/p>
&lt;p>Dans notre exemple d&amp;rsquo;infrastructure, nous avons une section de vitesse couvrant l&amp;rsquo;ensemble de l&amp;rsquo;infrastructure, limitant la vitesse √† 300 km/h. Sur une plus petite partie de l&amp;rsquo;infrastructure, nous avons appliqu√© des sections de vitesse plus restrictives.&lt;/p>
&lt;p>&lt;img src="svg_diagrams/speed_sections.en.svg" alt="Exemples de sections de vitesse">&lt;/p></description></item><item><title>Docs: Localisation</title><link>https://osrd.fr/fr/docs/reference/design-docs/interlocking/location/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/reference/design-docs/interlocking/location/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>La couche de localisation permet √† d&amp;rsquo;autres modules de simulation de suivre le d√©placement du train dans l&amp;rsquo;infrastructure.
L&amp;rsquo;infrastructure ferroviaire est d√©coup√©e en r√©gions appel√©es zones. Quand on train entre dans une zone, ce module permet d&amp;rsquo;en √™tre notifi√©.&lt;/p>
&lt;p>Les zones (ou TVDSection / DetectionSection) sont des partitions physiques des voies :&lt;/p>
&lt;ul>
&lt;li>capables de d√©tecter la pr√©sence d&amp;rsquo;un train&lt;/li>
&lt;/ul>
&lt;h2 id="exigences-de-conception">Exigences de conception&lt;/h2>
&lt;ul>
&lt;li>il doit √™tre possible de suivre les changements d&amp;rsquo;occupation d&amp;rsquo;une zone&lt;/li>
&lt;li>il &lt;em>devra&lt;/em> √™tre possible de suivre les d√©placements d&amp;rsquo;un train&lt;/li>
&lt;li>il &lt;em>devra&lt;/em> √™tre possible d&amp;rsquo;impl√©menter un syst√®me de bloc mobile&lt;/li>
&lt;/ul>
&lt;h2 id="d√©pendances">D√©pendances&lt;/h2>
&lt;ul>
&lt;li>&lt;code>statique&lt;/code> une liste de zones&lt;/li>
&lt;/ul>
&lt;h2 id="op√©rations">Op√©rations&lt;/h2>
&lt;ul>
&lt;li>Occuper une zone&lt;/li>
&lt;li>Lib√©rer une zone&lt;/li>
&lt;li>Observer les changements d&amp;rsquo;occupation d&amp;rsquo;une zone&lt;/li>
&lt;/ul></description></item><item><title>Docs: Mise √† jour group√©e des d√©pendances</title><link>https://osrd.fr/fr/docs/guides/contribute/batch-updating-dependencies/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/guides/contribute/batch-updating-dependencies/</guid><description>
&lt;h2 id="pour-editoast">Pour editoast&lt;/h2>
&lt;p>Nous utilisons dependabot sur le projet pour signaler quand les d√©pendances sont obsol√®tes. Nous ne nous en servons pas pour mettre √† jour automatiquement les d√©pendances, pour int√©grer toutes les mises √† jour en une seule fois et relire les modifications.&lt;/p>
&lt;p>Pour mettre √† jour les d√©pendances :&lt;/p>
&lt;ol>
&lt;li>Changez les versions.
&lt;ul>
&lt;li>&lt;em>Si vous utilisez VSCode&lt;/em> vous pouvez installer l&amp;rsquo;extension &lt;a href="https://marketplace.visualstudio.com/items?itemName=serayuzgur.crates">&lt;code>serayuzgur.crates&lt;/code>&lt;/a> et ex√©cuter la commande &amp;ldquo;update all dependencies&amp;rdquo;.&lt;br>
Cela mettra √† jour toutes les d√©pendances vers leur derni√®re version, et √©crasera les contraintes de version trop larges.&lt;br>
Assurez-vous que la nouvelle version choisie est stable, et que les contraintes volontairement larges ne sont pas √©cras√©es par votre commit.&lt;/li>
&lt;li>&lt;em>Sinon&lt;/em> vous pouvez v√©rifier les versions utilis√©es par dependabot dans &lt;a href="https://github.com/osrd-project/osrd/pulls?q=is%3Aopen+label%3Aarea%3Aeditoast+label%3Adependencies">ses PRs&lt;/a> et mettre √† jour les versions manuellement.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Ex√©cutez &lt;code>cargo update&lt;/code> pour mettre √† jour le fichier Cargo.lock (y compris les sous-d√©pendances).&lt;/li>
&lt;li>V√©rifiez que tous les &lt;a href="https://github.com/osrd-project/osrd/pulls?q=is%3Aopen+label%3Aarea%3Aeditoast+label%3Adependencies">PRs dependabot editoast&lt;/a> sont inclus dans votre commit.&lt;/li>
&lt;li>Adaptez le code aux nouvelles versions, si n√©cessaire.&lt;/li>
&lt;li>Cr√©ez un PR avec vos modifications, et reliez-y tous les PRs dependabot en description.&lt;/li>
&lt;/ol></description></item><item><title>Docs: Signaler des probl√®mes</title><link>https://osrd.fr/fr/docs/guides/contribute/bug-reports/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/guides/contribute/bug-reports/</guid><description>
&lt;p>&lt;strong>N&amp;rsquo;h√©sitez pas √† signaler tout ce qui vous semble important !&lt;/strong>&lt;/p>
&lt;p>Notre outil de suivi des bugs est &lt;a href="https://github.com/osrd-project/osrd/issues">github&lt;/a>. Il est n√©cessaire de s&amp;rsquo;inscrire pour signaler un bug.&lt;/p>
&lt;p>Suivez &lt;a href="https://github.com/osrd-project/osrd/issues/new/choose">ce lien&lt;/a> et choisissez le mod√®le qui correspond √† votre cas de figure.&lt;/p>
&lt;h3 id="bugs">Bugs&lt;/h3>
&lt;ul>
&lt;li>Le bug doit avoir une description correcte et le mod√®le du bug doit √™tre rempli avec soin.&lt;/li>
&lt;li>Le bug doit √™tre √©tiquet√© avec (&lt;em>pour les membres de l&amp;rsquo;√©quipe&lt;/em>) :
&lt;ul>
&lt;li>&lt;code>kind:bug&lt;/code>&lt;/li>
&lt;li>une ou plusieurs &lt;code>area:&amp;lt;affected_area&amp;gt;&lt;/code> si possible (si la zone affect√©e n&amp;rsquo;est pas connue, laissez-la vide et elle sera ajout√©e plus tard par un autre membre de l&amp;rsquo;√©quipe).&lt;/li>
&lt;li>un &lt;code>severity:&amp;lt;bug_severity&amp;gt;&lt;/code> si possible (si la s√©v√©rit√© n&amp;rsquo;est pas connue, laissez-la vide et elle sera ajout√©e plus tard par un autre membre de l&amp;rsquo;√©quipe).
&lt;ul>
&lt;li>&lt;code>severity:minor&lt;/code> : L&amp;rsquo;utilisateur peut encore utiliser la fonctionnalit√©.&lt;/li>
&lt;li>&lt;code>severity:major&lt;/code> : L&amp;rsquo;utilisateur ne peut parfois pas utiliser la fonctionnalit√©.&lt;/li>
&lt;li>&lt;code>severity:critical&lt;/code> : L&amp;rsquo;utilisateur ne peut pas utiliser la fonctionnalit√©.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Les membres de l&amp;rsquo;√©quipe OSRD peuvent modifier les √©tiquettes des probl√®mes (gravit√©, domaine, type, &amp;hellip;).
Vous pouvez laisser un commentaire pour expliquer les changements.&lt;/li>
&lt;li>Si vous travaillez sur un bug ou planifiez de travailler sur un bug, assignez vous au bug.&lt;/li>
&lt;li>Les PRs qui r√©solvent des bugs doivent ajouter des tests de r√©gression pour s&amp;rsquo;assurer que le bug ne reviendra pas dans le futur.&lt;/li>
&lt;/ul></description></item><item><title>Docs: Zones neutres</title><link>https://osrd.fr/fr/docs/explanation/models/neutral_sections/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/explanation/models/neutral_sections/</guid><description>
&lt;h2 id="objet-physique-que-lon-cherche-√†-mod√©liser">Objet physique que l&amp;rsquo;on cherche √† mod√©liser&lt;/h2>
&lt;h3 id="introduction">Introduction&lt;/h3>
&lt;p>Pour qu&amp;rsquo;un train puisse circuler, il faut soit qu&amp;rsquo;il ait une source d&amp;rsquo;√©nergie √† bord (fuel, batterie, hydrog√®ne, &amp;hellip;) soit qu&amp;rsquo;on l&amp;rsquo;alimente en √©nergie tout au long de son parcours.&lt;/p>
&lt;p>Pour fournir cette √©nergie, des c√¢bles √©lectriques sont suspendus au dessus des voies: les &lt;em>cat√©naires&lt;/em>. Le train assure ensuite un contact avec ces c√¢bles gr√¢ce √† un patin conducteur mont√© sur un bras m√©canique: le &lt;em>pantographe&lt;/em>.&lt;/p>
&lt;h3 id="zones-neutres">Zones neutres&lt;/h3>
&lt;p>Avec ce syst√®me il est difficile d&amp;rsquo;assurer l&amp;rsquo;alimentation √©lectrique d&amp;rsquo;un train en continu sur toute la longueur d&amp;rsquo;une ligne: sur certaines portions de voie, il est n√©cessaire de couper l&amp;rsquo;alimentation √©lectrique du train. Ce sont ces portions que l&amp;rsquo;on appelle &lt;strong>zones neutres&lt;/strong>.&lt;/p>
&lt;p>En effet, pour √©viter les pertes √©nerg√©tiques le long des cat√©naires, le courant est fourni par plusieurs sous-stations r√©parties le long des voies. Deux portions de cat√©naires aliment√©es par des sous-stations diff√©rentes doivent √™tre isol√©es √©lectriquement pour √©viter les courts-circuits.&lt;/p>
&lt;p>Par ailleurs, la fa√ßon dont les voies sont √©lectrifi√©es (courant continu ou non par exemple) peut changer selon les us locaux et l&amp;rsquo;√©poque d&amp;rsquo;installation. Il faut √©galement isoler √©lectriquement les portions de voies qui sont √©lectrifi√©es diff√©remment. Le train doit aussi (sauf cas particuliers) changer de pantographe lorsqu&amp;rsquo;il change de type d&amp;rsquo;√©lectrification.&lt;/p>
&lt;p>Dans ces deux cas on indique alors au conducteur de couper la traction du train, et parfois m√™me d&amp;rsquo;en baisser le pantographe.&lt;/p>
&lt;p>Dans l&amp;rsquo;infrastructure fran√ßaise, ces zones sont signal√©es par des panneaux d&amp;rsquo;annonce, d&amp;rsquo;ex√©cution et de fin. Ces panneaux portent par ailleurs l&amp;rsquo;indication de baisser le pantographe ou non. Les portions de voies entre l&amp;rsquo;ex√©cution et la fin peuvent ne pas √™tre √©lectrifi√©es enti√®rement, et m√™me ne pas poss√©der de cat√©naire (dans ce cas la zone n√©cessite forc√©ment de baisser le pantographe).&lt;br>
Parfois, des pancartes &lt;em>REV&lt;/em> (pour r√©versible) sont plac√©es en aval des panneaux de fin de zone. Elles sont destin√©es aux trains qui circulent avec un pantographe √† l&amp;rsquo;arri√®re du train. Ces pancartes indiquent que le conducteur peut reprendre la traction en toute s√©curit√©.&lt;/p>
&lt;p>Par ailleurs il peut parfois √™tre impossible sur une courte portion de voie de placer une cat√©naire ou bien de lever le pantographe du train. Dans ce cas la ligne est tout de m√™me consid√©r√©e √©lectrifi√©e, et la zone sans √©lectrification (passage sous un pont par exemple) est consid√©r√©e comme une zone neutre.&lt;/p>
&lt;h3 id="mat√©riel-roulant">Mat√©riel roulant&lt;/h3>
&lt;p>Apr√®s avoir travers√© une zone neutre, un train doit reprendre la traction. Ce n&amp;rsquo;est pas imm√©diat (quelques secondes), et la dur√©e n√©cessaire d√©pend du mat√©riel roulant.&lt;/p>
&lt;p>Il doit √©galement, le cas √©ch√©ant, relever son pantographe, ce qui prend √©galement du temps (quelques dizaines de secondes) et d√©pend √©galement du mat√©riel roulant.&lt;/p>
&lt;p>Ainsi la marche sur l&amp;rsquo;erre impos√©e au train s&amp;rsquo;√©tend en dehors de la zone neutre, puisque ces temps syst√®mes sont √† d√©compter √† partir de la fin de la zone neutre.&lt;/p>
&lt;h2 id="mod√®le-de-donn√©es">Mod√®le de donn√©es&lt;/h2>
&lt;p>Nous avons choisi de mod√©liser les zones neutres comme l&amp;rsquo;espace entre les panneaux li√©s √† celle-ci (et non pas comme la zone pr√©cise o√π il n&amp;rsquo;y a pas de cat√©naire ou bien o√π la cat√©naire n&amp;rsquo;est pas √©lectrifi√©e).&lt;/p>
&lt;p>Cette zone est directionnelle, &lt;em>i.e.&lt;/em> associ√©e √† un sens de circulation, pour pouvoir prendre en compte des placements de panneaux diff√©rents selon le sens. Le panneau d&amp;rsquo;ex√©cution d&amp;rsquo;un sens donn√© n&amp;rsquo;est pas n√©cessairement plac√© √† la m√™me position que le panneau de fin de zone du sens oppos√©.&lt;/p>
&lt;p>Pour une voie √† double sens, une zone neutre est donc repr√©sent√©e par deux objets.&lt;/p>
&lt;p>Le schema est le suivant&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-json" data-lang="json">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;lower_pantograph&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#a40000">boolean&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;track_ranges&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">[&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;track&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#a40000">string&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;start&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#a40000">number&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;end&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#a40000">number&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;direction&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#a40000">enum&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">],&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;announcement_track_ranges&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000;font-weight:bold">[&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;track&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#a40000">string&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;start&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#a40000">number&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;end&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#a40000">number&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">&amp;#34;direction&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#a40000">enum&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000;font-weight:bold">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>&lt;code>lower_pantograph&lt;/code> : indique si le pantographe doit √™tre baiss√© dans cette zone&lt;/li>
&lt;li>&lt;code>track_ranges&lt;/code> : liste des portions de voie o√π le train ne doit pas tractionner&lt;/li>
&lt;li>&lt;code>announcement_track_ranges&lt;/code> : liste des portions de voie entre le panneau d&amp;rsquo;annonce et le panneau d‚Äôex√©cution&lt;/li>
&lt;/ul>
&lt;h2 id="affichage">Affichage&lt;/h2>
&lt;h3 id="cartographie">Cartographie&lt;/h3>
&lt;p>Les zones affich√©es dans la cartographie correspondent aux &lt;code>track_ranges&lt;/code>, donc entre les panneaux d‚Äôex√©cution et de fin de zone. La couleur de la zone indique si le train doit baisser son pantographe dans la zone ou non.&lt;/p>
&lt;p>La direction dans laquelle la zone s&amp;rsquo;applique n&amp;rsquo;est pas repr√©sent√©e.&lt;/p>
&lt;h3 id="r√©sultat-de-simulation">R√©sultat de simulation&lt;/h3>
&lt;p>Dans l&amp;rsquo;affichage lin√©aire, c&amp;rsquo;est toujours la zone entre EXE et FIN qui est affich√©e.&lt;/p>
&lt;h2 id="recherche-ditin√©raire">Recherche d&amp;rsquo;itin√©raire&lt;/h2>
&lt;p>Les zones neutres sont donc des portions de voie &amp;ldquo;non √©lectrifi√©es&amp;rdquo; o√π un train √©lectrique peut tout de m√™me circuler (mais o√π il ne peut pas tractionner).&lt;/p>
&lt;p>Lors de la recherche de chemin dans l&amp;rsquo;infrastructure, une portion de voie qui n&amp;rsquo;est pas couverte par les &lt;code>track_ranges&lt;/code> d&amp;rsquo;un objet cat√©naire (documentation √† √©crire) peut √™tre emprunt√©e par un train √©lectrique seulement si elle est couverte par les &lt;code>track_ranges&lt;/code> d&amp;rsquo;une zone neutre.&lt;/p>
&lt;h2 id="simulation">Simulation&lt;/h2>
&lt;p>Dans la simulation, nous approximons le comportement du conducteur de la fa√ßon suivante :&lt;/p>
&lt;ul>
&lt;li>La marche sur l&amp;rsquo;erre est entam√©e d√®s que la t√™te du train passe le panneau d&amp;rsquo;annonce&lt;/li>
&lt;li>Le d√©compte des temps syst√®mes (relev√© du pantographe et reprise de la traction) commence d√®s que la t√™te du train passe le panneau de fin.&lt;/li>
&lt;/ul>
&lt;p>Dans la simulation actuelle, il est plus facile de manier des bornes d&amp;rsquo;int√©gration spatiales que temporelles. Nous effectuons l&amp;rsquo;approximation suivante: lors de la sortie de la zone neutre, on multiplie les temps syst√®mes par la vitesse en sortie de zone. La marche sur l&amp;rsquo;erre est alors prolong√©e de la distance obtenue. Cette approximation est raisonnable car l&amp;rsquo;inertie du train et la quasi-absence de frottement garantissent que la vitesse varie peu sur cet intervalle de temps.&lt;/p>
&lt;h2 id="potentielles-am√©liorations">Potentielles am√©liorations&lt;/h2>
&lt;p>Plusieurs points pourraient √™tre am√©lior√©s :&lt;/p>
&lt;ul>
&lt;li>On ne consid√®re pas les pancartes &lt;em>REV&lt;/em>, tous les trains ne poss√®dent donc qu&amp;rsquo;un pantographe √† l&amp;rsquo;avant dans nos simulations.&lt;/li>
&lt;li>Les temps syst√®mes sont approxim√©s.&lt;/li>
&lt;li>Le comportement conducteur est plut√¥t restrictif (la marche sur l&amp;rsquo;erre pourrait commencer apr√®s le panneau d&amp;rsquo;annonce).&lt;/li>
&lt;li>L&amp;rsquo;affichage des zones est limit√©: pas de repr√©sentation de la direction ou des zones d&amp;rsquo;annonce.&lt;/li>
&lt;li>Ces zones ne sont pas √©ditables.&lt;/li>
&lt;/ul></description></item><item><title>Docs: Discontinuit√©s et retours en arri√®re</title><link>https://osrd.fr/fr/docs/reference/design-docs/stdcm/pathfinding_module/backtracking/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/reference/design-docs/stdcm/pathfinding_module/backtracking/</guid><description>
&lt;h4 id="le-probl√®me-des-discontinuit√©s">Le probl√®me des discontinuit√©s&lt;/h4>
&lt;p>Au moment d&amp;rsquo;explorer une ar√™te du graphe, on effectue un calcul de
marche pour conna√Ætre l&amp;rsquo;√©volution de la vitesse.
Mais il n&amp;rsquo;est pas possible de voir plus loin que l&amp;rsquo;ar√™te en question,
ce qui est g√™nant pour calculer les courbes de freinages qui peuvent
n√©cessiter de commencer √† freiner plusieurs kilom√®tres avant l&amp;rsquo;arriv√©e.&lt;/p>
&lt;p>&lt;img src="discontinuity.png" alt="Discontinuit√©">&lt;/p>
&lt;blockquote>
&lt;p>Cet exemple illustre le probl√®me : par d√©faut
la premi√®re ar√™te est explor√©e en allant √† la vitesse maximale.
C&amp;rsquo;est seulement en explorant la seconde ar√™te que la destination devient visible,
sans que la distance restante soit suffisante pour s&amp;rsquo;arr√™ter.&lt;/p>
&lt;/blockquote>
&lt;h4 id="la-solution--revenir-en-arri√®re">La solution : revenir en arri√®re&lt;/h4>
&lt;p>Pour r√©gler ce probl√®me, lorsqu&amp;rsquo;une ar√™te est g√©n√©r√©e avec une discontinuit√©
dans les courbes de vitesse, l&amp;rsquo;algorithme revient sur les ar√™tes pr√©c√©dentes
pour en cr√©er des nouvelles qui incluent les d√©c√©l√©rations.&lt;/p>
&lt;p>Pour donner un exemple simplifi√©, sur un chemin de 4 routes
o√π le train peut acc√©l√©rer ou d√©c√©l√©rer de 10km/h par route :&lt;/p>
&lt;p>&lt;img src="backtracking_1.png" alt="Discontinuit√© (version ar√™tes, 1/2)">&lt;/p>
&lt;p>Pour que le train s&amp;rsquo;arr√™te √† la fin de la route 4, il doit √™tre au plus √† 10km/h
√† la fin de la route 3. Une nouvelle ar√™te est alors cr√©√©e sur la route
3 qui finit √† 10km/h. Une d√©c√©l√©ration est ensuite calcul√©e √† rebours de la fin de la route
vers le d√©but, jusqu&amp;rsquo;√† retrouver la courbe d&amp;rsquo;origine (ou le d√©but
de l&amp;rsquo;arr√™te).&lt;/p>
&lt;p>Dans cet exemple, la discontinuit√© a seulement √©t√© d√©plac√©e vers la
transition entre les routes 2 et 3. Le proc√©d√© est ensuite r√©it√©r√©
sur la route 2, ce qui donne le r√©sultat suivant :&lt;/p>
&lt;p>&lt;img src="backtracking_2.png" alt="Discontinuit√© (version ar√™tes, 2/2)">&lt;/p>
&lt;p>Les anciennes ar√™tes sont toujours pr√©sentes dans le graphe, elles
peuvent mener √† d&amp;rsquo;autres solutions.&lt;/p></description></item><item><title>Docs: Interface avec la signalisation</title><link>https://osrd.fr/fr/docs/reference/design-docs/stdcm/signaling_interface/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/reference/design-docs/stdcm/signaling_interface/</guid><description>
&lt;p>Cette interface est encore en cours de conception.&lt;/p>
&lt;h4 id="objectifs-et-contraintes">Objectifs et contraintes&lt;/h4>
&lt;p>L&amp;rsquo;interface doit respecter plusieurs crit√®res :&lt;/p>
&lt;ul>
&lt;li>Les calculs se basent sur le nouveau mod√®le de signalisation,
avec la notion de r√©servations d&amp;rsquo;objets capacitaires&lt;/li>
&lt;li>Les sillons g√©n√©r√©s ne doivent jamais g√©n√©rer de nouveaux conflits :
l&amp;rsquo;interface peut √™tre pessimiste sur les possibilit√©s, mais jamais
plus permissive que la r√©alit√©.&lt;/li>
&lt;li>Id√©alement, le module de recherche de sillon devrait rester
un bloc ind√©pendant avec un minimum de changements (dans la mesure
du possible).&lt;/li>
&lt;/ul>
&lt;p>L&amp;rsquo;objectif serait donc d&amp;rsquo;interpr√©ter le mod√®le de signalisation,
pour g√©n√©rer des entr√©es valides pour le module de recherche
de sillon : un graphe d&amp;rsquo;infrastructure et des intervalles
de disponibilit√©s de sections.&lt;/p>
&lt;h4 id="difficult√©s">Difficult√©s&lt;/h4>
&lt;p>La plupart des contraintes √©tablies par la signalisation peuvent
facilement s&amp;rsquo;exprimer sous la forme de sections non disponibles,
sauf dans un cas : le comportement de la signalisation peut d√©pendre
du chemin emprunt√© par le train. Pour √™tre capable d&amp;rsquo;exprimer les
disponibilit√©s sur une zone, il peut √™tre n√©cessaire de devoir
anticiper la direction du train.&lt;/p>
&lt;h4 id="solution-propos√©e">Solution propos√©e&lt;/h4>
&lt;p>La proposition est d&amp;rsquo;√©crire un nouveau module qui se brancherait au module
de signalisation pour g√©rer les entr√©es pour la recherche
de sillon. Il effectuerait un parcours du graphe des itin√©raires
pour construire progressivement un graphe avec occupations au bon
format.&lt;/p>
&lt;p>√Ä chaque itin√©raire visit√©, l&amp;rsquo;algorithme regarde jusqu&amp;rsquo;o√π il est possible
de d√©terminer l&amp;rsquo;ensemble des occupations, c&amp;rsquo;est-√†-dire quel
est le premier signal dont l&amp;rsquo;√©tat d√©pend du prochain choix
d&amp;rsquo;itin√©raire du train. Une ar√™te est alors g√©n√©r√©e jusqu&amp;rsquo;√† ce point,
avec les occupations.&lt;/p>
&lt;p>La partie restante de l&amp;rsquo;itin√©raire n&amp;rsquo;est pas encore consid√©r√©e.
C&amp;rsquo;est seulement lorsque le graphe est explor√© un niveau plus loin,
avec l&amp;rsquo;itin√©raire suivant, que la fin de l&amp;rsquo;itin√©raire pr√©c√©dent
est int√©gr√©e. Elle fait alors partie de l&amp;rsquo;ar√™te suivante,
car √† ce moment davantage d&amp;rsquo;informations sont disponibles sur le
trajet du train.&lt;/p>
&lt;p>Par exemple :&lt;/p>
&lt;p>&lt;img src="example_interface_signaling_1.svg" alt="Configuration n√©cessitant d&amp;amp;rsquo;anticiper">&lt;/p>
&lt;p>Dans cette configuration en BAL3, il est possible de d√©terminer
l&amp;rsquo;absence de conflit des signaux 1 √† 4. Mais l&amp;rsquo;√©tat du signal
5 d√©pend de l&amp;rsquo;itin√©raire emprunt√© par le train : s&amp;rsquo;il va vers
le haut, le signal 5 affiche un avertissement. Dans le cas
contraire, il affiche un &amp;ldquo;voie libre&amp;rdquo;.&lt;/p>
&lt;p>&lt;img src="example_interface_signaling_2.svg" alt="Ar√™tes g√©n√©r√©es">&lt;/p>
&lt;p>Dans cet exemple, une premi√®re arr√™te est alors g√©n√©r√©e, allant
du premier signal jusqu&amp;rsquo;√† la premi√®re incertitude : le point
o√π le signal 5 est visible.&lt;/p>
&lt;p>Dans un second temps, une nouvelle ar√™te est g√©n√©r√©e pour chaque itin√©raire
accessible depuis la fin du pr√©c√©dent : un vers A, l&amp;rsquo;autre vers B.
La zone entre le signal 5 et l&amp;rsquo;aiguille sera donc dupliqu√©e
entre les deux ar√™tes, mais les occupations dans cette r√©gion seront
diff√©rentes.&lt;/p>
&lt;p>Ce graphe peut √™tre g√©n√©r√© au fil de l&amp;rsquo;exploration, sans surco√ªt
initial.&lt;/p></description></item><item><title>Docs: Le syst√®me d'enveloppes</title><link>https://osrd.fr/fr/docs/explanation/running_time_calculation/envelopes_system/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/explanation/running_time_calculation/envelopes_system/</guid><description>
&lt;p>Le syst√®me d&amp;rsquo;enveloppes est une interface cr√©√©e sp√©cifiquement pour le calcul de marche d&amp;rsquo;OSRD. Il permet de manipuler diff√©rentes courbes espace/vitesse, de les d√©couper, de les mettre bout √† bout, d&amp;rsquo;interpoler des points sp√©cifiques, et d&amp;rsquo;adresser beaucoup d&amp;rsquo;autres besoins n√©cessaires au calcul de marche.&lt;/p>
&lt;font color=#aa026d>
&lt;h3 id="une-interface-sp√©cifique-dans-le-service-osrd-core">Une interface sp√©cifique dans le service OSRD Core&lt;/h3>
&lt;/font>
&lt;p>Le syst√®me d&amp;rsquo;enveloppes fait partie du service core d&amp;rsquo;OSRD (voir &lt;a href="../architecture/_index">l&amp;rsquo;architecture du logiciel&lt;/a>).&lt;/p>
&lt;p>Ses principaux composants sont :&lt;/p>
&lt;p>&lt;strong>1 - EnvelopePart :&lt;/strong> courbe espace/vitesse, d√©finie comme une s√©quence des points et poss√©dant des m√©tadonn√©es indiquant par exemple s&amp;rsquo;il s&amp;rsquo;agit d&amp;rsquo;une courbe d&amp;rsquo;acc√©l√©ration, de freinage, de maintien de vitesse, etc.&lt;/p>
&lt;p>&lt;strong>2 - Envelope :&lt;/strong> liste d&amp;rsquo;EnvelopeParts mises bout-√†-bout et sur laquelle il est possible d&amp;rsquo;effectuer certaines op√©rations :&lt;/p>
&lt;ul>
&lt;li>v√©rifier la continuit√© dans l‚Äôespace (obligatoire) et dans la vitesse (facultative)&lt;/li>
&lt;li>chercher la vitesse minimale et/ou maximale de l&amp;rsquo;enveloppe&lt;/li>
&lt;li>couper une partie de l‚Äôenveloppe entre deux points de l&amp;rsquo;espace&lt;/li>
&lt;li>effectuer une interpolation de vitesse √† une certaine position&lt;/li>
&lt;li>calculer le temps √©coul√© entre deux positions de l‚Äôenveloppe&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="../envelopes_scheme.png" alt="envelope_scheme">&lt;/p>
&lt;p>&lt;strong>3 - Overlays :&lt;/strong> syst√®me permettant d‚Äôajouter des EnvelopePart plus contraignantes (c&amp;rsquo;est-√†-dire dont la vitesse est plus faible) √† une enveloppe existante.&lt;/p>
&lt;font color=#aa026d>
&lt;h3 id="enveloppes-donn√©es-vs-enveloppes-calcul√©es">Enveloppes donn√©es vs enveloppes calcul√©es&lt;/h3>
&lt;/font>
&lt;p>Pendant la simulation, le train est cens√© suivre certaines instructions de vitesse. Celles-ci sont mod√©lis√©es dans OSRD par des enveloppes sous forme de courbes espace/vitesse. On en distingue deux types :&lt;/p>
&lt;ul>
&lt;li>Les enveloppes provenant &lt;strong>des donn√©es d&amp;rsquo;infrastructure et de mat√©riel roulant&lt;/strong>, comme la vitesse maximale de la ligne et la vitesse maximale du train. Etant des donn√©es d&amp;rsquo;entr√©e de notre calcul, elles ne correspondent pas √† des courbes ayant un sens physique, car elles ne sont pas issues des r√©sultats d&amp;rsquo;une int√©gration r√©elle des √©quations physiques du mouvement.&lt;/li>
&lt;li>Les enveloppes r√©sultant &lt;strong>d&amp;rsquo;une int√©gration r√©elle&lt;/strong> des √©quations du mouvement physique. Elles correspondent √† une courbe physiquement tenable par le train et contiennent √©galement des informations sur le temps.&lt;/li>
&lt;/ul>
&lt;p>Un exemple simple pour illustrer cette diff√©rence : si l&amp;rsquo;on simule un trajet de TER sur une ligne de montagne, une des donn√©es d&amp;rsquo;entr√©e va √™tre une enveloppe de vitesse maximale √† 160km/h, correspondant √† la vitesse maximale de notre TER. Mais cette enveloppe ne correspond pas √† une r√©alit√© physique, car il se peut que sur certaines portions la rampe soit trop raide pour que le train arrive effectivement √† maintenir cette vitesse maximale de 160km/h. L&amp;rsquo;enveloppe calcul√©e pr√©sentera donc dans cet exemple un d√©crochage de vitesse dans les zones de fortes rampes, l√† o√π l&amp;rsquo;enveloppe donn√©e √©tait parfaitement plate.&lt;/p>
&lt;font color=#aa026d>
&lt;h3 id="simulation-de-plusieurs-trains">Simulation de plusieurs trains&lt;/h3>
&lt;/font>
&lt;p>Dans le cas de la simulation de nombreux trains, le syst√®me de signalisation doit assurer &lt;strong>la s√©curit√©&lt;/strong>. L&amp;rsquo;effet de la signalisation sur le calcul de marche d&amp;rsquo;un train est reproduit en superposant des enveloppes dynamiques √† l&amp;rsquo;enveloppe statique. Une nouvelle enveloppe dynamique est introduite par exemple lorsqu&amp;rsquo;un signal se ferme. Le train suit l&amp;rsquo;enveloppe √©conomique statique superpos√©e aux enveloppes dynamiques, s&amp;rsquo;il y en a. Dans ce mode de simulation, un contr√¥le du temps est effectu√© par rapport √† un temps th√©orique provenant de l&amp;rsquo;information temporelle de l&amp;rsquo;enveloppe √©conomique statique. Si le train est en retard par rapport √† l&amp;rsquo;heure pr√©vue, il cesse de suivre l&amp;rsquo;enveloppe √©conomique et essaie d&amp;rsquo;aller plus vite. Sa courbe espace/vitesse sera donc limit√©e par l&amp;rsquo;enveloppe d&amp;rsquo;effort maximum.&lt;/p></description></item><item><title>Docs: Reservation</title><link>https://osrd.fr/fr/docs/reference/design-docs/interlocking/reservation/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/reference/design-docs/interlocking/reservation/</guid><description>
&lt;div class="alert alert-warning" role="alert">
Le mot r√©servation ici a pour sens r√©servation de la resource itin√©raire, et non le sens commande plannifi√©e d&amp;rsquo;itin√©raire
&lt;/div>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>Les zones (ou TVDSection / DetectionSection) sont des partitions physiques des voies :&lt;/p>
&lt;ul>
&lt;li>capables de d√©tecter la pr√©sence d&amp;rsquo;un train&lt;/li>
&lt;li>qui fournissent un service de r√©servation √† l&amp;rsquo;usage des routes&lt;/li>
&lt;/ul>
&lt;p>Chaque zone a un certain nombre de configurations diff√©rentes.
Par exemple, une zone sans aiguille aura deux configurations :&lt;/p>
&lt;ul>
&lt;li>sens pair&lt;/li>
&lt;li>sens impair&lt;/li>
&lt;/ul>
&lt;p>Une zone avec une aiguille aura 4 configurations possibles :&lt;/p>
&lt;ul>
&lt;li>sens pair voie principale&lt;/li>
&lt;li>sens impair voie principale&lt;/li>
&lt;li>sens pair voie d√©viation&lt;/li>
&lt;li>sens impair voie d√©viation&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Chaque zone ne peut √™tre r√©serv√©e que pour une configuration donn√©e √† la fois, mais peut √™tre r√©serv√©e simultan√©ment par plusieurs routes&lt;/strong>.
Une zone ne peut changer de configuration que lorsqu&amp;rsquo;elle n&amp;rsquo;est pas r√©serv√©e.&lt;/p>
&lt;div class="alert alert-info" role="alert">
&lt;p>En discutant avec des experts m√©tiers, vont entendrez parler d&amp;rsquo;&lt;a href="https://fr.wikipedia.org/wiki/Enclenchement">enclenchements&lt;/a>:
le terme viens de l&amp;rsquo;√©poque o√π les postes de signalisations √©taient enti√®rement m√©caniques.
Les enclenchements √©taient alors des objets physiques qui emp√™chaient certaines configurations.&lt;/p>
&lt;p>Une cons√©quence de cet h√©ritage historique et que beaucoup de r√®gles ferroviaires sont exprim√©es par contraintes au lieu d&amp;rsquo;√™tre exprim√©es par garanties.
Un enclenchement, c&amp;rsquo;est une garantie qu&amp;rsquo;une situation particuli√®re ne peut pas se produire.&lt;/p>
&lt;/div>
&lt;h3 id="√©tat-dynamique-dune-zone">√âtat dynamique d&amp;rsquo;une zone&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-rust" data-lang="rust">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">enum&lt;/span> &lt;span style="color:#000">ZoneState&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">/// A list of active reservations.
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">/// Each reservation requires a particular configuration to be upheld.
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">reservations&lt;/span>: &lt;span style="color:#000">VecDeque&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#000">ZoneReservation&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;gt;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">struct&lt;/span> &lt;span style="color:#000">ZoneReservation&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">/// The train which requires this reservation
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">train&lt;/span>: &lt;span style="color:#000">TrainHandle&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">// The configuration required for this reservation
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">requirements&lt;/span>: &lt;span style="color:#000">ZoneRequirements&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">/// The state of this reservation
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">status&lt;/span>: &lt;span style="color:#000">ZoneReservationStatus&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">enum&lt;/span> &lt;span style="color:#000">ZoneReservationStatus&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">/// In the process of being reserved, but not yet ready
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">PRE_RESERVED&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">/// The train can arrive anytime
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">RESERVED&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">/// The train is inside the zone
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">OCCUPIED&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">/// The zone is pending release
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">PENDING_RELEASE&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">struct&lt;/span> &lt;span style="color:#000">ZoneRequirements&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">entry&lt;/span>: &lt;span style="color:#204a87">Option&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#000">DirDetector&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;gt;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">exit&lt;/span>: &lt;span style="color:#204a87">Option&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#000">DirDetector&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;gt;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">movable_elements&lt;/span>: &lt;span style="color:#000">Map&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#000">MovableElement&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">MovableElementConfig&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;gt;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">impl&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">ZoneState&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">/// Get the combined requirements for all the currently active reservations
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">fn&lt;/span> &lt;span style="color:#000">get_combined_requirements&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&lt;/span>&lt;span style="color:#3465a4">self&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>-&amp;gt; &lt;span style="color:#204a87">Option&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#000">ZoneRequirements&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;gt;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">return&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#3465a4">self&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">reservations&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">map&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">|&lt;/span>&lt;span style="color:#000">res&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">|&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;amp;&lt;/span>&lt;span style="color:#000">res&lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">requirements&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">.&lt;/span>&lt;span style="color:#000">reduce&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">|&lt;/span>&lt;span style="color:#000">a&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">b&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">|&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">ZoneRequirements&lt;/span>::&lt;span style="color:#000">combine&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">a&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">b&lt;/span>&lt;span style="color:#000;font-weight:bold">))&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="exigences-de-conception">Exigences de conception&lt;/h2>
&lt;ul>
&lt;li>Les zones doivent pouvoir √™tre &lt;strong>verrouill√©es&lt;/strong> dans une configuration particuli√®re.&lt;/li>
&lt;li>Il doit √™tre possible pour plusieurs routes de &lt;strong>partager une r√©servation&lt;/strong> de configuration.&lt;/li>
&lt;li>Il doit √™tre possible d&amp;rsquo;observer l&amp;rsquo;&lt;strong>√©volution de statut d&amp;rsquo;une r√©servation&lt;/strong>.&lt;/li>
&lt;li>Il doit √™tre possible de faire √©voluer le statut d&amp;rsquo;une r√©servation.&lt;/li>
&lt;/ul>
&lt;h2 id="d√©pendances">D√©pendances&lt;/h2>
&lt;ul>
&lt;li>&lt;code>statique&lt;/code> les d√©tecteurs qui d√©limitent chaque zone&lt;/li>
&lt;li>&lt;code>statique&lt;/code> les aiguilles dans chaque zone&lt;/li>
&lt;li>&lt;code>dynamique&lt;/code> capacit√© d&amp;rsquo;observer l&amp;rsquo;occupation des zones&lt;/li>
&lt;li>&lt;code>dynamique&lt;/code> capacit√© d&amp;rsquo;actionner les √©l√©ments mobiles&lt;/li>
&lt;/ul>
&lt;h2 id="op√©rations">Op√©rations&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>espacement&lt;/strong>: Observer l&amp;rsquo;√©tat d&amp;rsquo;une zone&lt;/li>
&lt;li>&lt;strong>routage&lt;/strong>: Verrouiller et d√©verrouiller la zone : permet d&amp;rsquo;obtenir un droit d&amp;rsquo;action. Toutes les op√©rations en √©criture n√©cessitent d&amp;rsquo;avoir acquis le verrou.&lt;/li>
&lt;li>&lt;strong>routage&lt;/strong>: Attendre que toutes les r√©servations d&amp;rsquo;une zone expirent&lt;/li>
&lt;li>&lt;strong>routage&lt;/strong>: Pr√©-r√©server une configuration de zone&lt;/li>
&lt;li>&lt;strong>routage&lt;/strong>: Confirmer la r√©servation d&amp;rsquo;une zone&lt;/li>
&lt;li>&lt;strong>routage&lt;/strong>: Attendre que la r√©servation de la zone soit occup√©e par son train&lt;/li>
&lt;li>&lt;strong>routage&lt;/strong>: Relacher une r√©servation de zone&lt;/li>
&lt;/ul></description></item><item><title>Docs: Contourner les conflits</title><link>https://osrd.fr/fr/docs/reference/design-docs/stdcm/pathfinding_module/conflict_avoidance/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/reference/design-docs/stdcm/pathfinding_module/conflict_avoidance/</guid><description>
&lt;p>En explorant le graphe, il arrive souvent de tomber sur des situations
qui m√®neraient √† des conflits. Il faut √™tre en mesure de rajouter du d√©lai
pour les √©viter.&lt;/p>
&lt;h4 id="d√©calage-du-temps-de-d√©part">D√©calage du temps de d√©part&lt;/h4>
&lt;p>Dans les param√®tres de l&amp;rsquo;algorithme, le temps de d√©part est donn√©
sous la forme d&amp;rsquo;une fen√™tre : un temps de d√©part au plus t√¥t et au plus tard.
Tant que c&amp;rsquo;est possible, il est toujours pr√©f√©rable de d√©caler le temps
de d√©part pour √©viter les conflits.&lt;/p>
&lt;blockquote>
&lt;p>Par exemple : un train doit partir entre 10:00 et 11:00. En partant
√† 10:00, cela provoque un conflit, le train doit entrer en gare
d&amp;rsquo;arriv√©e 15 minutes plus tard. Il suffit de faire partir le train √†
10:15 pour r√©gler le probl√®me.&lt;/p>
&lt;/blockquote>
&lt;p>Dans OSRD, cette fonctionnalit√© est g√©r√©e en gardant une trace,
√† chaque ar√™te, du d√©calage maximal du temps de d√©part qui pourra
√™tre ajout√© sur la suite du parcours. Tant que cette valeur est suffisante,
tous les conflits sont √©vit√©s par ce moyen.&lt;/p>
&lt;p>Le d√©calage du temps de d√©part est une valeur stock√©e sur chaque ar√™te
et additionn√©e √† la fin de la recherche de chemin.&lt;/p>
&lt;blockquote>
&lt;p>Par exemple :&lt;/p>
&lt;ul>
&lt;li>un train doit partir entre 10:00 et 11:00. La recherche
commence avec un d√©lai maximal de 1:00.&lt;/li>
&lt;li>Apr√®s quelques ar√™tes, une non-disponibilit√© est constat√©e
20 minutes apr√®s notre passage. La valeur passe donc √†
20 minutes pour la suite du parcours.&lt;/li>
&lt;li>Le temps de d√©part est ensuite d√©cal√© de 5 minutes pour contourner
un conflit, modifiant le d√©calage maximal √† 15 minutes.&lt;/li>
&lt;li>Ce proc√©d√© continue jusqu&amp;rsquo;√† arriver √† la fin du trajet, ou
jusqu&amp;rsquo;au point o√π il faut ajouter plus de d√©lai.&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h4 id="marges-de-construction">Marges de construction&lt;/h4>
&lt;p>Quand la valeur de d√©calage maximal du temps de d√©part tombe √† 0,
il faut rajouter du d√©lai entre deux points du parcours du train.&lt;/p>
&lt;p>&lt;img src="engineering_allowance.png" alt="Marge de construction (1/2)">&lt;/p>
&lt;p>Le principe est le m√™me que pour r√©gler les discontinuit√©s de vitesse :
le graphe est parcouru en arri√®re pour cr√©er de nouvelles ar√™tes.&lt;/p>
&lt;p>&lt;img src="engineering_allowance_edges.png" alt="Marge de construction (2/2)">&lt;/p>
&lt;p>La &lt;a href="https://osrd.fr/fr/docs/explanation/running_time_calculation/allowances/" title="marges">marge de construction&lt;/a>
est une fonctionnalit√© du calcul de marche
permettant d&amp;rsquo;ajouter un d√©lai donn√© entre deux point du parcours.&lt;/p></description></item><item><title>Docs: Le processus de calcul de marche</title><link>https://osrd.fr/fr/docs/explanation/running_time_calculation/pipeline/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/explanation/running_time_calculation/pipeline/</guid><description>
&lt;p>Le calcul de marche dans OSRD est un processus √† 4 √©tapes, utilisant chacune &lt;a href="../envelopes_system">le syst√®me d&amp;rsquo;enveloppes&lt;/a> :&lt;/p>
&lt;ol>
&lt;li>&lt;a href="#calcul-du-profil-de-vitesse-le-plus-restrictif">Construction du profil de vitesse le plus restrictif&lt;/a>&lt;/li>
&lt;li>&lt;a href="#calcul-du-profil-de-vitesse-maximale">Ajout des diff√©rentes courbes de freinage&lt;/a>&lt;/li>
&lt;li>&lt;a href="#calcul-du-profil-deffort-maximal">Ajout des diff√©rentes courbes d&amp;rsquo;acc√©l√©ration et v√©rification des courbes de vitesse constante&lt;/a>&lt;/li>
&lt;li>&lt;a href="#application-de-marges">Application de marge(s)&lt;/a>&lt;/li>
&lt;/ol>
&lt;p>&amp;nbsp;&lt;/p>
&lt;font color=#aa026d>
&lt;h3 id="calcul-du-profil-de-vitesse-le-plus-restrictif">Calcul du profil de vitesse le plus restrictif&lt;/h3>
&lt;/font>
&lt;p>Une premi√®re enveloppe est calcul√©e au d√©but de la simulation en regroupant toutes les limites de vitesse statiques :&lt;/p>
&lt;ul>
&lt;li>vitesse maximale de la ligne&lt;/li>
&lt;li>vitesse maximale du mat√©riel roulant&lt;/li>
&lt;li>limitations temporaires de vitesse (en cas de travaux sur une ligne par exemple)&lt;/li>
&lt;li>limitations de vitesse par cat√©gorie de train&lt;/li>
&lt;li>limitations de vitesse selon la charge du train&lt;/li>
&lt;li>limitations de vitesse correspondant √† des panneaux de signalisation&lt;/li>
&lt;/ul>
&lt;p>La longueur du train est √©galement prise en compte pour s&amp;rsquo;assurer que le train n&amp;rsquo;acc√©l√®re qu&amp;rsquo;une fois sa queue ayant quitt√© la zone de plus faible vitesse. Un d√©calage est alors appliqu√© √† la courbe en pointill√©e rouge. L&amp;rsquo;enveloppe r√©sultante (courbe noire) est appel√©e &lt;strong>MRSP (Most Restricted Speed Profile)&lt;/strong> correspondant donc au profil de vitesse le plus restrictif. C&amp;rsquo;est sur cette enveloppe que seront calcul√©es les √©tapes suivantes.&lt;/p>
&lt;p>&lt;img src="../mrsp.png" alt="Most Restricted Speed Profile">&lt;/p>
&lt;blockquote>
&lt;p>La ligne pointill√©e rouge repr√©sente la vitesse maximale autoris√©e en fonction de la position.
La ligne noire repr√©sente le MRSP o√π la longueur du train a √©t√© prise en compte.&lt;/p>
&lt;/blockquote>
&lt;p>Il est √† noter que les diff√©rentes envelopeParts composant le MRSP sont des donn√©es d&amp;rsquo;entr√©e, elles ne correspondent donc pas √† des courbes avec une r√©alit√© physique.&lt;/p>
&lt;font color=#aa026d>
&lt;h3 id="calcul-du-profil-de-vitesse-maximale">Calcul du profil de vitesse maximale&lt;/h3>
&lt;/font>
&lt;p>En partant du MRSP, toutes les courbes de freinage sont calcul√©es gr√¢ce au syst√®me d&amp;rsquo;overlay (voir &lt;a href="../envelopes_system/#une-interface-sp%C3%A9cifique-dans-le-service-osrd-core">ici&lt;/a> pour plus de d√©tails sur les overlays), c&amp;rsquo;est-√†-dire en cr√©ant des envelopeParts qui seront plus restrictives que le MRSP. La courbe ainsi obtenue est appel√©e &lt;strong>Max Speed Profile&lt;/strong> (profil de vitesse maximale). Il s&amp;rsquo;agit de l&amp;rsquo;enveloppe de vitesse maximale du train, tenant compte de ses capacit√©s de freinage.&lt;/p>
&lt;p>Etant donn√© que les courbes de freinage ont un point de fin impos√© et que l&amp;rsquo;√©quation de freinage n&amp;rsquo;a pas de solution analytique, il est impossible de pr√©dire leur point de d√©part. Les courbes de freinage sont donc calcul√©es √† rebours en partant de leur point cible, c&amp;rsquo;est-√†-dire le point dans l&amp;rsquo;espace o√π une certaine limite de vitesse est impos√©e (vitesse cible finie) ou le point d&amp;rsquo;arr√™t (vitesse cible nulle).&lt;/p>
&lt;p>&lt;img src="../msp.png" alt="Max Speed Profile">&lt;/p>
&lt;p>Pour des raisons historiques en production horaire, les courbes de freinages sont calcul√©es avec une d√©c√©l√©ration forfaitaire, dite d√©c√©l√©ration horaire (typiquement ~0,5m/s¬≤) sans prendre en compte les autres forces. Cette m√©thode a donc √©galement √©t√© impl√©ment√©e dans OSRD, permettant ainsi de calculer les freinages de deux mani√®res diff√©rentes : avec ce taux horaire ou avec une force de freinage qui vient simplement s&amp;rsquo;ajouter aux autres forces.&lt;/p>
&lt;font color=#aa026d>
&lt;h3 id="calcul-du-profil-deffort-maximal">Calcul du profil d&amp;rsquo;effort maximal&lt;/h3>
&lt;/font>
&lt;p>Pour chaque point correspondant √† une augmentation de vitesse dans le &lt;strong>MRSP&lt;/strong> ou √† la fin d&amp;rsquo;une courbe de freinage d&amp;rsquo;arr√™t, une courbe d&amp;rsquo;acc√©l√©ration est calcul√©e. Les courbes d&amp;rsquo;acc√©l√©ration sont calcul√©es en tenant compte de toutes les forces actives (force de traction, r√©sistance √† l&amp;rsquo;avancement, poids) et ont donc un sens physique.&lt;/p>
&lt;p>Pour les envelopeParts dont le sens physique n&amp;rsquo;a pas encore √©t√© v√©rifi√© (qui √† ce stade sont les phases de circulation √† vitesse constante, provenant toujours du MRSP), une nouvelle int√©gration des √©quations de mouvement est effectu√©e. Ce dernier calcul est n√©cessaire pour prendre en compte d&amp;rsquo;√©ventuels d√©crochages de vitesse dans le cas o√π le train serait physiquement incapable de tenir sa vitesse, typiquement en pr√©sence de fortes rampes (voir &lt;a href="../envelopes_system/#enveloppes-donn%C3%A9es-vs-enveloppes-calcul%C3%A9es">cet exemple&lt;/a>).&lt;/p>
&lt;p>L&amp;rsquo;enveloppe qui r√©sulte de ces ajouts de courbes d&amp;rsquo;acc√©l√©rations et de la v√©rification des plateaux de vitesse est appel√©e &lt;strong>Max Effort Profile&lt;/strong> (profil d&amp;rsquo;effort maximal).&lt;/p>
&lt;p>&lt;img src="../mep.png" alt="Max Effort Profile">&lt;/p>
&lt;p>A ce stade, l&amp;rsquo;enveloppe obtenue est continue et a un sens physique du d√©but √† fin. Le train acc√©l√®re au maximum, roule aussi vite que possible en fonction des diff√©rentes limites de vitesse et de ses capacit√©s motrices, et freine au maximum. Le calcul de marche obtenu s&amp;rsquo;appelle la &lt;strong>marche de base&lt;/strong>. Elle correspond au trajet le plus rapide possible pour le mat√©riel roulant donn√© sur le parcours donn√©.&lt;/p>
&lt;font color=#aa026d>
&lt;h3 id="application-de-marges">Application de marge(s)&lt;/h3>
&lt;/font>
&lt;p>Apr√®s avoir effectu√© le calcul de la marche de base (correspondant au Max Effort Profile dans OSRD), il est possible d&amp;rsquo;y appliquer des marges (allowances). Les marges sont des ajouts de temps suppl√©mentaire au parcours du train. Elles servent notamment √† lui permettre de rattraper son retard si besoin ou √† d&amp;rsquo;autres besoins op√©rationnels (plus de d√©tails sur les marges &lt;a href="../allowances">ici&lt;/a>).&lt;/p>
&lt;p>Une nouvelle enveloppe &lt;strong>Allowances&lt;/strong> est donc calcul√©e gr√¢ce √† des overlays pour distribuer la marge demand√©e par l&amp;rsquo;utilisateur sur l&amp;rsquo;enveloppe d&amp;rsquo;effort maximal calcul√©e pr√©c√©demment.&lt;/p>
&lt;p>&lt;img src="../allowances.png" alt="Marges">&lt;/p>
&lt;p>Dans le calcul de marche d&amp;rsquo;OSRD, il est possible de distribuer les marges d&amp;rsquo;une mani√®re lin√©aire, en abaissant toutes les vitesses d&amp;rsquo;un certain facteur, ou √©conomique, c&amp;rsquo;est-√†-dire en minimisant la consommation d&amp;rsquo;√©nergie pendant le parcours du train.&lt;/p></description></item><item><title>Docs: Contribuer du code</title><link>https://osrd.fr/fr/docs/guides/contribute/code/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/guides/contribute/code/</guid><description>
&lt;div class="alert alert-warning" role="alert">
&lt;p>Tout le code du d√©pot OSRD est mis √† disposition sous &lt;a href="https://choosealicense.com/licenses/lgpl-3.0/">la licence LGPLv3&lt;/a>.
En contribuant du code, vous acceptez la redistribution de votre contribution sous cette license.&lt;/p>
&lt;p>La licence LGPL interdit de modifier OSRD sans publier le code source de l&amp;rsquo;application modifi√©e: profitez du travail des autres, et laissez les autres profiter de votre travail !&lt;/p>
&lt;p>Cette contrainte n&amp;rsquo;est pas contagieuse √† travers les API: Il est possible d&amp;rsquo;utiliser OSRD comme biblioth√®que, framework ou serveur pour s&amp;rsquo;interfacer avec des composants propri√©taires. N&amp;rsquo;h√©sitez pas √† proposer des changements pour r√©pondre √† vos besoins.&lt;/p>
&lt;/div>
&lt;h2 id="mise-en-place">Mise en place&lt;/h2>
&lt;div class="alert alert-info" role="alert">
La plupart des d√©veloppeurs OSRD utilisent Linux (y compris &lt;a href="https://learn.microsoft.com/fr-fr/windows/wsl/">WSL&lt;/a>). Vous pouvez utiliser Windows ou MacOS, mais pourriez rencontrer quelques probl√®mes.
&lt;/div>
&lt;h3 id="obtenir-le-code-source">Obtenir le code source&lt;/h3>
&lt;ul>
&lt;li>Installer &lt;a href="https://git-scm.com/">&lt;code>git&lt;/code>&lt;/a>&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/li>
&lt;li>Ouvrir un terminal&lt;sup id="fnref:2">&lt;a href="#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup> dans le dossier qui contiendra le code source d&amp;rsquo;OSRD&lt;/li>
&lt;li>&lt;code>git clone git@github.com:osrd-project/osrd&lt;/code>&lt;/li>
&lt;/ul>
&lt;h3 id="lancer-lapplication">Lancer l&amp;rsquo;application&lt;/h3>
&lt;p>Gr√¢ce √† &lt;code>docker&lt;/code>, on peut facilement compiler, configurer, et lancer les diff√©rents composants apr√®s un changement. On peut aussi choisir de lancer seulement une partie des composants.&lt;/p>
&lt;ul>
&lt;li>Installer &lt;code>docker&lt;/code> &lt;sup id="fnref1:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;sup id="fnref:3">&lt;a href="#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>.&lt;/li>
&lt;li>Suivre le &lt;a href="https://github.com/osrd-project/osrd#getting-started">README d&amp;rsquo;OSRD&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h2 id="partager-vos-changements">Partager vos changements&lt;/h2>
&lt;p>Ce chapitre d√©crit le processus aboutissant √† l&amp;rsquo;int√©gration de code au sein du projet. &lt;strong>Si vous avez besoin d&amp;rsquo;aide, ouvrez une issue ou envoyez un message instantan√©.&lt;/strong>&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Si vous n&amp;rsquo;√™tre pas un habitu√© de Git, &lt;a href="https://learngitbranching.js.org/">suivez ce tutoriel&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Cr√©ez une branche&lt;/strong>&lt;br>
Si vous comptez contribuer r√©guli√®rement, vous pouvez demander acc√®s au &lt;a href="https://github.com/osrd-project/osrd">d√©pot principal&lt;/a>. Sinon, &lt;a href="https://github.com/osrd-project/osrd/fork">cr√©ez un fork&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Ajoutez des changements sur votre branche&lt;/strong>&lt;br>
Essayez de d√©couper votre travail en √©tapes macroscopiques, et sauvegardez vos changements dans un commit √† la fin de chaque √©tape. Essayez de suivre &lt;a href="../conventions/">les conventions du projet&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Conservez votre branche √† jour&lt;/strong>&lt;/p>
&lt;pre tabindex="0">&lt;code>git switch &amp;lt;your_branch&amp;gt;
git fetch
git rebase origin/dev
&lt;/code>&lt;/pre>&lt;/li>
&lt;li>
&lt;p>&lt;strong>Ouvrez une pull request&lt;/strong>&lt;br>
Une fois que vos changements sont pr√™ts, il est temps de proposer de les int√©grer √† la branche &lt;code>dev&lt;/code>. Cela se fait &lt;a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request">dans l&amp;rsquo;interface web de Github&lt;/a>.
Si possible, faites des PRs d&amp;rsquo;unit√©s logiques et atomiques √©galement (√©vitez de m√©langer le refactoring, les nouvelles fonctionnalit√©s et la correction de bugs en m√™me temps).
Ajoutez une description aux PR pour expliquer ce qu&amp;rsquo;elles font et pourquoi.
Aidez le relecteur en suivant les conseils donn√©s dans &lt;a href="https://mtlynch.io/code-review-love/">l&amp;rsquo;article de mtlynch&lt;/a>.
Ajouter les balises &lt;code>area:&amp;lt;affected_area&amp;gt;&lt;/code> pour montrer quelle partie de l&amp;rsquo;application a √©t√© impact√©e.
Cela peut √™tre fait via &lt;a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/creating-a-pull-request">l&amp;rsquo;interface web&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Prennez en compte les retours&lt;/strong>&lt;br>
Une fois que votre pull request est ouverte, &lt;a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/reviewing-changes-in-pull-requests/about-pull-request-reviews">d&amp;rsquo;autres contributeurs doivent donner leur avis sur votre proposition&lt;/a>:&lt;/p>
&lt;ul>
&lt;li>N&amp;rsquo;importe qui peut donner son avis&lt;/li>
&lt;li>Il est n√©cessaire d&amp;rsquo;obtenir l&amp;rsquo;approbation d&amp;rsquo;un &lt;a href="https://github.com/osrd-project/osrd/blob/dev/.github/CODEOWNERS">code owner&lt;/a> pour pouvoir int√©grer le changement.&lt;/li>
&lt;li>Il est d&amp;rsquo;usage de prendre en compte tous les commentaires critiques&lt;/li>
&lt;li>Les commentaires sont souvent √©crits dans un style plut√¥t direct, dans le soucis de collaborer efficacement vers une solution acceptable par tous.&lt;/li>
&lt;li>Une fois que tous les commentaires ont √©t√© pris en compte, un mainteneur int√®gre le changement.&lt;/li>
&lt;/ul>
&lt;p>En tant que reviewer tentez de suivre les recommandations de &lt;a href="https://mtlynch.io/human-code-reviews-1/">mtlynch&lt;/a>.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>N&amp;rsquo;h√©sitez pas √† relancer vos interlocuteurs, plusieurs fois si besoin.&lt;/strong>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h2 id="style-des-commits">Style des commits&lt;/h2>
&lt;p>Le format g√©n√©ral des commits est le suivant :&lt;/p>
&lt;pre tabindex="0">&lt;code>composant: description du changement √† l&amp;#39;imp√©ratif
Description d√©taill√©e du contenu et de la motivation du changement,
si le titre n&amp;#39;est pas compl√®tement √©vident.
&lt;/code>&lt;/pre>&lt;ul>
&lt;li>&lt;strong>le message comme le code doit √™tre en anglais&lt;/strong>&lt;/li>
&lt;li>tout en minuscule&lt;/li>
&lt;li>il peut y avoir plusieurs composants, s√©par√©s par des &lt;code>:&lt;/code> quand il y a une relation hi√©rarchique, ou des &lt;code>,&lt;/code> sinon&lt;/li>
&lt;li>dans l&amp;rsquo;id√©al, le corps du commit contient une description du changement.&lt;/li>
&lt;/ul>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>Sous Linux, utilisez le gestionnaire de packet de votre distribution, comme par exemple &lt;code>apt-get&lt;/code>.&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&amp;#160;&lt;a href="#fnref1:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2">
&lt;p>Sous Windows, ouvrez &lt;code>Git Bash&lt;/code>&amp;#160;&lt;a href="#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3">
&lt;p>Sous Windows/&lt;a href="https://learn.microsoft.com/fr-fr/windows/wsl/tutorials/wsl-containers">WSL&lt;/a>, &lt;a href="https://www.docker.com/products/docker-desktop/">Docker Desktop&lt;/a> est recommand√©&amp;#160;&lt;a href="#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>About: Gouvernance</title><link>https://osrd.fr/fr/about/governance/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/about/governance/</guid><description>
&lt;p>Une des ambitions d&amp;rsquo;OSRD est d&amp;rsquo;&lt;strong>aider √† la planification horaire √† l&amp;rsquo;√©chelle europ√©enne&lt;/strong>.&lt;/p>
&lt;p>Pour atteindre cet objectif, OSRD doit tenir compte des sp√©cificit√©s locales en consultant et collaborant avec les compagnies ferroviaires et les gestionnaires d&amp;rsquo;infrastructure.&lt;/p>
&lt;p>En √©change de leur contribution, ces entreprises¬†:&lt;/p>
&lt;ul>
&lt;li>Profitent des efforts de d√©veloppement commun¬†;&lt;/li>
&lt;li>Peuvent se baser sur les outils communs pour cr√©er les leurs&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>¬†;&lt;/li>
&lt;li>Participent √† la feuille de route et √† la direction technique du projet √† la mesure de leur contribution.&lt;/li>
&lt;/ul>
&lt;p>OSRD est actuellement d√©velopp√© par:&lt;/p>
&lt;ul>
&lt;li>une √©quipe de d√©veloppeurs √† plein temps au sein de SNCF R√©seau, gr√¢ce √† un financement de SNCF R√©seau, de l&amp;rsquo;Etat Fran√ßais et de l&amp;rsquo;Union Europ√©enne¬†;&lt;/li>
&lt;li>des contributeurs individuels.&lt;/li>
&lt;/ul>
&lt;h2 id="la-fondation-open-rail">La fondation Open Rail&lt;/h2>
&lt;p>La &lt;a href="https://openrailfoundation.gitlab.io/">fondation Open Rail&lt;/a> est une association √† but non lucratif en cours de cr√©ation ayant pour objectif d&amp;rsquo;organiser le travail autour d&amp;rsquo;outils logiciels communs au monde du ferroviaire.&lt;/p>
&lt;p>&lt;a href="https://openrailfoundation.gitlab.io/">&lt;img class="marginauto" src="openrail_foundation_vector.png" alt="Fondation OpenRail">&lt;/a>&lt;/p>
&lt;style>
.marginauto {
margin: 10px auto 20px;
display: block;
width:220px;
height:200px;
}
.marginauto:hover {
filter: brightness(70%);
transition: all 0.50s;
}
&lt;/style>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>Tant qu&amp;rsquo;elles ne modifient pas les outils communs sans partager leurs am√©liorations, voir les d√©tails de la license &lt;a href="https://www.gnu.org/licenses/lgpl-3.0.fr.html">LGPLv3&lt;/a>.&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>Docs: Routage</title><link>https://osrd.fr/fr/docs/reference/design-docs/interlocking/routing/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/reference/design-docs/interlocking/routing/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;ul>
&lt;li>Les routes ont pour responsabilit√© d&amp;rsquo;autoriser le d√©placement des trains dans l&amp;rsquo;infrastructure. Elles doivent se terminer √† un point o√π l&amp;rsquo;arr√™t du train est pr√©vu (en terme de signalisation, pas voyageur).&lt;/li>
&lt;li>Les routes sont assimilables √† des itin√©raires, ou √† des suites d&amp;rsquo;itin√©raires et d&amp;rsquo;installations de pleine voie.&lt;/li>
&lt;li>Les routes n&amp;rsquo;ont pas de lien direct avec le cantonnement et la signalisation. Elles nourissent des informations sur la disponibilit√© des voies qui sont utilis√©es par le cantonnement et la signalisation.&lt;/li>
&lt;li>Une route est un chemin de d√©tecteur en d√©tecteur. Elle repr√©sente une portion de chemin qu&amp;rsquo;il est s√ªr pour un train d&amp;rsquo;emprunter.&lt;/li>
&lt;li>Les routes ont des points de lib√©ration, qui sont des d√©tecteurs qui d√©limitent quand d√©truire l&amp;rsquo;itin√©raire, ce qui permet d&amp;rsquo;impl√©menter transit souple, rigide, et entre-deux.&lt;/li>
&lt;li>Une route peut √™tre √† nouveau form√©e alors qu&amp;rsquo;un train est d√©j√† en train de la parcourir. Cela permet √† plusieurs trains de se suivre sur la m√™me route.&lt;/li>
&lt;/ul>
&lt;h3 id="cycle-de-vie-dune-route">Cycle de vie d&amp;rsquo;une route&lt;/h3>
&lt;p>Les routes n&amp;rsquo;ont pas d&amp;rsquo;√©tat, mais leur commande donne lieu √† une suite d&amp;rsquo;√©v√©nements syst√©matique :&lt;/p>
&lt;ul>
&lt;li>le syst√®me commande toutes les routes sur le trajet du train dans l&amp;rsquo;ordre, sans attendre
&lt;ul>
&lt;li>la commande doit √™tre accept√©e par le &lt;strong>r√©gulateur&lt;/strong>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>lorsque le r√©gulateur accepte la commande, la &lt;strong>formation&lt;/strong> commence
&lt;ul>
&lt;li>le droit d&amp;rsquo;action de chaque zone de la route est acquis, selon un ordre global&lt;/li>
&lt;li>en parall√®le pour toutes les zones:
&lt;ul>
&lt;li>si la zone n‚Äôest pas dans la configuration souhait√©e:
&lt;ul>
&lt;li>si elle est d√©j√† r√©serv√©e, attendre que les r√©servations expirent&lt;/li>
&lt;li>sinon, la mettre dans la configuration souhait√©e en d√©pla√ßant les aiguilles&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>pr√©-r√©server la zone pour le passage du train&lt;/li>
&lt;li>le droit d&amp;rsquo;action de la zone est c√©d√©&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>une fois que la formation est termin√©e, la route est &lt;strong>√©tablie&lt;/strong>
&lt;ul>
&lt;li>pour chaque zone, transformer la pr√©-r√©servation du train en r√©servation&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>d√®s que la route est √©tablie, un processus de &lt;strong>destruction de la route&lt;/strong> commence
&lt;ul>
&lt;li>pour chaque zone de la route donnant lieu √† une lib√©ration
&lt;ul>
&lt;li>attendre que le train quitte la zone (que la r√©servation passe de l&amp;rsquo;√©tat &lt;code>OCCUPIED&lt;/code> √† l&amp;rsquo;√©tat &lt;code>PENDING_RELEASE&lt;/code>)&lt;/li>
&lt;li>lib√©rer la r√©servation des zones du d√©but de la route jusqu&amp;rsquo;√† la zone actuelle&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Piste d'√©volution&lt;/h4>
Certains postes d&amp;rsquo;aiguillages ont un enclenchement entre itin√©raires de sens contraire (affrontement) qui emp√™che l&amp;rsquo;activation d&amp;rsquo;une route en menant √† une zone avec un transit en sens contraire. Il serait envisageable de r√©server une zone suppl√©mentaire √† la fin du chemin prot√©g√© par la route, par s√©curit√©.
&lt;/div>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Piste d'√©volution&lt;/h4>
Certains itin√©raires en gare ne permettent pas le partage du chemin par plusieurs trains
&lt;/div>
&lt;div class="alert alert-info" role="alert">
&lt;h4 class="alert-heading">Piste d'√©volution&lt;/h4>
En pratique, il pourrait √™tre int√©ressant d&amp;rsquo;introduire une notion de route partielle afin de r√©duire le nombre de routes n√©cessaires: une route partielle est une portion de route qu&amp;rsquo;il n&amp;rsquo;est pas s√ªr d&amp;rsquo;activer ind√©pendament.
&lt;/div>
&lt;h2 id="exigences-de-conception">Exigences de conception&lt;/h2>
&lt;p>Le syst√®me doit, indirectement ou directement:&lt;/p>
&lt;ul>
&lt;li>permettre √† la &lt;strong>signalisation&lt;/strong> de d√©terminer si une section de voie est &lt;strong>pr√™te √† √™tre emprunt√©e&lt;/strong>.&lt;/li>
&lt;li>permettre l&amp;rsquo;&lt;strong>ordonnancement&lt;/strong> des trains selon des crit√®res configurables.&lt;/li>
&lt;li>permettre la destruction progressive (&lt;strong>transit souple&lt;/strong>) de l&amp;rsquo;itin√©raire apr√®s le passage du train.&lt;/li>
&lt;li>il doit √™tre possible d&amp;rsquo;avoir plusieurs processus de commande actifs au m√™me moment pour la m√™me route, afin de supporter des trains qui se suivent&lt;/li>
&lt;/ul>
&lt;h2 id="d√©pendances">D√©pendances&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>&lt;code>statique&lt;/code> le chemin des routes de d√©tecteur √† d√©tecteur&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>statique&lt;/code> la position requise des aiguilles, par zone&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>statique&lt;/code> les points de lib√©ration des zones (qui impl√©mentent le transit souple / rigide)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>dynamique&lt;/code> &lt;code>r√©gulateur&lt;/code> soumettre des commandes&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>dynamique&lt;/code> &lt;code>r√©servation&lt;/code> acqu√©rir et relacher un droit d&amp;rsquo;action par zone&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>dynamique&lt;/code> &lt;code>r√©servation&lt;/code> attendre que les r√©servations d&amp;rsquo;une zone expirent&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>dynamique&lt;/code> &lt;code>√©l√©ments mobiles&lt;/code> d√©placer des aiguilles&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>dynamique&lt;/code> &lt;code>r√©servation&lt;/code> pr√©-r√©server une zone&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>dynamique&lt;/code> &lt;code>r√©servation&lt;/code> promouvoir une pr√©-r√©servation en r√©servation&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>dynamique&lt;/code> &lt;code>r√©servation&lt;/code> lors de la destruction de la route, attendre qu&amp;rsquo;une r√©servation passe en &lt;code>PENDING_RELEASE&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>dynamique&lt;/code> &lt;code>r√©servation&lt;/code> lib√©rer une r√©servation&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="op√©rations">Op√©rations&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>commander une route&lt;/strong>: d√©marre un processus asynchrone qui ne se terminera que lorsque la route aura √©t√© √©tablie. &lt;strong>Un processus de destruction doit d√©marrer d√®s que la route est √©tablie&lt;/strong>.&lt;/li>
&lt;/ul>
&lt;h2 id="notes-de-conception">Notes de conception&lt;/h2>
&lt;p>Ces notes permettent d&amp;rsquo;expliquer les d√©cisions qui ont √©t√© prises, afin de pouvoir plus ais√©ment les comprendre et √©voluer.&lt;/p>
&lt;h3 id="informer-la-signalisation">Informer la signalisation&lt;/h3>
&lt;p>Sachant que:&lt;/p>
&lt;ul>
&lt;li>il peut y avoir beaucoup de zones partant d&amp;rsquo;un m√™me point, il est pr√©f√©rable d&amp;rsquo;√©viter de contraindre les signaux √† observer une liste de routes&lt;/li>
&lt;li>il est potentiellement difficile d&amp;rsquo;associer un √©tat clair √† chaque route&lt;/li>
&lt;/ul>
&lt;p>Il en ressort plusieurs mani√®res d&amp;rsquo;informer la signalisation de la navigabilit√© des voies:&lt;/p>
&lt;ul>
&lt;li>soit &lt;strong>directement&lt;/strong>, en faisant observer √† la signalisation les points d&amp;rsquo;entr√©e des routes. Si plusieurs routes partent du m√™me endroit, elles partageraient un objet entr√©e:
&lt;ul>
&lt;li>moins de complexit√© dans la couche de r√©servation, plus de complexit√© dans la couche de routage&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>soit &lt;strong>indirectement&lt;/strong>, via la couche de r√©servation des zones, qui auraient un √©tat suppl√©mentaire pour marquer leur navigabilit√©:
&lt;ul>
&lt;li>moins de complexit√© dans la couche de routage, plus de complexit√© dans la couche de r√©servation&lt;/li>
&lt;li>&lt;code>avantage&lt;/code> le processus d&amp;rsquo;activation des routes n&amp;rsquo;aurait pas besoin d&amp;rsquo;attendre l&amp;rsquo;arriv√©e du train, la couche de r√©servation s&amp;rsquo;en occuperait.&lt;/li>
&lt;li>&lt;code>avantage&lt;/code> d√©couplage entre routage et cantonnement / signalisation.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>La seconde option a √©t√© choisie, car :&lt;/p>
&lt;ul>
&lt;li>elle permet d&amp;rsquo;avoir un couplage moins fort entre la signalisation et les routes.&lt;/li>
&lt;li>elle √©vite aussi au processus d&amp;rsquo;activation des routes d&amp;rsquo;attendre le passage du train alors que la couche de r√©servation le fait d√©j√†.&lt;/li>
&lt;/ul>
&lt;h3 id="cycle-de-vie-des-routes-et-√©tat-des-zones">Cycle de vie des routes et √©tat des zones&lt;/h3>
&lt;p>Plusieurs enjeux motivent le cycle de vie des routes et l&amp;rsquo;√©tat des zones :&lt;/p>
&lt;ul>
&lt;li>d&amp;rsquo;une part, l&amp;rsquo;√©tat des zones est au coeur de la d√©tection de conflit : il doit √™tre possible d&amp;rsquo;extraire d&amp;rsquo;une simulation d&amp;rsquo;un train seul ses besoins en ressources&lt;/li>
&lt;li>d&amp;rsquo;autre part, il faut qu&amp;rsquo;une simulation multi-train fonctionne correctement : le temps de d√©placement des aiguilles selon la configuration actuellement en place, en particulier, est un point de friction important&lt;/li>
&lt;/ul></description></item><item><title>Docs: Flux des donn√©es</title><link>https://osrd.fr/fr/docs/reference/architecture/data_flow/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/reference/architecture/data_flow/</guid><description>
&lt;p>&lt;img src="data_flow.svg" alt="Data-flow diagram">&lt;/p></description></item><item><title>Docs: Services</title><link>https://osrd.fr/fr/docs/reference/architecture/services/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/reference/architecture/services/</guid><description>
&lt;p>Il s‚Äôagit d‚Äôune architecture multi-services o√π plusieurs composants logiciels interagissent entre eux. Ce choix a √©t√© fait pour assurer la modularit√© du code et pour garantir l‚Äôexploitabilit√© de certains services d‚ÄôOSRD par des applications ext√©rieures.&lt;/p>
&lt;p>&lt;img src="services.fr.svg" alt="Sch√©ma des services du projet">&lt;/p></description></item><item><title>Docs: Signalisation</title><link>https://osrd.fr/fr/docs/reference/design-docs/signaling/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/reference/design-docs/signaling/</guid><description>
&lt;div class="pageinfo pageinfo-warning">
&lt;p>Ce document est en attente de revue&lt;/p>
&lt;/div>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>La couche de signalisation comprend l&amp;rsquo;ensemble des signaux, qui r√©agissent au cantonnement et √† la r√©servation.
Les signaux peuvent √™tre de diff√©rent types, et sont charg√©s de mani√®re modulaire. Seul importe leur comportement
vis-√†-vis de l&amp;rsquo;√©tat de l&amp;rsquo;infrastructure, et la r√©action des trains √† la signalisation.&lt;/p>
&lt;p>Les signaux sont reli√©s entre eux par des cantons. Les cantons d√©finissent les mouvements autoris√©s par la signalisation.&lt;/p>
&lt;h2 id="objectifs">Objectifs&lt;/h2>
&lt;p>Le syst√®me de signalisation est √† la crois√©e de nombreux besoins:&lt;/p>
&lt;ul>
&lt;li>il doit permettre de simuler la signalisation de mani√®re r√©aliste, dans une simulation multi-trains&lt;/li>
&lt;li>il doit permettre au syst√®me de d√©tection de conflits de d√©terminer quelles ressources sont requises pour le train&lt;/li>
&lt;li>il doit permettre aux utilisateurs de l&amp;rsquo;application d&amp;rsquo;√©diter et d&amp;rsquo;afficher les signaux&lt;/li>
&lt;li>il doit permettre de visualiser les signaux sur une carte&lt;/li>
&lt;/ul>
&lt;h2 id="exigences-de-conception">Exigences de conception&lt;/h2>
&lt;p>Les donn√©es statiques :&lt;/p>
&lt;ul>
&lt;li>doivent permettre au front de r√©pr√©senter les signaux (choisir une image)&lt;/li>
&lt;li>doivent permettre √† l&amp;rsquo;√©diteur de configurer les signaux&lt;/li>
&lt;li>doivent permettre au back de simuler les signaux&lt;/li>
&lt;li>doivent √™tre proches du m√©tier&lt;/li>
&lt;li>doivent permettre de mod√©liser des signaux composites, qui repr√©sentent en un seul signal physique plusieurs signaux logiques&lt;/li>
&lt;/ul>
&lt;p>Pour la simulation de la signalisation :&lt;/p>
&lt;ul>
&lt;li>des cantons doivent √™tre g√©n√©r√©s, √† la fois pour l&amp;rsquo;utilisateur et la &lt;strong>compatibilit√© pathfinding&lt;/strong>&lt;/li>
&lt;li>chaque signal doit conna√Ætre le &lt;strong>prochain signal compatible&lt;/strong>&lt;/li>
&lt;li>chaque signal doit conna√Ætre les &lt;strong>zones qu&amp;rsquo;il prot√®ge&lt;/strong>&lt;/li>
&lt;li>fournir aux modules de signalisation le &lt;strong>minimum d&amp;rsquo;information n√©cessaire&lt;/strong> √† leur fonctionnement&lt;/li>
&lt;li>pouvoir utiliser un module de signalisation sans avoir √† instancier une simulation compl√®te&lt;/li>
&lt;li>pouvoir avoir des modules qu&amp;rsquo;on puisse charger dans un ordre ind√©pendant&lt;/li>
&lt;/ul>
&lt;h2 id="pr√©suppos√©s">Pr√©suppos√©s&lt;/h2>
&lt;ul>
&lt;li>chaque signal physique peut √™tre d√©compos√© en une liste de signaux logiques, qui sont tous associ√©s √† un syst√®me de signalisation&lt;/li>
&lt;li>les cantons ont un type&lt;/li>
&lt;li>il est possible de d√©terminer √©tant donn√© le seul signal, ses propri√©t√©s de cantonnement&lt;/li>
&lt;li>il n&amp;rsquo;existe pas de cantons qui chevauchent une fin ou un d√©but de route&lt;/li>
&lt;li>les cantons qui ne sont pas couverts par des routes n&amp;rsquo;existent pas ou peuvent √™tre ignor√©s&lt;/li>
&lt;li>un train n&amp;rsquo;utilise qu&amp;rsquo;un seul syst√®me de signalisation capable de transmettre la MA √† la fois&lt;/li>
&lt;/ul>
&lt;h2 id="design-des-syst√®mes-de-signalisation">Design des syst√®mes de signalisation&lt;/h2>
&lt;p>Chaque syst√®me de signalisation a :&lt;/p>
&lt;ul>
&lt;li>un identifiant unique (une chaine de caract√®res)&lt;/li>
&lt;li>un ensemble de r√¥les :
&lt;ul>
&lt;li>transmission de la MA&lt;/li>
&lt;li>transmission des limites de vitesse&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>son type d&amp;rsquo;√©tat de signal, qui doit permettre de :
&lt;ul>
&lt;li>savoir s&amp;rsquo;il est contraignant √† cause d&amp;rsquo;une MA r√©duite&lt;/li>
&lt;li>d√©terminer une repr√©sentation graphique de ce signal&lt;/li>
&lt;li>faire r√©agit un train √† ce signal&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>les param√®tres du signal, qui sont utilis√©s √† la fois dans le front pour le configurer et dans le back pour d√©terminer les informations de cantonnement li√©es au signal&lt;/li>
&lt;li>la condition de cantonnement, qui permet de savoir si un signal d√©limite un canton&lt;/li>
&lt;/ul>
&lt;p>Il est √† noter que si un syst√®me de signalisation a un double r√¥le transmission de MA et des limites de vitesse, tous les signaux dans ce syst√®me ne sont pas forc√©ment charg√©s de transmettre des informations de limite de vitesse.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>{&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># unique identifier for the signaling system&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;id&amp;#34;: &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;BAL&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;version&amp;#34;: &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;1.0&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># a list of roles the system assumes&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;roles&amp;#34;: &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;MA&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;SPEED_LIMITS&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">],&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the schema of the dynamic state of signals of this type&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;signal_state&amp;#34;: &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>{&lt;span style="color:#204a87;font-weight:bold">&amp;#34;kind&amp;#34;: &amp;#34;enum&amp;#34;, &amp;#34;field_name&amp;#34;: &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;aspect&amp;#34;&lt;/span>&lt;span style="color:#204a87;font-weight:bold">, values&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;VL&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;A&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;S&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;C&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>}&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>{&lt;span style="color:#204a87;font-weight:bold">&amp;#34;kind&amp;#34;: &amp;#34;flag&amp;#34;, &amp;#34;field_name&amp;#34;: &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;ralen30&amp;#34;&lt;/span>}&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>{&lt;span style="color:#204a87;font-weight:bold">&amp;#34;kind&amp;#34;: &amp;#34;flag&amp;#34;, &amp;#34;field_name&amp;#34;: &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;ralen60&amp;#34;&lt;/span>}&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>{&lt;span style="color:#204a87;font-weight:bold">&amp;#34;kind&amp;#34;: &amp;#34;flag&amp;#34;, &amp;#34;field_name&amp;#34;: &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;ralen_rappel&amp;#34;&lt;/span>}&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">],&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the schema of the settings signals of this type can read&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;signal_settings&amp;#34;: &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>{&lt;span style="color:#204a87;font-weight:bold">&amp;#34;kind&amp;#34;: &amp;#34;flag&amp;#34;, &amp;#34;field_name&amp;#34;: &amp;#34;Nf&amp;#34;, &amp;#34;display_name&amp;#34;: &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Non-franchissable&amp;#34;&lt;/span>}&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>{&lt;span style="color:#204a87;font-weight:bold">&amp;#34;kind&amp;#34;: &amp;#34;flag&amp;#34;, &amp;#34;field_name&amp;#34;: &amp;#34;has_ralen30&amp;#34;, &amp;#34;default&amp;#34;: false, &amp;#34;display_name&amp;#34;: &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Ralen 30&amp;#34;&lt;/span>}&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>{&lt;span style="color:#204a87;font-weight:bold">&amp;#34;kind&amp;#34;: &amp;#34;flag&amp;#34;, &amp;#34;field_name&amp;#34;: &amp;#34;has_rappel30&amp;#34;, &amp;#34;default&amp;#34;: false, &amp;#34;display_name&amp;#34;: &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Rappel 30&amp;#34;&lt;/span>}&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>{&lt;span style="color:#204a87;font-weight:bold">&amp;#34;kind&amp;#34;: &amp;#34;flag&amp;#34;, &amp;#34;field_name&amp;#34;: &amp;#34;has_ralen60&amp;#34;, &amp;#34;default&amp;#34;: false, &amp;#34;display_name&amp;#34;: &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Ralen 60&amp;#34;&lt;/span>}&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>{&lt;span style="color:#204a87;font-weight:bold">&amp;#34;kind&amp;#34;: &amp;#34;flag&amp;#34;, &amp;#34;field_name&amp;#34;: &amp;#34;has_rappel60&amp;#34;, &amp;#34;default&amp;#34;: false, &amp;#34;display_name&amp;#34;: &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Rappel 60&amp;#34;&lt;/span>}&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">],&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># these are C-like boolean expressions:&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># true, false, &amp;lt;flag&amp;gt;, &amp;lt;enum&amp;gt; == value, &amp;amp;&amp;amp;, || and ! can be used&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># used to evaluate whether a signal is a block boundary.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;block_boundary_when&amp;#34;: &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;true&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># used for conflict detection. &lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;constraining_ma_when&amp;#34;: &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;aspect != VL&amp;#34;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>}&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="design-des-cantons">Design des cantons&lt;/h2>
&lt;p>Les cantons ont plusieurs attributs:&lt;/p>
&lt;ul>
&lt;li>un syst√®me de signalisation qui correspond √† celui affich√© par son premier signal.&lt;/li>
&lt;li>un &lt;strong>chemin&lt;/strong>, qui repr√©sente les zones prot√©g√©es par le canton, et leur √©tat attendu (au m√™me format que le chemin des routes)&lt;/li>
&lt;li>un &lt;strong>signal d&amp;rsquo;entr√©e&lt;/strong>, (optionnel quand le canton pars d&amp;rsquo;un butoir)&lt;/li>
&lt;li>des &lt;strong>signaux interm√©diaires&lt;/strong> √©ventuels (c&amp;rsquo;est utilis√© avec des syst√®mes du style BAPR)&lt;/li>
&lt;li>un &lt;strong>signal de sortie&lt;/strong>, (optionnel quand le canton se termine √† un butoir)&lt;/li>
&lt;/ul>
&lt;p>Le chemin est exprim√© de d√©tecteur en d√©tecteur afin de pouvoir faire un rapprochement avec le graphe des routes.&lt;/p>
&lt;p>Quelques remarques:&lt;/p>
&lt;ul>
&lt;li>il peut y avoir plusieurs syst√®mes de signalisation superpos√©s sur la m√™me infrastructure. le mod√®le pars du principe qu&amp;rsquo;un seul syst√®me √† la fois est actif pour la gestion de la MA&lt;/li>
&lt;li>un canton n&amp;rsquo;a pas d&amp;rsquo;√©tat: on peut se reposer sur l&amp;rsquo;√©tat dynamique des zones qui le compose&lt;/li>
&lt;li>les signaux utilisent les cantons pour savoir quelles zones sont √† prot√©ger √† un instant donn√©&lt;/li>
&lt;/ul>
&lt;h2 id="design-des-signaux">Design des signaux&lt;/h2>
&lt;p>Chaque signal physique est compos√© d&amp;rsquo;un ou plusieurs signaux logique, dont les aspects sont combin√©s pour √™tre repr√©sent√©s sur le terrain. Lors de la simulation, les signaux logiques sont trait√©s comme des signaux diff√©rents.&lt;/p>
&lt;p>Chaque signal logique est associ√© √† un syst√®me de signalisation, qui d√©finit si le signal transmet
Chaque signal logique peut avoir un certain nombre de pilotes. Les&lt;/p>
&lt;h3 id="signal-non-charg√©">Signal non charg√©&lt;/h3>
&lt;p>Un &lt;strong>signal non charg√©&lt;/strong> correspond √† l&amp;rsquo;objet capable de transmettre de l&amp;rsquo;information au train. Les signaux non charg√©s portent :&lt;/p>
&lt;ul>
&lt;li>un syst√®me de signalisation&lt;/li>
&lt;li>des param√®tres sp√©cifiques √† leur syst√®me de signalisation (comme &lt;code>Nf&lt;/code> et &lt;code>has_ralen30&lt;/code> pour bal)&lt;/li>
&lt;/ul>
&lt;p>Les signaux non charg√©s sont utilis√©s pour d√©crire statiquement l&amp;rsquo;infrastructure, et sont pens√©s pour √™tre √©dit√©s par l&amp;rsquo;utilisateur.&lt;/p>
&lt;p>En fonction du contexte, diff√©rents m√©canismes peuvent √™tre √† la source de cette information : ce sont des &lt;strong>pilotes&lt;/strong> (&lt;code>drivers&lt;/code>). Chaque signal peut porter plusieurs pilotes. Par exemple, un signal BAL qui est √† la fois un d√©part de canton TVM et un d√©part de canton BAL aura deux pilotes: &lt;code>bal-bal&lt;/code> et &lt;code>bal-TVM&lt;/code>.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>{&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># signals must have location data.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># this data is omited as its format is irrelevant to how signals behave&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;logical_signals&amp;#34;: &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>{&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the signaling system shown by the signal&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;signaling_system&amp;#34;: &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;bal&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the settings for this signal, as defined in the signaling system manifest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;settings&amp;#34;: &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;has_ralen30=true&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Nf=true&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">],&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># all the ways the signal can be driven&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># optional: if not present, we determine the drivers automatically&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;drivers&amp;#34;: &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the signal can react to a following bal signal&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>{&lt;span style="color:#204a87;font-weight:bold">&amp;#34;next_signaling_system&amp;#34;: &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;bal&amp;#34;&lt;/span>}&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the signal can react to a following TVM signal&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>{&lt;span style="color:#204a87;font-weight:bold">&amp;#34;next_signaling_system&amp;#34;: &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;TVM&amp;#34;&lt;/span>}&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>}&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>}&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-yaml" data-lang="yaml">&lt;span style="display:flex;">&lt;span>{&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># signals must have location data.&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># this data is omited as its format is irrelevant to how signals behave&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;logical_signals&amp;#34;: &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>{&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the signaling system shown by the signal&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;signaling_system&amp;#34;: &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;bal&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the settings for this signal, as defined in the signaling system manifest&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;settings&amp;#34;: &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#4e9a06">&amp;#34;has_ralen30=true&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;Nf=true&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">],&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># all the ways the signal can be driven&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;drivers&amp;#34;: &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the signal can react to a following bal signal&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>{&lt;span style="color:#204a87;font-weight:bold">&amp;#34;next_signaling_system&amp;#34;: &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;bal&amp;#34;&lt;/span>}&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>}&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>{&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the signaling system shown by the signal&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;signaling_system&amp;#34;: &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;bapr&amp;#34;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># all the ways the signal can be driven&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">&amp;#34;drivers&amp;#34;: &lt;/span>&lt;span style="color:#000;font-weight:bold">[&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic"># the signal can react to a following bal signal&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>{&lt;span style="color:#204a87;font-weight:bold">&amp;#34;next_signaling_system&amp;#34;: &lt;/span>&lt;span style="color:#4e9a06">&amp;#34;bapr&amp;#34;&lt;/span>}&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>}&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">]&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>}&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Une chaine de charact√®re simplifi√©e de description du type de signal peut √™tre g√©n√©r√©. Ici: &lt;code>bal[Nf=true,ralen30=true]+bapr&lt;/code>.&lt;/p>
&lt;h3 id="chargement-des-param√®tres-du-signal">Chargement des param√®tres du signal&lt;/h3>
&lt;p>La premi√®re √©tape du chargement du signal est de charact√©riser le signal dans le syst√®me de signalisation.
Cette √©tape produit un objet qui d√©crit le signal.&lt;/p>
&lt;p>Lors du chargement du signal :&lt;/p>
&lt;ul>
&lt;li>le syst√®me de signalisation correspondant au nom fourni est identifi√©&lt;/li>
&lt;li>les param√®tres du signal sont charg√©s et valid√©s suivant la spec du syst√®me de signalisation&lt;/li>
&lt;li>le r√¥le de cantonnement du signal est √©valu√© √† partir de l&amp;rsquo;expression&lt;/li>
&lt;/ul>
&lt;h3 id="chargement-du-signal">Chargement du signal&lt;/h3>
&lt;p>Une fois que les param√®tres du signal sont charg√©s, il devient possible de charger ses pilotes. Pour chaque pilote :&lt;/p>
&lt;ul>
&lt;li>l&amp;rsquo;impl√©mentation du pilote est identifi√©e √† partir de la paire &lt;code>(signaling_system, next_signaling_system)&lt;/code>&lt;/li>
&lt;li>on v√©rifie que le syst√®me de signalisation sortant du pilote correspond √† celui du signal&lt;/li>
&lt;li>on v√©rifie qu&amp;rsquo;il n&amp;rsquo;existe pas d√©j√† de pilote pour le syst√®me de signalisation entrant du pilote&lt;/li>
&lt;/ul>
&lt;p>Cette √©tape produit une &lt;code>Map&amp;lt;SignalingSystem, SignalDriver&amp;gt;&lt;/code>, o√π le syst√®me de signalisation est celui en entr√©e du signal.
Il devient ensuite possible de construire le signal charg√©.&lt;/p>
&lt;h3 id="construction-des-cantons">Construction des cantons&lt;/h3>
&lt;ul>
&lt;li>le framework cr√©e des cantons entre les signaux en suivant les routes pr√©sentes dans l&amp;rsquo;infrastructure, et les propri√©t√©s de cantonnement des signaux&lt;/li>
&lt;li>des v√©rifications sont faites sur le graphe de cantons cr√©√© : il doit toujours pouvoir √™tre possible de choisir un canton pour chaque signal et chaque √©tat de l&amp;rsquo;infrastructure&lt;/li>
&lt;/ul>
&lt;h3 id="limites-de-vitesse">Limites de vitesse&lt;/h3>
&lt;p>Les limites de vitesse sont repr√©sent√©es comme des ranges sur des itin√©raires.
Elles commencent leur vie comme des ranges sur des track sections, et sont lift√©es en ranges sur des itin√©raires de la mani√®re suivante :&lt;/p>
&lt;ul>
&lt;li>Les limites de vitesse directionnelles par track sont remont√©es sur les itin√©raires. La m√™me limite de vitesse peut √™tre sur plusieurs itin√©raires.&lt;/li>
&lt;li>Pour chaque limite de vitesse, le graphe des itin√©raires est parcouru √† l&amp;rsquo;envers √† la recherche de signaux capable de g√©rer la limite :
&lt;ul>
&lt;li>Seules les limites de vitesse qui ne sont pas pr√©c√©d√©es par une autre limite aux propri√©t√©s identiques sont prises en compte&lt;/li>
&lt;li>Chaque signal doit signaler son int√©r√™t par rapport √† une limite de vitesse: Pas concern√©, Concern√© mais devant √™tre annonc√© par un autre signal, ou concern√© et terminal.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>pour chaque limite de vitesse pr√©vue sur le chemin du train, les signaux dans la cha√Æne d&amp;rsquo;annonce sont ajout√©s √† la liste de ceux qui seront simul√©s pour le train&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-rust" data-lang="rust">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">enum&lt;/span> &lt;span style="color:#000">SpeedLimitHandling&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">/** This signal isn&amp;#39;t supposed to announce this limit */&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Ignore&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">/** This signal should announce this limit, but cannot */&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Error&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">/** This signal can announce this limit, and is part of an ongoing chain */&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">Chain&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">/** This signal can announce this limit, and ends the chain */&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">EndChain&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">fn&lt;/span> &lt;span style="color:#000">handles_speed_limit&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#3465a4">self&lt;/span>: &lt;span style="color:#000">SignalSettings&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">speed_limit&lt;/span>: &lt;span style="color:#000">SpeedLimit&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">distance_mm&lt;/span>: &lt;span style="color:#204a87;font-weight:bold">u64&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>-&amp;gt; &lt;span style="color:#000">SpeedLimitHandling&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">fn&lt;/span> &lt;span style="color:#000">handles_speed_limit_chain&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#3465a4">self&lt;/span>: &lt;span style="color:#000">SignalSettings&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">speed_limit&lt;/span>: &lt;span style="color:#000">SpeedLimit&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">chain_signal&lt;/span>: &lt;span style="color:#000">Signal&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">distance_mm&lt;/span>: &lt;span style="color:#204a87;font-weight:bold">u64&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#000;font-weight:bold">)&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>-&amp;gt; &lt;span style="color:#000">SpeedLimitHandling&lt;/span>&lt;span style="color:#000;font-weight:bold">;&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="validation-des-cantons">Validation des cantons&lt;/h3>
&lt;p>La validation permet de signaler des configurations invalides en terme de signalisation et de cantonnement.
Les cas de figure de validation que l&amp;rsquo;on souhaite supporter sont les suivants:&lt;/p>
&lt;ul>
&lt;li>le syst√®me de signalisation peut vouloir valider, sachant si le canton pars / se termine sur un butoir :
&lt;ul>
&lt;li>la longueur du canton&lt;/li>
&lt;li>l&amp;rsquo;espacement entre les signaux du canton, premier signal exclu&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>chaque signal du canton peut avoir des informations specifiques s&amp;rsquo;il est un signal de transition. Par cons√©quent, tout les drivers de signaux participent a la validation.&lt;/li>
&lt;/ul>
&lt;p>En pratique, il existe deux m√©canismes distincts pour r√©pondre √† ces deux besoins :&lt;/p>
&lt;ul>
&lt;li>le &lt;strong>module de syst√®me de signalisation&lt;/strong> s&amp;rsquo;occupe de valider la signalisation &lt;strong>dans le canton&lt;/strong>&lt;/li>
&lt;li>les &lt;strong>pilote de signaux&lt;/strong>, s&amp;rsquo;occupe de valider les &lt;strong>transitions entre cantons&lt;/strong>&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-rust" data-lang="rust">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">extern&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">fn&lt;/span> &lt;span style="color:#000">report_warning&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#8f5902;font-style:italic">/* TODO */&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">extern&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#204a87;font-weight:bold">fn&lt;/span> &lt;span style="color:#000">report_error&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#8f5902;font-style:italic">/* TODO */&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">struct&lt;/span> &lt;span style="color:#000">Block&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000;font-weight:bold">{&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">startsAtBufferStop&lt;/span>: &lt;span style="color:#204a87;font-weight:bold">bool&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">stopsAtBufferStop&lt;/span>: &lt;span style="color:#204a87;font-weight:bold">bool&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">signalTypes&lt;/span>: &lt;span style="color:#204a87">Vec&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#000">SignalingSystemId&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;gt;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">signalSettings&lt;/span>: &lt;span style="color:#204a87">Vec&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#000">SignalSettings&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;gt;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">signalPositions&lt;/span>: &lt;span style="color:#204a87">Vec&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#000">Distance&lt;/span>&lt;span style="color:#ce5c00;font-weight:bold">&amp;gt;&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">length&lt;/span>: &lt;span style="color:#000">Distance&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#8f5902;font-style:italic">/// Runs in the signaling system module
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">fn&lt;/span> &lt;span style="color:#000">check_block&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">block&lt;/span>: &lt;span style="color:#000">Block&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline">&lt;/span>&lt;span style="color:#8f5902;font-style:italic">/// Runs in the signal driver module
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#204a87;font-weight:bold">fn&lt;/span> &lt;span style="color:#000">check_signal&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">signal&lt;/span>: &lt;span style="color:#000">SignalSettings&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#000">block&lt;/span>: &lt;span style="color:#000">Block&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline"> &lt;/span>&lt;span style="color:#8f5902;font-style:italic">// The partial block downstream of the signal - no signal can see backward
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#000;font-weight:bold">);&lt;/span>&lt;span style="color:#f8f8f8;text-decoration:underline">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="cycle-de-vie-des-signaux">Cycle de vie des signaux&lt;/h3>
&lt;p>Avant le d√©part d&amp;rsquo;un train:&lt;/p>
&lt;ul>
&lt;li>le chemin d&amp;rsquo;un train peut √™tre exprim√© soit en routes soit en cantons. Ces deux chemins doivent √™tre superpos√©s&lt;/li>
&lt;li>la file de signaux que le train va rencontrer est √©tablie&lt;/li>
&lt;/ul>
&lt;p>Lors de la simulation :&lt;/p>
&lt;ul>
&lt;li>au fil du d√©placement du train, les informations d&amp;rsquo;occupation des voies devant lui sont synth√©tis√©es&lt;/li>
&lt;li>lorsqu&amp;rsquo;un train observe un signal, son √©tat est √©valu√©&lt;/li>
&lt;/ul>
&lt;h3 id="√©valuation-de-l√©tat-des-signaux">√âvaluation de l&amp;rsquo;√©tat des signaux&lt;/h3>
&lt;p>Les signaux sont mod√©lis√©s comme une fonction d&amp;rsquo;√©valuation, qui consomme les param√®tres pouvant influencer son comportement, et retourne l&amp;rsquo;√©tat actuel du signal.&lt;/p>
&lt;p>La fonction d&amp;rsquo;√©valuation prend en param√®tres, la vue est choisie pour le moment, car plus flexible.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-kotlin" data-lang="kotlin">&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">enum&lt;/span> &lt;span style="color:#000">ZoneStatus&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">/** The zone is clear to be used by the train */&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">CLEAR&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">/** The zone is occupied by another train, but otherwise clear to use */&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">OCCUPIED&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">/** The zone is incompatible. There may be another train as well */&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#000">INCOMPATIBLE&lt;/span>&lt;span style="color:#000;font-weight:bold">,&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">interface&lt;/span> &lt;span style="color:#000">MAView&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">/** Combined status of the zones protected by the current signal */&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">val&lt;/span> &lt;span style="color:#000">protectedZoneStatus&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">ZoneStatus&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">val&lt;/span> &lt;span style="color:#000">nextSignalState&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">SignalState&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">val&lt;/span> &lt;span style="color:#000">nextSignalSettings&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">SignalSettings&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">interface&lt;/span> &lt;span style="color:#000">DirectSpeedLimit&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">/** Distance between the signal and the speed limit */&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">val&lt;/span> &lt;span style="color:#000">distance&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">Distance&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">val&lt;/span> &lt;span style="color:#000">speed&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">Speed&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">interface&lt;/span> &lt;span style="color:#000">IndirectSpeedLimit&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">val&lt;/span> &lt;span style="color:#000">distanceToNextSignal&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">Distance&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">val&lt;/span> &lt;span style="color:#000">nextSignalState&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">SignalState&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">val&lt;/span> &lt;span style="color:#000">nextSignalSettings&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">SignalSettings&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">interface&lt;/span> &lt;span style="color:#000">SpeedLimitView&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">/** A list of speed limits directly downstream of the signal */&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">val&lt;/span> &lt;span style="color:#000">directSpeedLimits&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">List&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#000">DirectSpeedLimit&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">/** A list of speed limits which need to be announced in a signal chain */&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#204a87;font-weight:bold">val&lt;/span> &lt;span style="color:#000">indirectSpeedLimits&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">List&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;lt;&lt;/span>&lt;span style="color:#000">IndirectSpeedLimit&lt;/span>&lt;span style="color:#000;font-weight:bold">&amp;gt;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#204a87;font-weight:bold">fun&lt;/span> &lt;span style="color:#000">signal&lt;/span>&lt;span style="color:#000;font-weight:bold">(&lt;/span>&lt;span style="color:#000">maView&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">MAView&lt;/span>&lt;span style="color:#000;font-weight:bold">?,&lt;/span> &lt;span style="color:#000">limitView&lt;/span>&lt;span style="color:#000;font-weight:bold">:&lt;/span> &lt;span style="color:#000">SpeedLimitView&lt;/span>&lt;span style="color:#000;font-weight:bold">?):&lt;/span> &lt;span style="color:#000">SignalState&lt;/span> &lt;span style="color:#000;font-weight:bold">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#8f5902;font-style:italic">// ...
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#8f5902;font-style:italic">&lt;/span>&lt;span style="color:#000;font-weight:bold">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>La vue doit permettre d&amp;rsquo;acc√©der aux donn√©es suivantes :&lt;/p>
&lt;ul>
&lt;li>une synth√®se de l&amp;rsquo;√©tat des zones en aval jusqu&amp;rsquo;√† la MA du train&lt;/li>
&lt;li>la chaine de cantons&lt;/li>
&lt;li>l&amp;rsquo;√©tat des signaux en aval pr√©sents dans la chaine de cantons du train&lt;/li>
&lt;/ul>
&lt;h4 id="chemin-de-la-vue-signalisation">Chemin de la vue signalisation&lt;/h4>
&lt;p>Le chemin de la vue signalisation est exprim√© en cantons :&lt;/p>
&lt;ul>
&lt;li>des cantons peuvent √™tre rajouter pour √©tendre la vue&lt;/li>
&lt;li>la vue peut √™tre r√©duite en supprimant des cantons&lt;/li>
&lt;/ul>
&lt;h4 id="simulation-hors-chemin-du-train">Simulation hors chemin du train&lt;/h4>
&lt;p>Il est possible de simuler la signalisation hors du chemin du train :&lt;/p>
&lt;ul>
&lt;li>si un signal donne sur des cantons empruntant des chemins diff√©rents, il est simul√© comme s&amp;rsquo;il √©tait en bout d&amp;rsquo;itin√©raire, et sera donc au carr√©&lt;/li>
&lt;li>si un signal donne sur des cantons empruntant le m√™me chemin, il est simul√© avec les autres signaux de la suite, dans une vue construite √† cet effet&lt;/li>
&lt;/ul>
&lt;h2 id="d√©pendances">D√©pendances&lt;/h2>
&lt;p>Pour la g√©n√©ration du graphe de cantons :&lt;/p>
&lt;ul>
&lt;li>graphe des routes. Pour chaque route :
&lt;ul>
&lt;li>&lt;code>waypoints: List&amp;lt;DiDetector&amp;gt;&lt;/code>&lt;/li>
&lt;li>&lt;code>signals: OrderedMap&amp;lt;Position, UnloadedSignal&amp;gt;&lt;/code>&lt;/li>
&lt;li>&lt;code>speed_limits: RangeMap&amp;lt;Position, SpeedLimit&amp;gt;&lt;/code>, y compris la logique de limite par categorie de train&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>syst√®mes de signalisation&lt;/li>
&lt;li>pilotes&lt;/li>
&lt;/ul>
&lt;p>Pour l&amp;rsquo;√©valuation :&lt;/p>
&lt;ul>
&lt;li>chemin du train en cantons&lt;/li>
&lt;li>portion du chemin √† √©valuer&lt;/li>
&lt;li>pilotes&lt;/li>
&lt;li>√©tat des zones dans la section √† √©valuer&lt;/li>
&lt;/ul>
&lt;h2 id="op√©rations">Op√©rations&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>instancier une vue&lt;/strong> cr√©e un cadre dans lequel observer des signaux&lt;/li>
&lt;li>&lt;strong>pr√©voir le chemin&lt;/strong> signaler √† la vue les cantons qui seront emprunt√©s par le train&lt;/li>
&lt;li>&lt;strong>observer un signal&lt;/strong> s&amp;rsquo;abonner √† l&amp;rsquo;√©tat d&amp;rsquo;un signal (via la vue)&lt;/li>
&lt;li>&lt;strong>d√©passer un signal&lt;/strong> signaler qu&amp;rsquo;un signal a √©t√© d√©pass√© par le train (via la vue)&lt;/li>
&lt;/ul>
&lt;h2 id="annexes">Annexes&lt;/h2>
&lt;h3 id="questions-de-recherche">Questions de recherche&lt;/h3>
&lt;ul>
&lt;li>
&lt;p>est-ce qu&amp;rsquo;il existe des cantons qui chevauchent une fin de route ? non (loic)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>est-ce qu&amp;rsquo;il existe des existe des signaux LL(2) ? non en france&lt;/p>
&lt;/li>
&lt;li>
&lt;p>est-ce qu&amp;rsquo;il existe des signaux qui changent de comportement en fonction du canton actif devant eux ? oui, pour les ralentissements&lt;/p>
&lt;/li>
&lt;li>
&lt;p>est-ce qu&amp;rsquo;il existe des signaux qui sont le d√©part de cantons de types diff√©rents (bal et bapr par exemple) ? OUI LOL, tvm meme&lt;/p>
&lt;/li>
&lt;li>
&lt;p>est-ce que le comportement d&amp;rsquo;un signal peut d√©prendre de quel canton est actif apr√®s le signal de fin du canton actuel ? oui, avec les ralentissements ou jaune cli&lt;/p>
&lt;/li>
&lt;li>
&lt;p>est-ce que certains de signalisation ont besoin d&amp;rsquo;avoir des informations suppl√©mentaires dans les cantons ? mouais, y&amp;rsquo;a des ralentissements, mais c&amp;rsquo;est pas sp√©cialement port√© par le canton&lt;/p>
&lt;/li>
&lt;li>
&lt;p>est-il nominal qu&amp;rsquo;un train aie plusieurs syst√®mes de signalisation actifs simultan√©ment ? non&lt;/p>
&lt;/li>
&lt;li>
&lt;p>quand et par qui les cantons sont-ils g√©n√©r√©s ?&lt;/p>
&lt;/li>
&lt;li>
&lt;p>quelles sont les donn√©es n√©cessaires √† la g√©n√©ration des cantons ?&lt;/p>
&lt;/li>
&lt;/ul></description></item><item><title>Docs: Les marges</title><link>https://osrd.fr/fr/docs/explanation/running_time_calculation/allowances/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/explanation/running_time_calculation/allowances/</guid><description>
&lt;font color=#aa026d>
&lt;h3 id="la-raison-d√™tre-des-marges">La raison d&amp;rsquo;√™tre des marges&lt;/h3>
&lt;/font>
&lt;p>Comme expliqu√© dans le &lt;a href="../pipeline/#calcul-du-profil-deffort-maximal">calcul du Max Effort Profile&lt;/a>, la &lt;strong>marche de base&lt;/strong> repr√©sente la marche la plus tendue normalement r√©alisable, c&amp;rsquo;est-√†-dire le trajet le plus rapide possible du mat√©riel donn√© sur le parcours donn√©. Le train acc√©l√®re au maximum, roule aussi vite que possible en fonction des diff√©rentes limites de vitesse et de ses capacit√©s motrices, et freine au maximum.&lt;/p>
&lt;p>Cette marche de base pr√©sente un inconv√©nient majeur : si un train part avec 10min de retard, il arrivera au mieux avec 10min de retard, car par d√©finition il lui est impossible de rouler plus vite que la marche de base. Par cons√©quent, les trains sont programm√©s avec un ajout d&amp;rsquo;une ou de plusieurs marges. Les marges sont une d√©tente du trajet du train, un ajout de temps √† l&amp;rsquo;horaire pr√©vu, qui se traduit in√©vitablement par un abaissement des vitesses de circulation.&lt;/p>
&lt;blockquote>
&lt;p>Un train circulant en marche de base est incapable de rattraper son retard !&lt;/p>
&lt;/blockquote>
&lt;font color=#aa026d>
&lt;h3 id="le-type-de-marge">Le type de marge&lt;/h3>
&lt;/font>
&lt;p>On distingue deux types de marges :&lt;/p>
&lt;ul>
&lt;li>&lt;strong>La marge de r√©gularit√©&lt;/strong> : il s&amp;rsquo;agit du temps compl√©mentaire ajout√© √† la marche de base pour tenir compte de l‚Äôimpr√©cision de la mesure de la vitesse, pour pallier les cons√©quences des incidents ext√©rieurs venant perturber la marche th√©orique des trains, et pour maintenir la r√©gularit√© de la circulation. La marge de r√©gularit√© s&amp;rsquo;applique sur l&amp;rsquo;ensemble du trajet, bien que sa valeur puisse changer sur certains intervalles.&lt;/li>
&lt;li>&lt;strong>La marge de construction&lt;/strong> : il s&amp;rsquo;agit du temps ajout√© / retir√© sur un intervalle sp√©cifique, en plus de la marge de r√©gularit√©, mais cette fois pour des raisons op√©rationnelles (esquiver un autre train, lib√©rer une voie plus rapidement, etc.)&lt;/li>
&lt;/ul>
&lt;p>Une marche de base √† laquelle on vient ajouter une marge de r√©gularit√© donne ce que l&amp;rsquo;on appelle une &lt;strong>marche type&lt;/strong>.&lt;/p>
&lt;font color=#aa026d>
&lt;h3 id="la-distribution-de-la-marge">La distribution de la marge&lt;/h3>
&lt;/font>
&lt;p>L&amp;rsquo;ajout de marge se traduisant par un abaissement des vitesses le long du trajet, plusieurs marches types sont possibles. En effet, il existe une infinit√© de solutions aboutissant au m√™me temps de parcours.&lt;/p>
&lt;p>En guise d&amp;rsquo;exemple simple, pour d√©tendre la marche d&amp;rsquo;un train de 10% de son temps de parcours, il est possible de prolonger n&amp;rsquo;importe quel arr√™t de l&amp;rsquo;√©quivalent en temps de ces 10%, tout comme il est possible de rouler √† 1/1,1 = 90,9% des capacit√©s du train sur l&amp;rsquo;ensemble du parcours, ou encore de rouler moins vite, mais seulement aux vitesses √©lev√©es&amp;hellip;&lt;/p>
&lt;p>Il y a pour l&amp;rsquo;instant deux algorithmes de distribution de la marge dans OSRD : lin√©aire et √©conomique.&lt;/p>
&lt;font color=#aa026d>
&lt;h3 id="la-distribution-lin√©aire">La distribution lin√©aire&lt;/h3>
&lt;/font>
&lt;p>La distribution de marge lin√©aire consiste simplement √† abaisser les vitesses d&amp;rsquo;un m√™me facteur sur la zone o√π l&amp;rsquo;utilisateur applique la marge. En voici un exemple d&amp;rsquo;application :&lt;/p>
&lt;p>&lt;img src="../python_plot_linear.png" alt="Python plot linear">&lt;/p>
&lt;p>Cette distribution a pour avantage de r√©partir la marge de la m√™me mani√®re sur tout le trajet. Un train prenant du retard √† 30% de son trajet disposera de 70% de sa marge pour les 70% de trajets restants.&lt;/p>
&lt;font color=#aa026d>
&lt;h3 id="la-distribution-√©conomique">La distribution √©conomique&lt;/h3>
&lt;/font>
&lt;p>La distribution √©conomique de la marge, pr√©sent√©e en d√©tail dans &lt;a href="https://osrd.fr/pdf/MARECO.pdf">ce document&lt;/a> (&lt;strong>MARECO&lt;/strong> est un algorithme con√ßu par la direction de la recherche SNCF), consiste √† r√©partir la marge de la mani√®re la plus √©conome possible en √©nergie. Elle est bas√©e sur deux principes :&lt;/p>
&lt;ol>
&lt;li>une vitesse plafond, √©vitant les vitesses les plus consommatrices en √©nergie&lt;/li>
&lt;li>des zones de marche sur l&amp;rsquo;erre, situ√©es avant les freinages et les fortes pentes, o√π le train circule √† moteur coup√© gr√¢ce √† son inertie, permettant de ne consommer aucune √©nergie pendant ce laps de temps&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="../python_plot_eco_w_slopes.png" alt="Python plot eco with slopes">&lt;/p>
&lt;blockquote>
&lt;p>Un exemple de marche √©conomique. En haut, les pentes/rampes rencontr√©es par le train. Les zones de marche sur l&amp;rsquo;erre sont repr√©sent√©es en bleu.&lt;/p>
&lt;/blockquote></description></item><item><title>Docs: Marge de r√©gularit√©</title><link>https://osrd.fr/fr/docs/reference/design-docs/stdcm/pathfinding_module/standard_allowance/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/reference/design-docs/stdcm/pathfinding_module/standard_allowance/</guid><description>
&lt;p>Une des fonctionnalit√©s qui doit √™tre support√©e par STDCM est la
&lt;a href="https://osrd.fr/fr/docs/explanation/running_time_calculation/allowances/" title="marge de r√©gularit√©">marge de r√©gularit√©&lt;/a>.
L&amp;rsquo;utilisateur doit pouvoir indiquer une valeur
de marge, exprim√©e en fonction de la distance ou du temps de parcours,
et cette marge doit √™tre ajout√©e au trajet.&lt;/p>
&lt;blockquote>
&lt;p>Par exemple : l&amp;rsquo;utilisateur peut indiquer une marge de 5 minutes au
100km. Sur un trajet de 42km, un trajet de 10 minutes au plus rapide
doit maintenant durer 12 minutes et 6 secondes.&lt;/p>
&lt;/blockquote>
&lt;p>Le probl√®me se situe au niveau de la d√©tection de conflits.
En effet, ralentir le train d√©cale l&amp;rsquo;ensemble du sillon dans le temps
et augmente la capacit√© consomm√©e.
La marge doit donc √™tre prise en compte pendant l&amp;rsquo;exploration
pour d√©tecter correctement les conflits.&lt;/p>
&lt;p>Pour plus de difficult√©, la marge doit suivre le mod√®le
&lt;a href="https://osrd.fr/pdf/MARECO.pdf">MARECO&lt;/a>.
La marge n&amp;rsquo;est pas r√©partie uniform√©ment sur le trajet, mais selon
un calcul qui n√©cessite de conna√Ætre l&amp;rsquo;ensemble du trajet.&lt;/p>
&lt;h4 id="marge-lin√©aire-exprim√©e-en-fonction-du-temps-de-parcours">Marge lin√©aire exprim√©e en fonction du temps de parcours&lt;/h4>
&lt;p>Pour commencer, le probl√®me est r√©solu avec une marge lin√©aire,
c&amp;rsquo;est-√†-dire r√©partie uniform√©ment sur le parcours du train.
La vitesse est simplement multipli√©e par un facteur constant.&lt;/p>
&lt;p>Les &lt;a href="https://osrd.fr/fr/docs/explanation/running_time_calculation/envelopes_system/" title="enveloppes">enveloppes&lt;/a>.
calcul√©es pendant l&amp;rsquo;exploration du graphe ne sont
pas modifi√©es, celles-ci sont toujours √† vitesse maximale.
Mais elles sont accompagn√©es du facteur de vitesse, qui est utilis√©
pour calculer les temps de parcours et les conflits.&lt;/p>
&lt;p>C&amp;rsquo;est seulement quand le chemin est trouv√© que la marge est appliqu√©e √†
l&amp;rsquo;enveloppe finale. Parce qu&amp;rsquo;il s&amp;rsquo;agit uniquement de multiplication par un
facteur, les conflits ne peuvent pas appara√Ætre ici.&lt;/p>
&lt;h4 id="marge-lin√©aire-exprim√©e-en-fonction-de-la-distance">Marge lin√©aire exprim√©e en fonction de la distance&lt;/h4>
&lt;p>Le principe ici est g√©n√©ralement similaire, mais avec une difficult√©
suppl√©mentaire : le facteur n&amp;rsquo;est pas constant au long du trajet.
En effet, un train roulant √† faible vitesse parcours moins de distance
dans un m√™me intervalle de temps qu&amp;rsquo;un train √† pleine vitesse.
La vitesse est r√©duite d&amp;rsquo;un facteur plus faible quand le train
roule moins vite.&lt;/p>
&lt;p>Comme le train ne roule pas √† vitesse constante pendant son trajet,
le facteur de vitesse √©volue d&amp;rsquo;une ar√™te √† l&amp;rsquo;autre.
Cela provoque des courbes de vitesse irr√©guli√®res.&lt;/p>
&lt;h4 id="marge-mareco">Marge mareco&lt;/h4>
&lt;p>Il s&amp;rsquo;agit ici exclusivement d&amp;rsquo;un post-traitement, car il est impossible
de calculer une courbe mareco sans conna√Ætre l&amp;rsquo;int√©gralit√© du trajet.
La d√©tection de conflit pendant l&amp;rsquo;exploration se base exclusivement
sur la courbe avec une marge lin√©aire.&lt;/p>
&lt;p>Cela implique que des conflits peuvent appara√Ætre pendant cette √©tape.
Pour les √©viter, la proc√©dure suivante est appliqu√©e :&lt;/p>
&lt;ol>
&lt;li>Une marge est appliqu√©e √† la courbe sur l&amp;rsquo;ensemble du trajet
avec l&amp;rsquo;algorithme mareco&lt;/li>
&lt;li>Le premier conflit provoqu√© par le changement est recherch√©&lt;/li>
&lt;li>S&amp;rsquo;il existe, &lt;em>l&amp;rsquo;application de mareco sera s√©par√©e en deux
intervalles&lt;/em>. Le point √† la position du conflit est alors fix√©
dans l&amp;rsquo;espace-temps par rapport √† la courbe avec une marge lin√©aire,
qui elle ne g√©n√®re pas de conflit.&lt;/li>
&lt;li>Le proc√©d√© est r√©p√©t√© it√©rativement jusqu&amp;rsquo;√† une absence de conflit.&lt;/li>
&lt;/ol></description></item><item><title>Docs: Passer du code en revue</title><link>https://osrd.fr/fr/docs/guides/contribute/code-reviews/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/guides/contribute/code-reviews/</guid><description>
&lt;figure>&lt;a href="https://www.morling.dev/blog/the-code-review-pyramid/">
&lt;img src="https://osrd.fr/fr/docs/guides/contribute/code-reviews/images/code_review_pyramid.svg"/> &lt;/a>
&lt;/figure></description></item><item><title>Docs: Ordonnancement</title><link>https://osrd.fr/fr/docs/reference/design-docs/interlocking/ordering/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/reference/design-docs/interlocking/ordering/</guid><description>
&lt;div class="alert alert-warning" role="alert">
Cette page est une √©bauche, contribuez-y!
&lt;/div>
&lt;h2 id="d√©finition">D√©finition&lt;/h2>
&lt;p>La couche d&amp;rsquo;ordonnancement a pour responsabilit√© d&amp;rsquo;√©tablir l&amp;rsquo;ordre de commande des itin√©raires, et par cons√©quent, l&amp;rsquo;ordre de passage des trains.
La m√©thode exacte utilis√©e pour prendre cette d√©cision n&amp;rsquo;importe pas, du moment qu&amp;rsquo;elle garanti que la simulation se termine (elle ne doit pas amener de trains en nez-√†-nez, ou cr√©er d&amp;rsquo;autre cas de figure de blocage).&lt;/p>
&lt;p>Il est possible d&amp;rsquo;impl√©menter un module d&amp;rsquo;ordonnancement via des tableaux d&amp;rsquo;ordre de succession des trains aux aiguilles.&lt;/p>
&lt;h2 id="exigences-de-conception">Exigences de conception&lt;/h2>
&lt;ul>
&lt;li>Il doit √™tre possible de connecter n&amp;rsquo;importe quel algorithme d&amp;rsquo;ordonnancement&lt;/li>
&lt;li>Le module d&amp;rsquo;ordonnancement doit approuver les commandes de routes.&lt;/li>
&lt;/ul>
&lt;h2 id="op√©rations">Op√©rations&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>train&lt;/strong>: Des itin√©raires sont &lt;strong>command√©s&lt;/strong> pour chaque trains, aussi loin et aussi t√¥t que possible. L&amp;rsquo;approbation de la commande est soumise au r√©gulateur, qui peut la retarder ind√©finiment, selon des crit√®res de son choix.&lt;/li>
&lt;/ul></description></item><item><title>Docs: D√©tails d'impl√©mentation</title><link>https://osrd.fr/fr/docs/reference/design-docs/stdcm/pathfinding_module/implementation_details/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/reference/design-docs/stdcm/pathfinding_module/implementation_details/</guid><description>
&lt;p>Cette page pr√©cise certains d√©tails d&amp;rsquo;impl√©mentation.
Sa lecture n&amp;rsquo;est pas n√©cessaire pour comprendre les principes
g√©n√©raux, mais peut aider avant de se plonger dans le code.&lt;/p>
&lt;h4 id="stdcmedgebuilder">STDCMEdgeBuilder&lt;/h4>
&lt;p>Cette classe est utilis√©e pour simplifier la cr√©ation d&amp;rsquo;instances de &lt;code>STDCMEdge&lt;/code>,
les ar√™tes du graphe. Celles-ci contiennent de nombreux attributs,
la plupart pouvant √™tre d√©termin√©s en fonction du contexte (comme
le n≈ìud pr√©c√©dent). La classe &lt;code>STDCMEdgeBuilder&lt;/code> permet de rendre
certains attributs optionnels et en calcule d&amp;rsquo;autres.&lt;/p>
&lt;p>Une fois instanci√© et param√©tr√©, un &lt;code>EdgeBuilder&lt;/code> a deux m√©thodes :&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;code>Collection&amp;lt;STDCMEdge&amp;gt; makeAllEdges()&lt;/code> permet de cr√©er toutes
les ar√™tes possibles dans le contexte donn√© pour une route donn√©e.
S&amp;rsquo;il y a plusieurs &amp;ldquo;ouvertures&amp;rdquo; entre des blocks d&amp;rsquo;occupation,
une ar√™te est cr√©√©e par ouverture. Tous les conflits, leurs
√©vitements et les attributs associ√©s sont d√©termin√©s ici.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>STDCMEdge findEdgeSameNextOccupancy(double timeNextOccupancy)&lt;/code> :
Cette m√©thode permet d&amp;rsquo;obtenir l&amp;rsquo;ar√™te passant par une certaine
&amp;ldquo;ouverture&amp;rdquo; (quand elle existe), identifi√©e ici par le temps
de la prochaine occupation sur la route. Elle est utilis√©e √† chaque
fois qu&amp;rsquo;une ar√™te doit √™tre re-cr√©√©e dans un contexte diff√©rent,
comme pour appliquer une marge ou corriger une discontinuit√©.
Elle appelle la m√©thode pr√©c√©dente.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="recherche-de-chemin">Recherche de chemin&lt;/h3>
&lt;h4 id="evaluation-des-distances">Evaluation des distances&lt;/h4>
&lt;p>La fonction utilis√©e pour d√©terminer la distance (au sens
de la recherche de chemin) d√©termine quel chemin sera privil√©gi√©.
Le chemin obtenu sera toujours le plus court en fonction du crit√®re
donn√©.&lt;/p>
&lt;p>Ici, deux param√®tres sont utilis√©s : le temps de parcours total
et l&amp;rsquo;heure de d√©part. Le second a un poids tr√®s faible par rapport
au premier, pour s√©lectionner en priorit√© le chemin le plus rapide.
Les d√©tails du calcul sont indiqu√©s dans les commentaires des
m√©thodes concern√©es.&lt;/p>
&lt;h4 id="heuristiques">Heuristiques&lt;/h4>
&lt;p>L&amp;rsquo;algorithme de recherche de chemin dans le graphe est un A*,
avec une heuristique bas√©e sur les coordonn√©es g√©ographiques.&lt;/p>
&lt;p>Cependant, la g√©om√©trie des infrastructures g√©n√©r√©es sont arbitraires,
elle ne correspond pas aux distances indiqu√©es sur les voies.
Il est donc possible que, sur ces infrastructures, les chemins
obtenus ne soient pas les plus courts.&lt;/p>
&lt;p>Il est en th√©orie possible d&amp;rsquo;utiliser cette heuristique pour
d√©terminer si le chemin en cours d&amp;rsquo;exploration pourra mener √† une
solution dont le temps de parcours ne d√©passe pas le maximum.
Mais pour la m√™me raison, ajouter ce crit√®re rend STDCM
inutilisable sur les infrastructures g√©n√©r√©es.
Plus de d√©tails dans
&lt;a href="https://github.com/osrd-project/osrd/issues/2818">cette issue&lt;/a>.&lt;/p></description></item><item><title>Docs: Train</title><link>https://osrd.fr/fr/docs/reference/design-docs/interlocking/train/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/reference/design-docs/interlocking/train/</guid><description>
&lt;h2 id="description">Description&lt;/h2>
&lt;p>Les contraintes sur ce qu&amp;rsquo;est un train sont relativement faibles.
Il doit seulement avoir un identifiant, qui permet aux autres syst√®mes de garder des r√©f√©rences vers des trains.&lt;/p>
&lt;h2 id="exigences-de-conception">Exigences de conception&lt;/h2>
&lt;ul>
&lt;li>Les trains &lt;strong>occupent les zones&lt;/strong>.&lt;/li>
&lt;li>Les trains doivent √™tre &lt;strong>suivis&lt;/strong> pour pr√©server leur &lt;strong>ordre de passage&lt;/strong>.&lt;/li>
&lt;li>Les trains ont pour responsabilit√© de &lt;strong>demander les itin√©raires&lt;/strong> devant eux.&lt;/li>
&lt;/ul></description></item><item><title>About: Open Source</title><link>https://osrd.fr/fr/about/opensource/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/about/opensource/</guid><description>
&lt;p>L‚Äôopen source est une &lt;strong>pratique de d√©veloppement logiciel&lt;/strong>, o√π le code source&lt;sup id="fnref:1">&lt;a href="#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup> du logiciel est :&lt;/p>
&lt;ul>
&lt;li>g√©n√©ralement d√©velopp√© de mani√®re ouverte et collaborative, par des acteurs vari√©s&lt;/li>
&lt;li>accessible et gratuitement utilisable par tous&lt;/li>
&lt;li>tout le monde est libre de proposer un changement, ou cr√©er un logiciel d√©riv√©&lt;/li>
&lt;li>redistribuable par tous&lt;/li>
&lt;/ul>
&lt;p>En pratique, l&amp;rsquo;open source est √† la fois un &lt;strong>cadre l√©gal&lt;/strong> pour le travail collaboratif, et un &lt;strong>ensemble de pratiques&lt;/strong>.&lt;/p>
&lt;h2 id="application-√†-osrd">Application √† OSRD&lt;/h2>
&lt;p>Dans le contexte d&amp;rsquo;OSRD, ce mod√®le a de &lt;strong>multiples avantages&lt;/strong> :&lt;/p>
&lt;ul>
&lt;li>les algorithmes et le savoir-faire d√©velopp√© est ouvert √† tous&lt;/li>
&lt;li>les co√ªts de d√©veloppement et r√©sultats sont mutualis√©s entre les diff√©rents acteurs&lt;/li>
&lt;li>permet de faciliter l&amp;rsquo;interop√©rabilit√© entre syst√®mes d&amp;rsquo;information en facilitant la standardisation et l&amp;rsquo;uniformisation&lt;/li>
&lt;li>permet de catalyser la collaboration d&amp;rsquo;acteurs aux objectifs communs&lt;/li>
&lt;li>permet √† chaque acteur d&amp;rsquo;adapter librement le logiciel √† ses besoins&lt;/li>
&lt;li>il permet aux organismes de recherche publics de contribuer directement, et de profiter du projet&lt;/li>
&lt;li>il permet aux acteurs publics de r√©pondre √† leurs imp√©ratifs de transparence&lt;/li>
&lt;/ul>
&lt;p>L&amp;rsquo;utilisation d&amp;rsquo;un projet open source comme catalyseur de collaboration industrielle a de nombreux ant√©c√©dents :&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Blender&lt;/strong> est un outil de mod√©lisation, rendu, et animation 3D tr√®s complet, qui est r√©cemment devenu une &lt;a href="https://fund.blender.org/">plateforme de collaboration industrielle&lt;/a> majeure pour l&amp;rsquo;industrie audiovisuelle&lt;/li>
&lt;li>&lt;strong>Linux&lt;/strong>, une alternative √† Windows qui √©quipe Google, Microsoft, Amazon, Apple, la plupart des sites internet, plateformes cloud, t√©l√©phones, routeurs, et bien plus. Toutes ces entreprises contribuent et se reposent √©norm√©ment sur Linux&lt;/li>
&lt;li>&lt;strong>Android&lt;/strong> est une base commune pour la majorit√© des t√©l√©phones vendus. Les fabriquants contribuent r√©guli√®rement √† Android&lt;/li>
&lt;li>&lt;strong>PostgreSQL&lt;/strong>, &lt;strong>MySQL&lt;/strong>, &lt;strong>SQLite&lt;/strong> et d&amp;rsquo;autres bases de donn√©e open source dominent collectivement ce march√©. Un acteur aux besoins in√©dits peut contribuer √† un outil open source plut√¥t qu&amp;rsquo;en cr√©er un nouveau.&lt;/li>
&lt;li>√Ä la fois &lt;strong>Firefox&lt;/strong> et &lt;strong>Chrome&lt;/strong> sont Open Source&lt;/li>
&lt;li>&lt;strong>Wordpress&lt;/strong> est le CMS au coeur de 43% des sites internet en activit√©. Une arm√©e d&amp;rsquo;entreprises contribuent et produisent des extensions&lt;/li>
&lt;li>&lt;strong>Odoo&lt;/strong> est un ERP modulaire tr√®s complet, √† la communaut√© similaire √† Wordpress&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>Toutes ces projets ont en commun d&amp;rsquo;√™tre essentiel au business d&amp;rsquo;un grand nombre d&amp;rsquo;entreprises, sans pour autant √™tre ce que l&amp;rsquo;entreprise commercialise&lt;/strong>.&lt;/p>
&lt;p>Ainsi, ces entreprises d√©cident de collaborer avec leurs pairs ou concurrents √† des outils communs, afin de faciliter les √©changes et d&amp;rsquo;am√©liorer la qualit√© de leur service.&lt;/p>
&lt;h2 id="fonctionnement-pratique">Fonctionnement pratique&lt;/h2>
&lt;div class="alert alert-info" role="alert">
Ce mode de fonctionnement n&amp;rsquo;est pas sp√©cifique √† l&amp;rsquo;open source : beaucoup d&amp;rsquo;entreprises adoptent un fonctionnement identique, √† la diff√©rence pr√®s qu&amp;rsquo;il est maintenu priv√©.
&lt;/div>
&lt;p>En pratique, les logiciels libre sont d√©velopp√©s via &lt;a href="https://github.com/osrd-project/osrd">une forge&lt;/a>. Cette forge donne acc√®s au code source, un outil de gestion des bugs / t√¢ches, et un outil servant √† int√©grer des changements dans le code.
Tout le monde peut proposer un changement, signaler un bug ou proposer une t√¢che.&lt;/p>
&lt;p>Les propositions de changement sont soumis √† une &lt;strong>revue par les pairs&lt;/strong>, semblables √† celles de la communaut√© scientifique.
Les individus en charge de la revue (les reviewers) sont ceux qui sont les plus familliers avec les composants affect√©s par le changement.&lt;/p>
&lt;p>Les changements sont int√©gr√©s par des mainteneurs sur la base du &lt;strong>consensus&lt;/strong> entre reviewers.
Les mainteneurs sont responsables de la coh√©rence technique du projet, et obtiennent cette position par consensus.
L&amp;rsquo;int√©gration des changement n&amp;rsquo;est motiv√©e que par leur viabilit√© technique : l&amp;rsquo;objectif des mainteneurs et reviewers est de &lt;strong>s&amp;rsquo;assurer que le projet reste de bonne qualit√©&lt;/strong>.&lt;/p>
&lt;div class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1">
&lt;p>Le code source est un ensemble de documents texte qui d√©finit comment fonctionne une application. C&amp;rsquo;est le produit du travail de d√©veloppeurs logiciels.&amp;#160;&lt;a href="#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/div></description></item><item><title>About: Open Data</title><link>https://osrd.fr/fr/about/opendata/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/about/opendata/</guid><description>
&lt;p>L&amp;rsquo;open data, c&amp;rsquo;est la pratique de rendre publiquement accessible des donn√©es sous une license permissive.
C&amp;rsquo;est une pratique distincte de l&amp;rsquo;open source, qui ne s&amp;rsquo;applique qu&amp;rsquo;au logiciel.&lt;/p>
&lt;p>&lt;strong>Open data et open source ont une relation symbiotique : sans Open Data, un logiciel open source ferroviaire n&amp;rsquo;est utilisable que par des initi√©s. G√©rer l&amp;rsquo;acc√®s aux donn√©es est difficile, co√ªteux, souvent inutile, et r√©duit l&amp;rsquo;accessibilit√© de donn√©es pourtant essentielles.&lt;/strong>&lt;/p>
&lt;p>Seul, l&amp;rsquo;&lt;strong>open data&lt;/strong> pr√©sente d√©j√† un certain nombre d&amp;rsquo;avantages cl√©s :&lt;/p>
&lt;ul>
&lt;li>des entreprises peuvent utiliser ces donn√©es dans leur produit, ce qui promeut les services ferroviaires&lt;/li>
&lt;li>des chercheurs peuvent √©tudier les donn√©es sans d√©marche particuli√®re, et d√©couvrir eux-m√™me les donn√©es disponibles&lt;/li>
&lt;/ul>
&lt;p>Des &lt;strong>donn√©es open data&lt;/strong> exploit√©es par une suite d&amp;rsquo;&lt;strong>outils open source&lt;/strong> ouvrent de nouveaux horizons :&lt;/p>
&lt;ul>
&lt;li>les chercheurs et entreprises peuvent maintenant exploiter les donn√©es sans avoir √† cr√©er leurs propres outils, ou en acqu√©rir par leurs propres moyens&lt;/li>
&lt;li>les clients de l&amp;rsquo;entreprise peuvent utiliser outils et donn√©es pour am√©liorer leur usage des services&lt;/li>
&lt;/ul>
&lt;p>Si &lt;strong>plusieurs acteurs&lt;/strong> mettent en open data des donn√©es exploitables par un m√™me logiciel open source, il devient √©galement possible de &lt;strong>recouper les donn√©es&lt;/strong> et de &lt;strong>fournir et plannifier des services communs&lt;/strong>.&lt;/p>
&lt;h2 id="dans-le-cadre-dosrd">Dans le cadre d&amp;rsquo;OSRD&lt;/h2>
&lt;ul>
&lt;li>&lt;strong>si&lt;/strong> les donn√©es de &lt;strong>mat√©riel roulant&lt;/strong> et d&amp;rsquo;&lt;strong>infrastructure&lt;/strong> sont en open data, alors il est possible pour tous de &lt;strong>simuler des trajets&lt;/strong>, d&amp;rsquo;&lt;strong>√©tudier&lt;/strong> et &lt;strong>√©valuer&lt;/strong> le r√©seau ferroviaire&lt;/li>
&lt;li>&lt;strong>si&lt;/strong> les donn√©es de &lt;strong>grilles horaires&lt;/strong> sont accessibles en open data, alors il est possible pour tous d&amp;rsquo;√©tudier l&amp;rsquo;&lt;strong>usage&lt;/strong> du r√©seau&lt;/li>
&lt;/ul></description></item><item><title>Docs: ETCS</title><link>https://osrd.fr/fr/docs/railway-wiki/signalling/spacing/ertms/etcs/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/railway-wiki/signalling/spacing/ertms/etcs/</guid><description>
&lt;h3 id="g√©n√©ralit√©s">G√©n√©ralit√©s&lt;/h3>
&lt;p>ETCS est le syst√®me europ√©en de contr√¥le commande des trains. La partie bord est interop√©rable. La partie sol peut √™tre
diff√©rente selon les pays tout en r√©pondant aux m√™mes objectifs de fonctionnalit√©.&lt;/p>
&lt;p>Il existe quatre niveaux diff√©rents dont deux sont en service : L‚Äô&lt;a href="#etcs-niveau-1">ETCS 1&lt;/a> et L‚Äô&lt;a href="#etcs-niveau-2">ETCS 2&lt;/a>. L‚ÄôETCS 0 est interdit en France.
L‚ÄôETCS 3 est encore √† l‚Äô√©tat de d√©veloppement dans la plupart des pays de l‚ÄôUnion europ√©enne.&lt;/p>
&lt;p>Il s‚Äôagit d‚Äôun syst√®me de signalisation de cabine et de contr√¥le de vitesse faisant appel aux trois composantes
suivantes :&lt;/p>
&lt;ul>
&lt;li>&lt;strong>sol&lt;/strong> : pour la gestion des circulations comprenant notamment l‚Äôespacement, la protection des points √† prot√©ger et des
circulations&lt;/li>
&lt;li>&lt;strong>bord&lt;/strong> : pour l‚Äôaffichage des ordres et informations √† destination du conducteur et le contr√¥le de la bonne ex√©cution de
ceux-ci, d√©nomm√© EUROCAB&lt;/li>
&lt;li>&lt;strong>liaison&lt;/strong> : pour les √©changes de donn√©es entre le sol et le bord :
&lt;ul>
&lt;li>liaison ponctuelle unidirectionnelle du sol vers le bord par EURO BALISES,&lt;/li>
&lt;li>liaison radiot√©l√©phonique continue et bidirectionnelle par &lt;a href="../gsm-r/">GSM-R&lt;/a> DATA pour &lt;a href="#etcs-niveau-2">ETCS2&lt;/a> d√©nomm√© EURORADIO.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;p>Sur le &lt;a href="../../../../glossary/#r">RFN&lt;/a>, sont mis en oeuvre les niveaux d&amp;rsquo;exploitations suivants :&lt;/p>
&lt;ul>
&lt;li>
&lt;p>L‚Äô&lt;a href="#etcs-niveau-1">ETCS1&lt;/a> sur certaines lignes parcourables jusqu‚Äô√† 220 km/h. Il correspond √† un syst√®me de signalisation de cabine,
g√©n√©ralement superpos√© √† la signalisation au sol existante, dont les informations entre le sol et le bord sont
transmises ponctuellement par eurobalise.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>L‚Äô&lt;a href="#etcs-niveau-2">ETCS2&lt;/a> sur certaines lignes √† grande vitesse. Il correspond √† un syst√®me de signalisation de cabine dont les
informations entre le sol et le bord sont transmises en temps utile ou cycliquement par liaison permanente &lt;a href="../gsm-r/">GSM-R&lt;/a> DATA.&lt;/p>
&lt;p>L‚Äô&lt;a href="#etcs-niveau-2">ETCS2&lt;/a> est un syst√®me qui ne n√©cessite pas la mat√©rialisation des cantons sur le terrain.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>Pr√©alablement √† tout d√©placement, les donn√©es relatives au train doivent √™tre saisies ou param√©tr√©es √† bord. Ainsi, le
syst√®me peut, √† partir des donn√©es bord et sol, superviser le train, c&amp;rsquo;est-√†-dire contr√¥ler sa vitesse et ses
d√©placements et intervenir en cas de n√©cessit√©.&lt;/p>
&lt;p>La d√©tection d&amp;rsquo;une circulation sur une partie de voie est r√©alis√©e au moyen de circuits de voie ou de compteurs
d‚Äôessieux.
En &lt;a href="#etcs-niveau-2">ETCS2&lt;/a>, la combinaison des √©quipements sol et bord est telle qu‚Äôelle ne n√©cessite, normalement, pas de signalisation
compl√©mentaire au sol.&lt;/p>
&lt;h3 id="√©quipement-bord">√âquipement bord&lt;/h3>
&lt;p>Le bord est constitu√© d&amp;rsquo;un DMI, d‚Äôun EVC, de capteurs odom√©triques (de vitesse), d‚Äôantennes pour la lecture des PI ETCS,
un modem &lt;a href="../gsm-r/">GSM-R&lt;/a> (Euroradio) pour ETCS2, d‚Äôune unit√© juridique d‚Äôenregistrement des param√®tres d‚Äôexploitation,
d‚Äôinterfaces avec le train.&lt;/p>
&lt;p>&lt;img src="https://osrd.fr/images/docs/railway-wiki/signalling/image-106.png" alt="">&lt;/p>
&lt;h3 id="le-dmi">Le DMI&lt;/h3>
&lt;p>Le DMI est l‚Äôinterface entre le conducteur et la machine. Il permet d‚Äôafficher les ordres et instructions en fonction
des donn√©es sol et/ou bord. Le conducteur renseigne √©galement le syst√®me par saisie de donn√©es.&lt;/p>
&lt;p>L‚Äôespacement des circulations et la protection des points dangereux se traduisent par l‚Äôaffichage en temps utile d‚Äôune
vitesse but et d‚Äôune distance but. La vitesse but doit √™tre respect√©e par le conducteur au point d√©fini par la distance but.&lt;/p>
&lt;p>En ¬´ marche normale ¬ª, le DMI indique au conducteur la vitesse autoris√©e qui ne doit pas √™tre d√©pass√©e. Dans ce cas, il
n‚Äôy a pas d‚Äôaffichage de la distance but et de la vitesse but.&lt;/p>
&lt;p>Un secteur pouvant pr√©senter diff√©rentes couleurs est utilis√© pour indiquer les ordres de vitesse ou d&amp;rsquo;arr√™t.&lt;/p>
&lt;p>Enfin, d‚Äôautres indications sont affich√©es telles que la signalisation de traction √©lectrique, le niveau d&amp;rsquo;exploitation,
le mode technique. Les changements d‚Äôindication au DMI peuvent √™tre accompagn√©s d‚Äôindications sonores. Une zone en
partie basse du DMI est √©galement r√©serv√©e pour l‚Äôaffichage de messages textuels. Certaines informations compl√©mentaires
peuvent √©galement √™tre affich√©es par l&amp;rsquo;entreprise ferroviaire.&lt;/p>
&lt;p>&lt;img src="../../../images/document-pedagogique-signaux-regimes-exploitation-v1/image-107.png" alt="">&lt;/p>
&lt;blockquote>
&lt;p>Dans cet exemple, le conducteur autoris√© √† circuler √† 140 km/h maximum, circule √† 125 km/h, il va devoir observer une
phase de ralentissement afin de respecter la vitesse maxi de 100 km/h (vitesse But) √† une distance de 2850 m√®tres (distance But).&lt;/p>
&lt;/blockquote>
&lt;p>Le DMI utilise un code couleur, avec la signification suivante :&lt;/p>
&lt;ul>
&lt;li>&lt;strong>blanc/gris clair/gris fonc√©&lt;/strong> : aucune action imm√©diate n‚Äôest exig√©e du conducteur&lt;/li>
&lt;li>&lt;strong>jaune&lt;/strong> : le conducteur doit intervenir si la vitesse r√©elle est proche de la vitesse autoris√©e (risque de passer √†
la couleur orange en l‚Äôabsence de r√©action)&lt;/li>
&lt;li>&lt;strong>orange&lt;/strong> : l‚Äôintervention est insuffisante (risque de passer √† la couleur rouge en l‚Äôabsence de r√©action du conducteur)&lt;/li>
&lt;li>&lt;strong>rouge&lt;/strong> : r√©action trop tardive du conducteur, prise en charge par le syst√®me (peut revenir au jaune, au gris ou au
blanc apr√®s une action appropri√©e)&lt;/li>
&lt;/ul>
&lt;h3 id="etcs-niveau-1">ETCS niveau 1&lt;/h3>
&lt;h4 id="transmission-sol-bord">Transmission sol-bord&lt;/h4>
&lt;p>Ce niveau utilise une transmission ponctuelle √† l&amp;rsquo;aide de balises plac√©es au pied des signaux et en amont. Ces balises
(eurobalises) communiquent les donn√©es de signalisation au train.&lt;/p>
&lt;h4 id="d√©tection-des-trains">D√©tection des trains&lt;/h4>
&lt;p>Le niveau 1 n√©cessite l&amp;rsquo;utilisation d&amp;rsquo;un syst√®me de d√©tection des trains au sol (tel que des circuits de voie, compteurs
d&amp;rsquo;essieux et autres). Toutes ces informations sont donc transmises ponctuellement au train. La cadence de l‚Äôinformation
donn√©e pouvant √™tre augment√©e en jouant sur le nombre de balises, ou en installant une boucle (euroloop), √©quivalent
d&amp;rsquo;une balise, mais longeant la ligne sur une certaine distance.&lt;/p>
&lt;h3 id="etcs-niveau-2">ETCS niveau 2&lt;/h3>
&lt;h4 id="transmission-sol-bord-1">Transmission sol-bord&lt;/h4>
&lt;p>Les donn√©es de signalisation sont transmises de mani√®re permanente, via le r√©seau &lt;a href="../gsm-r/">GSM-R&lt;/a>. Le train communique constamment
sa position (qu&amp;rsquo;il d√©termine avec un odom√®tre) au centre de contr√¥le qui lui communique en retour les actions √†
effectuer (vitesse, arr√™t, etc.).&lt;/p>
&lt;p>Des eurobalises sont toujours pr√©sentes sur la voie pour recaler √©ventuellement l&amp;rsquo;odom√©trie embarqu√©e.&lt;/p>
&lt;h4 id="d√©tection-des-trains-1">D√©tection des trains&lt;/h4>
&lt;p>Un syst√®me de d√©tection des trains au sol s‚Äôappuie sur l‚Äôexistence des circuits de voie pour localiser un train aval sur
un canton. Cette information est transmise au radio block center (RBC) qui g√®re ensuite l‚Äôespacement entre deux circulations.
Le train suiveur re√ßoit une nouvelle autorisation de circulation par l‚Äôinterm√©diaire de la liaison radio &lt;a href="../gsm-r/">GSM-R&lt;/a>.
D√®s que le train aval lib√®re un canton le poste central de commande re√ßoit l‚Äôinformation correspondante du sol qui est
transmise par liaison radio au train suiveur.&lt;/p>
&lt;h4 id="avantage">Avantage&lt;/h4>
&lt;p>Le niveau 2 rend disponible quasi imm√©diatement une information ¬´ lib√©ratoire ¬ª pour le train suiveur et contribue ainsi
√† augmenter la fluidit√©. Cette imm√©diatet√© est la diff√©rence par rapport √† la signalisation conventionnelle, o√π une
demi-minute est parfois n√©cessaire pour lib√©rer un aiguillage alors que le train est d√©j√† bien loin.&lt;/p>
&lt;h3 id="les-modes-techniques">Les modes techniques&lt;/h3>
&lt;p>Les modes techniques utilis√©s sur le RFN sont :&lt;/p>
&lt;ul>
&lt;li>
&lt;p>&lt;strong>Mode FS&lt;/strong> : Conduite en supervision compl√®te.&lt;/p>
&lt;p>Toutes les donn√©es train et voie sont disponibles √† bord.&lt;/p>
&lt;p>Le &lt;a href="#le-dmi">DMI&lt;/a> affiche :&lt;/p>
&lt;ul>
&lt;li>la vitesse r√©elle du train et la vitesse autoris√©e&lt;/li>
&lt;li>lors de l&amp;rsquo;approche d&amp;rsquo;un &lt;a href="../../../../glossary/#e">EOA&lt;/a>, d&amp;rsquo;un rep√®re d&amp;rsquo;arr√™t ETCS ou un heurtoir, la vitesse but et la distance but&lt;/li>
&lt;/ul>
&lt;p>Le syst√®me ¬´ bord ¬ª supervise la vitesse, le d√©placement du train, le respect de l‚Äô&lt;a href="../../../../glossary/#e">EOA&lt;/a> mat√©rialis√© par un rep√®re
d‚Äôarr√™t ETCS, un signal d‚Äôarr√™t ou un heurtoir en ETCS1.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Mode &lt;a href="../../../../glossary/#o">OS&lt;/a>&lt;/strong> : Conduite en marche √† vue.&lt;/p>
&lt;p>Toutes les donn√©es train et voie sont disponibles √† bord sauf l‚Äôassurance de la lib√©ration de toute ou partie de la
voie allou√©e au train.&lt;/p>
&lt;p>Le DMI affiche les m√™mes indications qu‚Äôen mode FS.&lt;/p>
&lt;p>Le syst√®me ¬´ bord ¬ª assure √©galement la supervision comme en mode FS.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Mode &lt;a href="../../../../glossary/#s">SR&lt;/a>&lt;/strong> : Conduite sous la responsabilit√© des agents.&lt;/p>
&lt;p>Ce mode technique est utilis√© pour les situations d√©grad√©es et la proc√©dure ¬´ Mise en service ¬ª lorsque le bord n‚Äôa
pas re√ßu d‚Äôallocation de voie. Le syst√®me ¬´ bord ¬ª ne supervise que la vitesse du mode SR et le franchissement des
rep√®res d&amp;rsquo;arr√™t ETCS et des signaux d‚Äôarr√™t.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Mode &lt;a href="../../../../glossary/#s">SH&lt;/a>&lt;/strong> : Circulation en man≈ìuvre.&lt;/p>
&lt;p>Ce mode technique est s√©lectionn√© par le conducteur pour les mouvements de man≈ìuvre. Le syst√®me ¬´ bord ¬ª ne supervise
que la vitesse du train.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>Mode &lt;a href="../../../../glossary/#n">NL&lt;/a>&lt;/strong> : Conduite d&amp;rsquo;un engin moteur non en t√™te du mouvement&lt;/p>
&lt;p>Ce mode technique est utilis√© en cas de pousse ou de double traction.&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="protection-contre-le-rattrapage">Protection contre le rattrapage&lt;/h3>
&lt;p>En mode FS, une vitesse autoris√©e affich√©e sans la pr√©sentation de l&amp;rsquo;&lt;a href="../../../../glossary/#e">EOA&lt;/a> signifie ¬´ marche normale ¬ª.&lt;/p>
&lt;p>La &lt;a href="../../../../glossary/#m">MA&lt;/a> constitu√©e d‚Äôun ou plusieurs cantons est allou√©e canton par canton, par ajout successif d‚Äôun canton.
Si le canton en aval du dernier canton allou√© est occup√© le train doit √™tre en mesure de s‚Äôarr√™ter avant l‚Äôentr√©e de ce
canton. Le conducteur est alors avis√© par une indication sonore au DMI.&lt;/p>
&lt;p>D√®s lors, les indications de conduite (vitesse but √©gale √† 0 et une distance but) permettant de respecter la courbe de
freinage sont affich√©es.&lt;/p>
&lt;p>Le conducteur doit ralentir de fa√ßon √† √™tre en mesure de s‚Äôarr√™ter avant l‚Äô&lt;a href="../../../../glossary/#e">EOA&lt;/a>, tout en respectant la vitesse autoris√©e.&lt;/p></description></item><item><title>Docs: Les installations de contresens (ICS)</title><link>https://osrd.fr/fr/docs/railway-wiki/signalling/operation-modes/double-track-lines/opposite-direction-installations/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/railway-wiki/signalling/operation-modes/double-track-lines/opposite-direction-installations/</guid><description>
&lt;h2 id="1-les-installations-permanentes-de-contresens-ipcs">1. Les installations permanentes de contresens (IPCS)&lt;/h2>
&lt;h3 id="principe">Principe&lt;/h3>
&lt;p>Certaines sections de ligne comportent des installations permanentes de contresens (IPCS). Ces installations accessibles
sans arr√™t des trains √† l‚Äôentr√©e, permettent √† tout moment la circulation des trains √† contresens sans que les
conducteurs en soient pr√©avis√©s autrement que par la signalisation.&lt;/p>
&lt;h4 id="le-risque-de-nez-√†-nez">Le risque de nez √† nez&lt;/h4>
&lt;p>Des enclenchements de s√©curit√© s‚Äôopposent √† l‚Äôexp√©dition de deux trains de sens contraire √† la rencontre l‚Äôun de l‚Äôautre.&lt;/p>
&lt;h4 id="le-risque-de-rattrapage">Le risque de rattrapage&lt;/h4>
&lt;p>L‚Äôespacement des trains circulant dans le sens normal est assur√© dans les conditions habituelles.&lt;/p>
&lt;p>L‚Äôespacement des trains √† contresens est assur√© automatiquement.&lt;/p>
&lt;h3 id="avis-au-conducteur">Avis au conducteur&lt;/h3>
&lt;p>Les sections de ligne √©quip√©es d‚ÄôIPCS sont d√©sign√©es aux RT.&lt;/p>
&lt;p>La circulation (entr√©e et sortie) sur IPCS est indiqu√©e au conducteur par la signalisation.&lt;/p>
&lt;h2 id="2-les-installations-temporaires-de-contresens-itcs">2. Les installations temporaires de contresens (ITCS)&lt;/h2>
&lt;h3 id="principe-1">Principe&lt;/h3>
&lt;p>L‚ÄôITCS est un r√©gime temporaire d‚Äôexploitation permettant en double voie de faire circuler sur une voie des trains en
sens inverse du sens normal.&lt;/p>
&lt;p>Ces installations, accessibles sans arr√™t des trains √† l‚Äôentr√©e, permettent √† tout moment la circulation des trains √†
contresens. Elles sont install√©es en pr√©vision de chantier de travaux qui vont n√©cessiter l‚Äôobstruction d‚Äôune des deux voies.&lt;/p>
&lt;h4 id="le-risque-de-nez-√†-nez-1">Le risque de nez √† nez&lt;/h4>
&lt;p>Des enclenchements de s√©curit√© s‚Äôopposent √† l‚Äôexp√©dition de deux trains de sens contraire √† la rencontre l‚Äôun de l‚Äôautre.&lt;/p>
&lt;p>Les ITCS ont leurs extr√©mit√©s dans les gares les plus rapproch√©es encadrant le chantier de travaux pr√©vu ou bien dans des postes de pleine voie existants ou cr√©√©s √† cet effet, consid√©r√©s d√®s lors comme des gares. Si le chantier se d√©place, les extr√©mit√©s de l‚ÄôITCS sont report√©es au fur et √† mesure de la progression du chantier par phases successives, chaque phase faisant l‚Äôobjet d‚Äôune ITCS distincte.&lt;/p>
&lt;h4 id="le-risque-de-rattrapage-1">Le risque de rattrapage&lt;/h4>
&lt;p>L‚Äôespacement des trains circulant dans le sens normal est assur√© dans les conditions habituelles.&lt;/p>
&lt;p>L‚Äôespacement des trains √† contresens est assur√© automatiquement.&lt;/p>
&lt;h3 id="avis-au-conducteur-1">Avis au conducteur&lt;/h3>
&lt;p>Les informations n√©cessaires aux conducteurs sont fournies par le gestionnaire d‚Äôinfrastructure aux entreprises
ferroviaires. Les particularit√©s de signalisation et d‚Äôexploitation de l‚ÄôITCS sont mentionn√©es.&lt;/p>
&lt;p>Un sch√©ma adapt√© √† ses besoins peut compl√©ter ces informations.&lt;/p>
&lt;p>La circulation (entr√©e et sortie) sur ITCS est indiqu√©e au conducteur par la signalisation.&lt;/p>
&lt;h2 id="3-circulation-√†-contresens-sur-une-ics">3. Circulation √† contresens sur une ICS&lt;/h2>
&lt;p>L‚Äôentr√©e d‚Äôun parcours √† contresens sur une ICS est rep√©r√©e par un tableau lumineux d‚Äôentr√©e √† contresens (TECS). Ce
tableau, normalement √©teint, est group√© avec le panneau qui porte le carr√© prot√©geant l‚Äôaiguille d‚Äôentr√©e.&lt;/p>
&lt;p>&lt;img src="https://osrd.fr/images/docs/railway-wiki/signalling/image-073.jpg" alt="">&lt;/p>
&lt;blockquote>
&lt;p>&lt;em>Exemple d‚Äôentr√©e √† contresens √† 60 km/h sur une section de ligne o√π la circulation normale se fait √† gauche&lt;/em>&lt;/p>
&lt;/blockquote>
&lt;p>Les signaux s‚Äôadressant aux conducteurs des trains circulant √† contresens sont :&lt;/p>
&lt;ul>
&lt;li>implant√©s √† droite (disposition inverse sur les lignes o√π la circulation se fait normalement √† droite) ;&lt;/li>
&lt;li>r√©p√©t√©s sur les engins moteurs.&lt;/li>
&lt;/ul>
&lt;p>Les ICS peuvent comporter √† contresens &lt;em>un ou plusieurs cantons&lt;/em>.&lt;/p>
&lt;p>&lt;strong>La sortie d‚Äôun parcours √† contresens&lt;/strong> est rep√©r√©e par un &lt;strong>tableau lumineux de sortie de contresens (TSCS)&lt;/strong>. Ce tableau
est group√© avec le panneau qui porte le signal ¬´ carr√© ¬ª prot√©geant l‚Äôaiguille de sortie.&lt;/p></description></item><item><title>Docs: La voie unique</title><link>https://osrd.fr/fr/docs/railway-wiki/signalling/operation-modes/single-track-lines/single-track/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/railway-wiki/signalling/operation-modes/single-track-lines/single-track/</guid><description>
&lt;h3 id="d√©finition">D√©finition&lt;/h3>
&lt;p>R√©gime d‚Äôexploitation d‚Äôune ligne dans lequel les trains des deux sens circulent sur la m√™me voie, les dispositions √†
prendre pour √©viter la rencontre de deux trains de sens contraire ne sont pas automatiques, mais r√©sultent de proc√©dures
√† appliquer par les personnels affect√©s √† la circulation des trains, voire par les personnels des trains dans certains
cas de lignes faiblement √©quip√©es. Ces dispositions sont d√©finies par le gestionnaire d‚Äôinfrastructure.&lt;/p>
&lt;h3 id="principe">Principe&lt;/h3>
&lt;h4 id="le-risque-de-nez-√†-nez">Le risque de nez √† nez&lt;/h4>
&lt;p>Les documents horaires sont con√ßus en respectant des obligations fondamentales telles que le croisement obligatoire de
deux trains en gare, qui permettent d‚Äô√©viter le nez √† nez pour les trains de sens contraires.&lt;/p>
&lt;p>Ce risque est donc avant tout couvert par le respect de l‚Äôordre normal de circulation des trains figurant aux documents
horaires.&lt;/p>
&lt;p>En effet, le principe d‚Äôexploitation d‚Äôune ligne √† voie unique s‚Äôeffectue selon des modalit√©s d√©finies par le
gestionnaire d&amp;rsquo;infrastructure, qui pr√©voient notamment le respect absolu de l‚Äôordre th√©orique de succession des trains
et en cons√©quence de l&amp;rsquo;ordre chronologique d&amp;rsquo;occupation de la voie unique. Une circulation qui n&amp;rsquo;est pas √† son ordre, ne
peut occuper la voie unique sans proc√©dure.&lt;/p>
&lt;p>En cas de modification de l‚Äôordre th√©orique (retard, train supprim√©, etc.), des proc√©dures permettent d‚Äôorganiser le
nouvel ordre de circulation des trains (proc√©dures de reports de croisement, d√©passements, etc.).&lt;/p>
&lt;dl>
&lt;dt>Le respect des proc√©dures reposant sur l‚Äôhumain, certaines lignes sont √©quip√©es d‚Äôune ¬´ barri√®re ¬ª technique de s√©curit√©&lt;/dt>
&lt;dd>le block manuel de voie unique (BMVU - voir 4.4.2.). Des moyens d‚Äôarr√™t compl√©mentaires (DAAT, GSM/GFU, RST, coupure
d‚Äôurgence si la ligne est √©lectrifi√©e, ‚Ä¶) peuvent √™tre utilis√©s ou mis en place afin de r√©duire les cons√©quences d‚Äôune
erreur humaine.&lt;/dd>
&lt;/dl>
&lt;h4 id="le-risque-de-rattrapage">Le risque de rattrapage&lt;/h4>
&lt;p>Le risque de collision par rattrapage est couvert par le mode de cantonnement. Les diff√©rents modes de cantonnement
existants sont :&lt;/p>
&lt;ul>
&lt;li>le cantonnement t√©l√©phonique (Voir - 4.3.) ;&lt;/li>
&lt;li>le cantonnement assist√© par informatique (CAPI - voir 4.3.) ;&lt;/li>
&lt;li>le cantonnement assist√© par informatique initi√© en 1995 (CAPI 95 - voir 4.3.) ;&lt;/li>
&lt;li>le block manuel de voie unique (BMVU - voir 4.4.2.).&lt;/li>
&lt;/ul></description></item><item><title>Docs: GSM-R</title><link>https://osrd.fr/fr/docs/railway-wiki/signalling/spacing/ertms/gsm-r/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/railway-wiki/signalling/spacing/ertms/gsm-r/</guid><description/></item><item><title>Docs: La voie unique √† signalisation simplifi√©e (VUSS)</title><link>https://osrd.fr/fr/docs/railway-wiki/signalling/operation-modes/single-track-lines/single-track-with-simplified-signalling/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/railway-wiki/signalling/operation-modes/single-track-lines/single-track-with-simplified-signalling/</guid><description>
&lt;h3 id="d√©finition">D√©finition&lt;/h3>
&lt;p>Certaines lignes √† voie unique sont d√©sign√©es √† la documentation d‚Äôexploitation comme ¬´ Lignes √† voie unique √†
signalisation simplifi√©e ¬ª. Par rapport au r√©gime g√©n√©ral de la voie unique, ce type de ligne se distingue par la mise
en ≈ìuvre d‚Äôun minimum d‚Äô√©quipements. Ils se limitent √† une pancarte ¬´ gare ¬ª √† distance et √† un rep√®re d‚Äôentr√©e.&lt;/p>
&lt;h3 id="principe">Principe&lt;/h3>
&lt;h4 id="le-risque-de-nez-√†-nez">Le risque de nez √† nez&lt;/h4>
&lt;p>Elles sont exploit√©es selon les modalit√©s du r√©gime g√©n√©ral d‚Äôexploitation de la voie unique (notamment le respect
de l‚Äôordre th√©orique de circulation).&lt;/p>
&lt;p>Leur fonctionnement repose en outre sur l‚Äôarr√™t g√©n√©ral des circulations dans toutes les gares.&lt;/p>
&lt;h4 id="le-risque-de-rattrapage">Le risque de rattrapage&lt;/h4>
&lt;p>La gestion de l‚Äôespacement est assur√©e par le cantonnement t√©l√©phonique.&lt;/p>
&lt;p>Il n‚Äôy a aucune barri√®re technique de s√©curit√©, toute erreur humaine peut avoir des cons√©quences graves. Des boucles de
rattrapage peuvent permettre de pallier ces erreurs (DAAT, CAPI, GSM/GFU, RST, coupure d‚Äôurgence si la ligne est
√©lectrifi√©e, etc.).&lt;/p></description></item><item><title>Docs: La voie unique temporaire √† caract√®re permanent (VUTP)</title><link>https://osrd.fr/fr/docs/railway-wiki/signalling/operation-modes/double-track-lines/temporary-single-track-of-permanent-nature/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/railway-wiki/signalling/operation-modes/double-track-lines/temporary-single-track-of-permanent-nature/</guid><description>
&lt;h3 id="principe">Principe&lt;/h3>
&lt;p>Les installations de voie unique temporaire √† caract√®re permanent (VUTP) permettent la circulation occasionnelle des
trains des deux sens sur une seule voie, entre deux gares, sans arr√™t √† l‚Äôentr√©e et sans pr√©avis aux conducteurs.&lt;/p>
&lt;p>Les sections de ligne √©quip√©es de VUTP sont d√©sign√©es aux RT.&lt;/p>
&lt;h4 id="le-risque-de-nez-√†-nez">Le risque de nez √† nez&lt;/h4>
&lt;p>Des enclenchements de s√©curit√© s‚Äôopposent √† l‚Äôexp√©dition de deux trains de sens contraire √† la rencontre l‚Äôun de l‚Äôautre.&lt;/p>
&lt;h4 id="le-risque-de-rattrapage">Le risque de rattrapage&lt;/h4>
&lt;p>L‚Äôespacement des trains circulant dans le sens normal est assur√© dans les conditions habituelles.&lt;/p>
&lt;p>L‚Äôespacement des trains √† contresens est assur√© automatiquement.&lt;/p>
&lt;h3 id="circulation-√†-contresens">Circulation √† contresens&lt;/h3>
&lt;p>L‚Äôentr√©e d‚Äôun parcours √† contresens est rep√©r√©e par &lt;strong>un tableau VUT&lt;/strong> group√© avec le panneau qui porte le carr√© prot√©geant
l‚Äôaiguille d‚Äôentr√©e.&lt;/p>
&lt;p>La pr√©sentation du &lt;strong>tableau VUT&lt;/strong> indique au conducteur :&lt;/p>
&lt;ul>
&lt;li>que le train est dirig√© et est &lt;strong>autoris√© √† s‚Äôengager √† contresens&lt;/strong> ;&lt;/li>
&lt;li>qu‚Äô√† partir de ce tableau, &lt;strong>les signaux qui le concernent sont implant√©s √† droite&lt;/strong>.&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://osrd.fr/images/docs/railway-wiki/signalling/image-074.jpg" alt="">&lt;/p>
&lt;blockquote>
&lt;p>&lt;em>Exemple d‚Äôentr√©e √† 30 km/h sur VUTP&lt;/em>&lt;/p>
&lt;/blockquote>
&lt;p>La vitesse limite √† ne pas d√©passer est fix√©e √† 70 km/h.&lt;/p>
&lt;p>La sortie du parcours √† contresens est rep√©r√©e par &lt;strong>un tableau ¬´ FIN de VUT ¬ª&lt;/strong> group√© avec le panneau qui porte le signal
carr√© prot√©geant l‚Äôaiguille de sortie.&lt;/p>
&lt;p>La pr√©sentation du &lt;strong>tableau ¬´ FIN de VUT ¬ª&lt;/strong> indique au conducteur :&lt;/p>
&lt;ul>
&lt;li>que le train est parvenu √† &lt;strong>la fin du parcours √† contresens&lt;/strong> ;&lt;/li>
&lt;li>qu‚Äô√† partir de ce tableau, &lt;strong>les signaux qui le concernent sont implant√©s √† gauche&lt;/strong>.&lt;/li>
&lt;/ul></description></item><item><title>Docs: GPRS</title><link>https://osrd.fr/fr/docs/railway-wiki/signalling/spacing/ertms/gprs/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/railway-wiki/signalling/spacing/ertms/gprs/</guid><description/></item><item><title>Docs: La voie unique temporaire (VUT)</title><link>https://osrd.fr/fr/docs/railway-wiki/signalling/operation-modes/double-track-lines/temporary-single-track/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/railway-wiki/signalling/operation-modes/double-track-lines/temporary-single-track/</guid><description>
&lt;h3 id="principe">Principe&lt;/h3>
&lt;p>Lorsqu‚Äôune cause quelconque (incident, ex√©cution de travaux, etc.), interdit l‚Äôutilisation d‚Äôune voie et en l‚Äôabsence
d‚Äôinstallations permettant la circulation dans les deux sens en s√©curit√© sur l‚Äôautre voie (ICS, voie banalis√©e), la
circulation des trains est organis√©e par les agents du service de gestion des circulations situ√©s aux extr√©mit√©s selon
des proc√©dures adapt√©es.&lt;/p>
&lt;p>La VUT est donc un r√©gime temporaire d‚Äôexploitation permettant, sur une ligne √† double voie non √©quip√©e d‚Äôinstallation
de contresens, de faire circuler les trains des deux sens sur une seule et m√™me voie.&lt;/p>
&lt;p>Les trains devant circuler √† contre sens sont &lt;strong>arr√™t√©s √† l‚Äôentr√©e&lt;/strong>.&lt;/p>
&lt;p>La circulation sur la VUT dans les deux sens se fait selon le principe de la demande et de l‚Äôaccord de voie entre agents
du service de la gestion des circulations.&lt;/p>
&lt;p>La vitesse limite √† contre sens est de 70 km/h.&lt;/p>
&lt;p>La sortie de la VUT est rep√©r√©e soit :&lt;/p>
&lt;ul>
&lt;li>par un &lt;strong>signal carr√©&lt;/strong> implant√© √† gauche, √† droite ou au-dessus de la voie ;&lt;/li>
&lt;li>par un &lt;strong>signal d‚Äôarr√™t √† main&lt;/strong>.&lt;/li>
&lt;/ul>
&lt;h3 id="organisation">Organisation&lt;/h3>
&lt;p>La VUT est √©tablie entre les deux changements de voies utilisables les plus rapproch√©s qui en constituent les extr√©mit√©s.&lt;/p>
&lt;p>La VUT est organis√©e par l‚Äôagent du service de la gestion des circulations qui exp√©die les trains √† contresens sur cette
voie (gare B dans l‚Äôexemple ci-dessous) et qui doit aviser ou faire aviser les agents int√©ress√©s : agents des postes,
des PN gard√©s, agents travaillant sur la voie ou les cat√©naires.&lt;/p>
&lt;h3 id="circulation-sur-la-vut">Circulation sur la VUT&lt;/h3>
&lt;p>&lt;img src="https://osrd.fr/images/docs/railway-wiki/signalling/image-077.png" alt="">&lt;/p>
&lt;h4 id="le-risque-de-nez-√†-nez">Le risque de nez √† nez&lt;/h4>
&lt;p>L‚Äôexp√©dition de tout train sur la VUT est subordonn√©e √† un accord de voie donn√© par l‚Äôagent du service de gestion des
circulations de l‚Äôautre extr√©mit√© de la VUT √† l‚Äôagent-du service de gestion des circulations qui doit exp√©dier le train.&lt;/p>
&lt;h4 id="le-risque-de-rattrapage">Le risque de rattrapage&lt;/h4>
&lt;p>Les trains de sens normal sont cantonn√©s dans les conditions habituelles.&lt;/p>
&lt;p>Les trains circulant √† contresens sont cantonn√©s t√©l√©phoniquement dans les conditions pr√©vues pour la voie unique (voir 4.3.).&lt;/p>
&lt;h3 id="avis-au-conducteur">Avis au conducteur&lt;/h3>
&lt;p>&lt;strong>En sens normal :&lt;/strong> aucun avis n‚Äôest fait au conducteur, les trains circulent sans arr√™t √† l‚Äôentr√©e.&lt;/p>
&lt;p>&lt;strong>√Ä contre sens :&lt;/strong> le conducteur est arr√™t√© √† l‚Äôentr√©e de la VUT puis inform√© par √©crit par l‚Äôagent du service de la
gestion des circulations qu‚Äôil va circuler √† contresens en VUT.&lt;/p>
&lt;p>Cet ordre √©crit reprend les points ou zones du parcours sur lesquels le conducteur doit appliquer des prescriptions
particuli√®res.&lt;/p>
&lt;p>En effet, les installations et la signalisation ne sont g√©n√©ralement pas pr√©vues pour les circulations en sens inverse
du sens normal (PN, limitations de vitesse, etc.).&lt;/p></description></item><item><title>Docs: La voie unique √† trafic restreint (VUTR)</title><link>https://osrd.fr/fr/docs/railway-wiki/signalling/operation-modes/single-track-lines/single-track-with-restricted-traffic/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/railway-wiki/signalling/operation-modes/single-track-lines/single-track-with-restricted-traffic/</guid><description>
&lt;h3 id="d√©finition">D√©finition&lt;/h3>
&lt;p>Ce r√©gime concerne des lignes ferm√©es au service voyageurs qui ne comportent normalement pas de signaux. Les r√®gles
concernant le r√©gime g√©n√©ral d‚Äôexploitation de la voie unique ne sont pas applicables et sont remplac√©es par des
modalit√©s particuli√®res d√©finies par le gestionnaire d&amp;rsquo;infrastructure.&lt;/p>
&lt;h3 id="principe">Principe&lt;/h3>
&lt;p>Une consigne locale d‚Äôexploitation adapt√©e √† chaque VUTR pr√©cise les caract√©ristiques d&amp;rsquo;exploitation comme la vitesse de
la ligne, la signalisation, les √©tablissements, les liaisons t√©l√©phoniques, les PN, etc.&lt;/p>
&lt;p>Elle est compl√©t√©e par un programme de circulation qui comporte les horaires des trains devant circuler et pr√©cise les
dispositions particuli√®res concernant chaque train (trains entre lesquels l&amp;rsquo;espacement doit √™tre assur√©, croisements,
etc.).&lt;/p>
&lt;p>Ces lignes ne comportent normalement pas de signaux, les limitations de vitesse √† observer sur les aiguilles ainsi que
les autres limitations permanentes de vitesse sont inscrites √† la consigne locale d‚Äôexploitation de la ligne ; elles ne
sont pas rappel√©es par des signaux sur le terrain.&lt;/p>
&lt;p>Par principe, la vitesse de circulation ne d√©passe g√©n√©ralement pas 50 km/h.&lt;/p>
&lt;p>Aucun enclenchement n‚Äôest pr√©vu. Chaque ligne d√©pend d&amp;rsquo;un agent de SNCF R√©seau d√©nomm√© ¬´ chef de ligne ¬ª. La s√©curit√©
des circulations est assur√©e par le chef de ligne et par les agents des trains.&lt;/p>
&lt;p>&lt;em>Nota : Les VUTR ne sont pas d√©finies dans les RT.&lt;/em>&lt;/p></description></item><item><title>Docs: FRMCS</title><link>https://osrd.fr/fr/docs/railway-wiki/signalling/spacing/ertms/frmcs/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/railway-wiki/signalling/spacing/ertms/frmcs/</guid><description/></item><item><title>Docs: Mouvement √† contre-voie</title><link>https://osrd.fr/fr/docs/railway-wiki/signalling/operation-modes/double-track-lines/opposite-track-movement/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/railway-wiki/signalling/operation-modes/double-track-lines/opposite-track-movement/</guid><description>
&lt;h3 id="principe">Principe&lt;/h3>
&lt;p>Lorsqu‚Äôune cause quelconque (incident, secours, travaux inopin√©s de courte dur√©e, etc.), interdit l‚Äôutilisation d‚Äôune
voie, en l‚Äôabsence d‚Äôinstallation permettant la circulation dans les deux sens sur l‚Äôautre voie (ICS, voie banalis√©e) et
qu‚Äôil n‚Äôest pas envisag√© d‚Äôorganiser une VUT (par exemple, du fait que tr√®s peu de circulations seront concern√©es), la
circulation d‚Äôun train n‚Äôempruntant pas le sens normal se fait alors √† contre-voie sur la voie non intercept√©e. Les
trains devant circuler √† contre-voie sont &lt;strong>arr√™t√©s √† l‚Äôentr√©e&lt;/strong>.&lt;/p>
&lt;p>Le mouvement √† contre-voie peut √™tre effectu√© :&lt;/p>
&lt;ul>
&lt;li>d‚Äôun point quelconque vers un point situ√© en amont (ces points pouvant √™tre un point de pleine voie, une gare, un
√©vitement t√©l√©command√©) ;&lt;/li>
&lt;li>√† l‚Äôint√©rieur d‚Äôune gare.&lt;/li>
&lt;/ul>
&lt;h3 id="organisation">Organisation&lt;/h3>
&lt;h4 id="mouvements-√†-contre-voie-√†-lint√©rieur-dune-gare">Mouvements √† contre-voie √† l‚Äôint√©rieur d‚Äôune gare&lt;/h4>
&lt;p>Lorsqu‚Äôun mouvement √† contre-voie doit √™tre effectu√© √† l‚Äôint√©rieur d‚Äôune gare, il est organis√© √† l‚Äôinitiative de l‚Äôagent
du service de gestion des circulations.&lt;/p>
&lt;p>Le conducteur est avis√© par l‚Äôagent du service de la gestion des circulations qu‚Äôil doit effectuer un mouvement √†
contre-voie et que le mouvement s‚Äôeffectue :&lt;/p>
&lt;ul>
&lt;li>soit comme une man≈ìuvre. Dans ce cas le conducteur sera renseign√© et guid√© par des signaux de man≈ìuvre ;&lt;/li>
&lt;li>soit par la transmission d‚Äôun ordre √©crit ou d‚Äôune d√©p√™che.&lt;/li>
&lt;/ul>
&lt;h4 id="autres-mouvements-√†-contre-voie">Autres mouvements √† contre-voie&lt;/h4>
&lt;ul>
&lt;li>d‚Äôune gare vers la gare en amont ou de la gare en avant vers un point de pleine voie
L‚Äôagent charg√© d‚Äôorganiser ce mouvement √† contre-voie est l‚Äôagent du service de gestion des circulations de la gare
dans laquelle le mouvement a son origine.&lt;/li>
&lt;li>d‚Äôun point de pleine voie vers la gare en arri√®re
L‚Äôagent charg√© d‚Äôorganiser ce mouvement √† contre-voie est l‚Äôagent du service de gestion des circulations de la gare
dans laquelle le mouvement se termine.
Dans ces deux cas, l‚Äôagent du service de la gestion des circulations, apr√®s avoir obtenu l‚Äôassurance que la partie de
voie √† parcourir est libre et le restera, remet un ordre √©crit ou transmet une d√©p√™che au conducteur pour circuler √† contre-voie.&lt;/li>
&lt;li>En pleine voie
Le conducteur est responsable de ce mouvement, lorsqu‚Äôil prend l‚Äôinitiative d‚Äôex√©cuter ce mouvement :
&lt;ul>
&lt;li>√† la suite d‚Äôune rupture d‚Äôattelage lorsque le train peut √™tre reconstitu√© ;&lt;/li>
&lt;li>√† la suite d‚Äôun l√©ger d√©passement du point d‚Äôarr√™t habituel dans un √©tablissement PL.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;h3 id="circulation-√†-contre-voie">Circulation √† contre-voie&lt;/h3>
&lt;p>Apr√®s arr√™t du train, l‚Äôagent du service de la gestion des circulations, selon le cas, remet au conducteur un ordre
√©crit ou le transmet par d√©p√™che. Cet ordre reprend les points ou zones du parcours sur lesquels le conducteur doit
appliquer des prescriptions particuli√®res.&lt;/p>
&lt;p>En effet, les installations et la signalisation ne sont g√©n√©ralement pas pr√©vues pour les circulations en sens inverse
du sens normal (PN, limitations de vitesse, etc.).&lt;/p>
&lt;p>Lorsque le conducteur est en t√™te du mouvement, la circulation s‚Äôeffectue en &lt;strong>marche √† vue&lt;/strong> sur tout le parcours effectu√©
√† contre-voie (le conducteur peut rencontrer un obstacle non prot√©g√©).&lt;/p>
&lt;p>Lorsque le conducteur n‚Äôest pas en t√™te, la circulation est guid√©e par des signaux de man≈ìuvre.&lt;/p>
&lt;p>La fin du parcours √† contre voie est g√©n√©ralement rep√©r√©e soit :&lt;/p>
&lt;ul>
&lt;li>par un &lt;strong>signal carr√©&lt;/strong> ;&lt;/li>
&lt;li>par un &lt;strong>signal d‚Äôarr√™t √† main&lt;/strong>.&lt;/li>
&lt;/ul></description></item><item><title>Docs: L‚Äôexploitation en navette</title><link>https://osrd.fr/fr/docs/railway-wiki/signalling/operation-modes/single-track-lines/single-track-shuttle/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/railway-wiki/signalling/operation-modes/single-track-lines/single-track-shuttle/</guid><description>
&lt;h3 id="d√©finition">D√©finition&lt;/h3>
&lt;p>R√©gime d‚Äôexploitation d‚Äôune ligne sur laquelle la circulation d‚Äôun train ne peut √™tre autoris√©e qu‚Äôapr√®s d√©gagement du
train pr√©c√©demment engag√©, l‚Äôengagement et le d√©gagement se faisant au m√™me point.&lt;/p>
&lt;h3 id="principe">Principe&lt;/h3>
&lt;p>L‚Äôexploitation en navette consiste √† n‚Äôautoriser la pr√©sence que d‚Äôune seule circulation sur la section de ligne
concern√©e, cette circulation revenant √† son point de d√©part, ce qui par conception limite les risques de collision de
trains.&lt;/p>
&lt;p>Toutefois, le programme peut inclure moyennant des proc√©dures adapt√©es des mouvements de desserte, avec ou sans
possibilit√© de garage (desserte origine terminus ou desserte en antenne).&lt;/p>
&lt;p>L‚Äôacc√®s √† la voie exploit√©e en navette est command√© par un signal muni du DAAT ou du KVB.&lt;/p></description></item><item><title>Docs: ETML</title><link>https://osrd.fr/fr/docs/railway-wiki/signalling/spacing/ertms/etml/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/railway-wiki/signalling/spacing/ertms/etml/</guid><description/></item><item><title>Docs: La voie banalis√©e</title><link>https://osrd.fr/fr/docs/railway-wiki/signalling/operation-modes/single-track-lines/single-track-two-ways/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/railway-wiki/signalling/operation-modes/single-track-lines/single-track-two-ways/</guid><description>
&lt;h3 id="d√©finition">D√©finition&lt;/h3>
&lt;p>R√©gime d&amp;rsquo;exploitation d&amp;rsquo;une ligne √† une ou plusieurs voies parcourues par les trains des deux sens. Sur ces voies,
des installations de s√©curit√© s&amp;rsquo;opposent √† l&amp;rsquo;exp√©dition de deux trains de sens contraire √† la rencontre l&amp;rsquo;un de l&amp;rsquo;autre.
Sur les lignes √† plusieurs voies banalis√©es, les trains d&amp;rsquo;un m√™me sens peuvent circuler indiff√©remment sur l&amp;rsquo;une
quelconque de ces voies.&lt;/p>
&lt;h3 id="principe">Principe&lt;/h3>
&lt;p>Une voie banalis√©e peut √™tre d√©coup√©e en plusieurs intervalles (points entre lesquels il n‚Äôexiste aucune possibilit√© de
croisement ou d√©passement).&lt;/p>
&lt;p>Sur une voie, quel que soit le sens :&lt;/p>
&lt;ul>
&lt;li>les signaux sont normalement implant√©s √† gauche ;&lt;/li>
&lt;li>le d√©coupage √©ventuel d‚Äôun intervalle en cantons est identique.&lt;/li>
&lt;/ul>
&lt;h4 id="le-risque-de-nez-√†-nez">Le risque de nez √† nez&lt;/h4>
&lt;p>Les deux extr√©mit√©s d‚Äôun intervalle de voie banalis√©e sont √©quip√©es de signaux d‚Äôarr√™t non permissifs permettant
d‚Äôarr√™ter et de retenir les trains se dirigeant vers l‚Äôintervalle. Elles sont reli√©es par un enclenchement entre
itin√©raires de sens contraires.&lt;/p>
&lt;p>Le risque de nez √† nez est pris en charge notamment, par l&amp;rsquo;enclenchement entre itin√©raires de sens contraire. Cet
enclenchement agit directement sur le circuit de commande des signaux de protection donnant acc√®s √† l‚Äôintervalle. Il
n√©cessite la mise en oeuvre de circuits de voie ou de compteurs d‚Äôessieux qui interviennent en outre dans le block
automatique (cf. rattrapage ci-dessous).&lt;/p>
&lt;p>Les installations de s√©curit√© s‚Äôopposent √† l‚Äôexp√©dition de deux trains de sens contraire dans le m√™me intervalle.
Cette interdiction est maintenue tant que l‚Äôintervalle est occup√©.&lt;/p>
&lt;h4 id="le-risque-de-rattrapage">Le risque de rattrapage&lt;/h4>
&lt;p>L&amp;rsquo;espacement est assur√© automatiquement.
En signalisation au sol, l‚Äôespacement des trains de m√™me sens est assur√© par le block automatique par l‚Äôinterm√©diaire
de circuits de voie ou de compteur d‚Äôessieux. Selon l‚Äôimportance du trafic, il peut s‚Äôagir de :&lt;/p>
&lt;ul>
&lt;li>BAPR : La longueur d‚Äôun canton de BAPR peut atteindre 15 km ou plus ;&lt;/li>
&lt;li>BAL : La longueur maximale d‚Äôun canton de BAL n‚Äôexc√®de pas g√©n√©ralement 2,8 km ce qui permet un √©coulement de trafic
plus important.&lt;/li>
&lt;/ul>
&lt;p>En signalisation de cabine, la TVM ou l‚ÄôETCS assurent l‚Äôespacement.&lt;/p></description></item><item><title>Docs: Back-end</title><link>https://osrd.fr/fr/docs/guides/contribute/conventions/back/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/guides/contribute/conventions/back/</guid><description>
&lt;h1 id="python">Python&lt;/h1>
&lt;p>Le code Python est utilis√© pour certains paquets et pour les tests d&amp;rsquo;int√©gration.&lt;/p>
&lt;ul>
&lt;li>Suivez le &lt;a href="https://www.python.org/dev/peps/pep-0020/">Zen of Python&lt;/a>.&lt;/li>
&lt;li>Le code est lint√© avec &lt;a href="https://github.com/csachs/pyproject-flake8">flake8&lt;/a>.&lt;/li>
&lt;li>Le code est format√© avec &lt;a href="https://github.com/psf/black">Black&lt;/a>.&lt;/li>
&lt;li>Les imports sont tri√©es avec &lt;a href="https://github.com/PyCQA/isort">Isort&lt;/a>.&lt;/li>
&lt;li>Les tests sont √©crits avec &lt;a href="https://docs.pytest.org/">pytest&lt;/a>.&lt;/li>
&lt;li>Les types sont v√©rifi√©s avec &lt;a href="https://google.github.io/pytype/">pytype&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h1 id="rust">Rust&lt;/h1>
&lt;ul>
&lt;li>Comme r√©f√©rence pour le d√©veloppement de notre API, nous utilisons les &lt;a href="https://rust-lang.github.io/api-guidelines/about.html">Rust API guidelines&lt;/a>.
D&amp;rsquo;une mani√®re g√©n√©rale, il convient de les respecter.&lt;/li>
&lt;li>Pr√©f√©rer les importations granulaires aux importations globales comme &lt;code>diesel::*&lt;/code>.&lt;/li>
&lt;li>Les tests sont √©crits avec le &lt;a href="https://doc.rust-lang.org/book/ch11-01-writing-tests.html">framework de base&lt;/a>.&lt;/li>
&lt;li>Utilisez l&amp;rsquo;&lt;a href="https://doc.rust-lang.org/rust-by-example/meta/doc.html">exemple de documentation&lt;/a> pour savoir comment formuler et formater votre documentation.&lt;/li>
&lt;li>Utilisez un style de commentaire coh√©rent :
&lt;ul>
&lt;li>&lt;code>///&lt;/code> les commentaires de la documentation sont au-dessus des invocations &lt;code>#[derive(Trait)]&lt;/code>.&lt;/li>
&lt;li>Les commentaires &lt;code>//&lt;/code> doivent g√©n√©ralement √™tre plac√©s au-dessus de la ligne en question, plut√¥t qu&amp;rsquo;en ligne.&lt;/li>
&lt;li>Les commentaires commencent par des lettres majuscules.
Terminez-les par un point s&amp;rsquo;ils ressemblent √† une phrase.&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Utilisez les commentaires pour organiser des portions de code longues et complexes qui ne peuvent √™tre raisonnablement remani√©es en fonctions distinctes.&lt;/li>
&lt;li>Le code est lint√© avec &lt;a href="https://github.com/rust-lang/rust-clippy">clippy&lt;/a>.&lt;/li>
&lt;li>Le code est format√© avec &lt;a href="https://github.com/rust-lang/rustfmt">fmt&lt;/a>.&lt;/li>
&lt;/ul>
&lt;h1 id="java">Java&lt;/h1>
&lt;ul>
&lt;li>Le code est format√© avec &lt;a href="https://checkstyle.sourceforge.io/">checkstyle&lt;/a>.&lt;/li>
&lt;/ul></description></item><item><title>Docs: BAL</title><link>https://osrd.fr/fr/docs/railway-wiki/signalling/spacing/automatic_block_systems/bal/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/railway-wiki/signalling/spacing/automatic_block_systems/bal/</guid><description>
&lt;p>Le signal d‚Äôentr√©e du canton pr√©sente une indication li√©e √† l‚Äô√©tat d‚Äôoccupation du ou des cantons suivants, selon les
r√®gles suivantes :&lt;/p>
&lt;ul>
&lt;li>indication d‚Äôarr√™t lorsque le canton est occup√© par au moins une portion du train&lt;/li>
&lt;li>annonce lorsque le canton suivant est occup√©&lt;/li>
&lt;li>voie libre par d√©faut (sauf signaux Nf)&lt;/li>
&lt;/ul>
&lt;p>La longueur maximale d‚Äôun canton est en principe de 2800 m. Elle est g√©n√©ralement de 1500 m sur les lignes parcourues √†
la vitesse maximale de 160 km/h.&lt;/p>
&lt;p>&lt;img src="https://osrd.fr/images/docs/railway-wiki/signalling/image-080.png" alt="">&lt;/p>
&lt;h3 id="avantages-du-bal">Avantages du BAL&lt;/h3>
&lt;p>Le BAL offre un niveau √©lev√© de s√©curit√© et permet un d√©bit important.&lt;/p>
&lt;h3 id="limites">Limites&lt;/h3>
&lt;p>L‚Äôinstallation du BAL est tr√®s co√ªteuse, et son fonctionnement n√©cessite une garantie de contact √©lectrique entre la
roue et le rail.&lt;/p>
&lt;h3 id="impl√©mentation">Impl√©mentation&lt;/h3>
&lt;p>Simuler correctement le syst√®me BAL n√©cessite de respecter les crit√®res suivants :&lt;/p>
&lt;ul>
&lt;li>lorsque la t√™te du train p√©n√®tre dans un canton, le signal d&amp;rsquo;entr√©e de celui-ci passe en indication d&amp;rsquo;arr√™t&lt;/li>
&lt;li>lorsque la queue du train lib√®re un canton, son signal d&amp;rsquo;entr√©e passe en annonce&lt;/li>
&lt;li>lorsque la queue du train lib√®re un canton, le signal d&amp;rsquo;entr√©e du canton pr√©c√©dent passe en voie libre&lt;/li>
&lt;li>les signaux pr√©sentent une voie libre par d√©faut, sauf les signaux Nf qui sont par d√©faut en indication d&amp;rsquo;arr√™t&lt;/li>
&lt;/ul></description></item><item><title>Docs: BAPR</title><link>https://osrd.fr/fr/docs/railway-wiki/signalling/spacing/automatic_block_systems/bapr/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://osrd.fr/fr/docs/railway-wiki/signalling/spacing/automatic_block_systems/bapr/</guid><description>
&lt;p>Le signal d‚Äôentr√©e du canton est un signal qui pr√©sente une indication li√©e √† l‚Äô√©tat d‚Äôoccupation du canton suivant
(indication d‚Äôarr√™t ou de voie libre). Sur certaines lignes l‚Äôoccupation du canton n‚Äôest pas obtenue par le circuit de
voie mais par un syst√®me de comptage d‚Äôessieux entrants et sortants.&lt;/p>
&lt;p>Les cantons sont beaucoup plus longs que le BAL (jusqu‚Äô√† 15 km et plus) et par cons√©quent le d√©bit est moins important.&lt;/p>
&lt;p>&lt;img src="https://osrd.fr/images/docs/railway-wiki/signalling/image-081.png" alt="">&lt;/p>
&lt;p>&lt;img src="https://osrd.fr/images/docs/railway-wiki/signalling/image-082.png" alt="">&lt;/p>
&lt;h3 id="avantages-du-bapr">Avantages du BAPR&lt;/h3>
&lt;p>Le BAPR offre un bon niveau de s√©curit√© et il est moins co√ªteux que le BAL.&lt;/p>
&lt;h3 id="limites">Limites&lt;/h3>
&lt;p>Ce type de block n‚Äôest adapt√© qu‚Äôaux lignes conventionnelles √† trafic moyen compte tenu de l‚Äôespacement impos√© entre 2
trains successifs.&lt;/p></description></item></channel></rss>