<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=fr class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=canonical type=text/html href=https://osrd.fr/fr/docs/guides/deploy/docker-compose/><link rel=alternate type=application/rss+xml href=https://osrd.fr/fr/docs/guides/deploy/docker-compose/index.xml><meta name=robots content="noindex, nofollow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Docker Compose | OSRD</title>
<meta name=description content="Utiliser docker compose pour un déploiement sur un seul nœud"><meta property="og:url" content="https://osrd.fr/fr/docs/guides/deploy/docker-compose/"><meta property="og:site_name" content="OSRD"><meta property="og:title" content="Docker Compose"><meta property="og:description" content="Utiliser docker compose pour un déploiement sur un seul nœud"><meta property="og:locale" content="fr"><meta property="og:type" content="website"><meta itemprop=name content="Docker Compose"><meta itemprop=description content="Utiliser docker compose pour un déploiement sur un seul nœud"><meta itemprop=wordCount content="403"><meta name=twitter:card content="summary"><meta name=twitter:title content="Docker Compose"><meta name=twitter:description content="Utiliser docker compose pour un déploiement sur un seul nœud"><link rel=preload href=/scss/main.min.5c45ececdbdfc535ee5253f678cfd68edfba69407b82367ff2e289cdf3db5514.css as=style integrity="sha256-XEXs7NvfxTXuUlP2eM/Wjt+6aUB7gjZ/8uKJzfPbVRQ=" crossorigin=anonymous><link href=/scss/main.min.5c45ececdbdfc535ee5253f678cfd68edfba69407b82367ff2e289cdf3db5514.css rel=stylesheet integrity="sha256-XEXs7NvfxTXuUlP2eM/Wjt+6aUB7gjZ/8uKJzfPbVRQ=" crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><script defer src=https://unpkg.com/lunr@2.3.9/lunr.min.js integrity=sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli crossorigin=anonymous></script></head><body class=td-section><header><nav class="td-navbar js-navbar-scroll" data-bs-theme=dark><div class="container-fluid flex-column flex-md-row"><a class=navbar-brand href=/fr/><span class="navbar-brand__logo navbar-logo"><svg id="svg36" width="110.767" height="22"><style id="style1">.st9{fill:#fff}</style><g id="ok" transform="scale(.1918)"><g id="g36"><g id="g29"><path id="path23" d="M38.5 83.4c-1.9 8.2-2.9 17-2.9 26.5v4.8h16.6c-2.8-13.2-7.8-23.4-13.7-31.3z" class="st9"/><path id="path24" d="M0 57.5v19.9c3.1 1.2 6.3 2.7 9.5 4.6 8.5 5.2 15 12.6 19.4 21.8v-31c-3.4-3-6.9-5.5-10.3-7.5-6.5-3.7-13-6.2-18.6-7.8z" class="st9"/><path id="path25" d="M35.6 69.9c4.3-11.3 10.6-21.1 18.9-29.4V0H35.6z" class="st9"/><path id="path26" d="M40.8 75.4c5.3 6.2 10.1 13.8 13.7 23.3V50.6C48.6 57.8 44 66.1 40.8 75.4z" class="st9"/><path id="path27" d="M100.7.0H61.3v34.5C73.1 25.2 86 20 96.9 17.2c1.8-.5 3.7.6 4.1 2.4.5 1.8-.6 3.6-2.4 4.1-11.4 2.9-25.3 8.6-37.2 19.7v31.8c2.9-6.3 6.7-11.7 11.4-16.4 9.4-9.3 21-14.1 30.5-16.6 1.8-.5 3.7.6 4.1 2.4.5 1.8-.6 3.6-2.4 4.1-4.7 1.2-10.1 3.1-15.3 6-19 10.3-28.2 28.4-28.2 55.2v4.8h39.3c7.8.0 14.1-6.3 14.1-14.1V14.1C114.7 6.3 108.4.0 100.7.0z" class="st9"/><path id="path28" d="M22 59.6c2.2 1.3 4.5 2.8 6.8 4.6V0H14.1C6.3.0.0 6.3.0 14.1v36.4c6.5 1.7 14.2 4.5 22 9.1z" class="st9"/><path id="path29" d="M5.4 87.5c-1.8-1.1-3.6-2-5.4-2.8v15.9c0 7.8 6.3 14.1 14.1 14.1h11.6c-3.6-12.2-10.4-21.3-20.3-27.2z" class="st9"/></g><g id="g30"><path id="path30" d="M201.7 109c-30.8.0-53.7-21.2-53.7-52.5.0-31.7 22.9-51.6 53.7-51.6 31 0 53.9 20 53.9 51.6-.1 31.3-23 52.5-53.9 52.5zm0-82.6c-16.7.0-28.2 12.8-28.2 30.1.0 17.9 11.6 30.7 28.2 30.7S230 74.4 230 56.6c0-17.3-11.6-30.2-28.3-30.2z" class="st9"/></g><g id="g32"><g id="g31"><path id="path31" d="M334.3 33.3c-4-5.2-11.4-8.5-17.6-8.5-6.2.0-13.8 2.1-13.8 9.9.0 6.6 5.9 8.7 15.2 11.6 13.4 4.3 30.7 10 30.7 29.7.0 22.7-18.3 32.9-37.8 32.9-14.1.0-28.3-5.2-37-14.2l15.6-15.9c4.7 6 13.5 10.5 21.3 10.5 7.3.0 13.7-2.8 13.7-10.7.0-7.5-7.5-9.9-20.5-14.1C291.6 60.3 279 53.9 279 36c0-21.9 19.8-31 38.2-31 11.2.0 23.7 4.2 32.4 12.1z" class="st9"/></g></g><g id="g34"><g id="g33"><path id="path32" d="m433.1 106.4-21.3-39.2h-8.1v39.2h-23.4V7.6H418c19 0 37.8 7.3 37.8 29.9.0 13.3-7.8 22.7-20.5 26.6l25.8 42.3zm-16.9-79.6h-12.7v23h11.3c7.7.0 17.3-2 17.3-12 0-9.2-8.7-11-15.9-11z" class="st9"/></g></g><g id="g35"><path id="path34" d="M522.2 106.4h-36.8V7.6H521c28 0 56.5 11.7 56.5 49.1.0 34.7-28.1 49.7-55.3 49.7zm-1.7-78.5h-11.9v57.8h11.3c17 0 32.8-7 32.8-29 0-22.2-15.8-28.8-32.2-28.8z" class="st9"/></g></g></g></svg></span><span class=navbar-brand__name>OSRD</span></a><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class=navbar-nav><li class=nav-item><a class=nav-link href=/fr/about/><span>À propos</span></a></li><li class=nav-item><a class="nav-link active" href=/fr/docs/><span>Documentation</span></a></li><li class=nav-item><a class=nav-link href=/fr/blog/><span>Blog</span></a></li><li class=nav-item><a class=nav-link href=/fr/join-us/><span>Rejoignez-nous</span></a></li><li class="nav-item dropdown d-none d-lg-block"><div class=dropdown><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>Français</a><ul class=dropdown-menu><li><a class=dropdown-item href=/en/docs/guides/deploy/docker-compose/>English</a></li></ul></div></li></ul></div><div class="d-none d-lg-block"><div class="td-search td-search--offline"><div class=td-search__icon></div><input type=search class="td-search__input form-control" placeholder=Rechercher aria-label=Rechercher autocomplete=off data-offline-search-index-json-src=/offline-search-index.ffca8728187ab2ba3bb2864dc4a6559c.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></div></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><div class=td-content><div class="pageinfo pageinfo-primary d-print-none"><p>Version imprimable multipages.
<a href=# onclick="return print(),!1">Cliquer ici pour imprimer</a>.</p><p><a href=/fr/docs/guides/deploy/docker-compose/>Retour à la version par défaut</a>.</p></div><h1 class=title>Docker Compose</h1><div class=lead>Utiliser docker compose pour un déploiement sur un seul nœud</div><ul></ul><div class=content><p>Le projet OSRD inclut un fichier docker-compose.yml conçu pour faciliter le déploiement d&rsquo;un environnement OSRD pleinement fonctionnel.
Exclusivement destiné à des fins de développement, cette configuration Docker Compose pourrait être adaptée pour des déploiements rapides sur un seul nœud.</p><div class="alert alert-warning" role=alert><h4 class=alert-heading>Avertissement</h4>Cette configuration est prévue seulement à des fins de développement.
Par exemple, aucune authentification n&rsquo;est prise en charge et le front-end est déployé en mode développement (reconstruit à la volée).
Si vous souhaitez déployer une version d&rsquo;OSRD dédiée à un environment de production, veuillez suivre le <a href=/fr/docs/guides/deploy/kubernetes/>déploiement via Kubernetes</a></div><h2 id=prérequis>Prérequis</h2><p>Avant de procéder au déploiement, assurez-vous que vous avez installé :</p><ul><li>Docker</li><li>Docker Compose</li></ul><h2 id=vue-densemble-de-la-configuration>Vue d&rsquo;ensemble de la configuration</h2><p>Le fichier <code>docker-compose.yml</code> définit les services suivants :</p><ol><li><strong>PostgreSQL</strong> : Une base de données PostgreSQL avec l&rsquo;extension PostGIS.</li><li><strong>Valkey</strong> : Un serveur Valkey pour le cache.</li><li><strong>Core</strong> : Le service central OSRD.</li><li><strong>Front</strong> : Le service front-end pour OSRD.</li><li><strong>Editoast</strong> : Un service OSRD responsable de diverses fonctions d&rsquo;édition.</li><li><strong>Gateway</strong> : Sert de passerelle pour les services OSRD.</li><li><strong>Wait-Healthy</strong> : Un service utilitaire pour s&rsquo;assurer que tous les services sont sains avant de procéder.</li></ol><p>Chaque service est configuré avec des contrôles de santé, des montages de volumes et les variables d&rsquo;environnement nécessaires.</p><h2 id=étapes-du-déploiement>Étapes du déploiement</h2><ol><li><strong>Cloner le dépôt</strong> : Tout d&rsquo;abord, clonez le dépôt OSRD sur votre machine locale.</li><li><strong>Configuration</strong> : La configuration par défaut nécessite le renseignement d&rsquo;une variable d&rsquo;environnement pour le service Editoast: ROOT_URL.
Il faut lui donner la valeur de l&rsquo;URL qui pointe vers le service Editoast par la gateway. Par exemple &ldquo;<a href=http://your-domain.com/api%22>http://your-domain.com/api"</a>.
Vous pouvez également ajuster d&rsquo;autres variables d&rsquo;environnement si nécessaire.</li><li><strong>Construire et exécuter</strong> : Naviguez vers le répertoire contenant <code>docker-compose.yml</code> et exécutez :</li></ol><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>docker-compose up --build
</span></span></code></pre></div><p>Cette commande construit les images et démarre les services définis dans le fichier Docker Compose.</p><h2 id=accès-aux-services>Accès aux services</h2><p>Bien que tous les services HTTP soient utilisés via la passerelle (<code>http://localhost:4000</code>), vous pouvez accéder directement à chaque service en utilisant leurs ports exposés :</p><ul><li><strong>PostgreSQL</strong> : Accessible sur <code>localhost:5432</code>.</li><li><strong>Valkey</strong> : Accessible sur <code>localhost:6379</code>.</li><li><strong>Service Core</strong> : Accessible sur <code>localhost:8080</code>.</li><li><strong>Front-End</strong> : Accessible sur <code>localhost:3000</code>.</li><li><strong>Editoast</strong> : Accessible sur <code>localhost:8090</code>.</li></ul><h2 id=notes-et-considérations>Notes et considérations</h2><ul><li>Cette configuration est conçue pour le développement et les déploiements rapides. Pour les environnements de production, des considérations supplémentaires en matière de sécurité, de scalabilité et de fiabilité doivent être abordées.</li><li>Assurez-vous que le <code>POSTGRES_PASSWORD</code> et d&rsquo;autres identifiants sensibles sont gérés en toute sécurité, en particulier dans les déploiements de production.</li></ul></div></div></main></div></div><footer class="td-footer row d-print-none"><div class=container-fluid><div class="row mx-md-2"><div class="td-footer__left col-6 col-sm-4 order-sm-1"></div><div class="td-footer__right col-6 col-sm-4 order-sm-3"><ul class=td-footer__links-list><li class=td-footer__links-item data-bs-toggle=tooltip title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/OpenRailAssociation/osrd aria-label=GitHub><i class="fab fa-github"></i></a></li></ul></div><div class="td-footer__center col-12 col-sm-4 py-2 order-sm-2"><span class=td-footer__copyright>&copy;
2025
<span class=td-footer__authors>Contributeur·ices à OSRD</span></span><span class=td-footer__all_rights_reserved>Tous droits réservés</span></div></div></div></footer></div><style>.markmap>svg{width:100%;height:300px}</style><script>window.markmap={autoLoader:{manual:!0,onReady(){const{autoLoader:e,builtInPlugins:t}=window.markmap;e.transformPlugins=t.filter(e=>e.name!=="prism")}}}</script><script src=https://cdn.jsdelivr.net/npm/markmap-autoloader></script><script src=/js/main.min.70982f4f1de53d56b47d6b66c1ed442a9653a5be8820e0ba651d5d17d9a9bbe1.js integrity="sha256-cJgvTx3lPVa0fWtmwe1EKpZTpb6IIOC6ZR1dF9mpu+E=" crossorigin=anonymous></script><script defer src=/js/click-to-copy.min.73478a7d4807698aed7e355eb23f9890ca18fea3158604c8471746d046702bad.js integrity="sha256-c0eKfUgHaYrtfjVesj+YkMoY/qMVhgTIRxdG0EZwK60=" crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script></body></html>